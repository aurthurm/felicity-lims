import{S as V,f as D,a0 as d,h as E,a7 as N,r as b,o as u,c as y,N as t,a as x,L as c,M as O,F,E as B,H as _,K as C,a5 as l,y as L,A as S,C as T,X as U,ad as $,Z as I,$ as j,_ as G}from"./index-628f1f8f.js";import{o as P,p as R,L as H,M as K}from"./microbiology.mutations-5c59feca.js";const Q={class:"space-y-6"},X={class:"rounded-md border border-border shadow-sm bg-card p-6"},Z={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-border"},z={class:"divide-y divide-border bg-background"},J={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},W={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Y={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ee=["onClick"],te={class:"text-xl font-semibold text-foreground"},oe={class:"grid grid-cols-2 gap-4"},se={class:"block"},ae={class:"block"},le=V({__name:"AbxFamily",setup(re){const k=I(()=>j(()=>import("./vue-multiselect.esm-c818a0fb.js"),["assets/vue-multiselect.esm-c818a0fb.js","assets/index-628f1f8f.js","assets/index-f2df9813.css"])),{withClientMutation:v,withClientQuery:g}=D();let r=d(!1),h=d(""),a=E({});const f=d(!0),i=d([]),w=d([]);N(()=>{g(P,{},"abxOrderAll").then(o=>{o&&(w.value=o)}),g(R,{},"abxFamilyAll").then(o=>{o&&(i.value=o)})});function A(o,e={}){f.value=o,r.value=!0,h.value=(o?"Create":"Edit")+" Family",o?Object.assign(a,{}):Object.assign(a,{...e})}function M(){const o={name:a.name,orderUid:a.order?.uid};f.value===!0&&v(H,{payload:o},"createAbxFamily").then(e=>{e&&i.value.unshift(e)}),f.value===!1&&v(K,{uid:a.uid,payload:o},"updateAbxFamily").then(e=>{if(e){const m=i.value.findIndex(n=>n.uid==e.uid);m>-1&&(i.value=[...i.value.map((n,p)=>p===m?e:n)])}}),r.value=!1}return(o,e)=>{const m=b("fel-button"),n=b("fel-heading"),p=b("fel-modal");return u(),y(F,null,[t("div",Q,[x(n,{title:"Families"},{default:c(()=>[x(m,{onClick:e[0]||(e[0]=s=>A(!0))},{default:c(()=>e[4]||(e[4]=[O("Add Family")])),_:1})]),_:1}),t("div",X,[t("div",Z,[t("table",q,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Order"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",z,[(u(!0),y(F,null,B(i.value,s=>(u(),y("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",J,_(s?.name),1),t("td",W,_(s?.order?.name),1),t("td",Y,[t("button",{onClick:ie=>A(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,ee)])]))),128))])])])])]),C(" Family Edit Form Modal "),l(r)?(u(),L(p,{key:0,onClose:e[3]||(e[3]=s=>$(r)?r.value=!1:r=!1),"content-width":"w-1/2"},{header:c(()=>[t("h3",te,_(l(h)),1)]),body:c(()=>[t("form",{onSubmit:S(M,["prevent"]),class:"space-y-6 p-4"},[t("div",oe,[t("label",se,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Family Name",-1)),T(t("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>l(a).name=s),placeholder:"Name ..."},null,512),[[U,l(a).name]])]),t("label",ae,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Order",-1)),x(l(k),{modelValue:l(a).order,"onUpdate:modelValue":e[2]||(e[2]=s=>l(a).order=s),options:w.value,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Family ",-1))],32)]),_:1})):C("v-if",!0)],64)}}});const me=G(le,[["__scopeId","data-v-4853c3ca"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxFamily.vue"]]);export{me as default};
