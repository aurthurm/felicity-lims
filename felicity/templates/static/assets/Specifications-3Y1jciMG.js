const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DApeomWQ.js","assets/index-CfJ_N7IC.css"])))=>i.map(i=>d[i]);
import{a0 as pe,f as ce,t as ge,a7 as E,a5 as be,h as fe,a1 as ye,a6 as we,_ as he,r as I,c as l,o as d,a as O,A as e,C as ve,E as i,N as V,P as _e,J as k,K as P,L as a,D as Me,F as u,a2 as x,a9 as B}from"./index-DApeomWQ.js";import{c as Re,d as c,a as g,u as Ee,b as m}from"./index.esm-Cx9agkcQ.js";import{M as Ve,N as ke}from"./analyses.mutations-Bu696l9I.js";import{u as We}from"./setup-HNpvekU2.js";import{u as Se}from"./analysis-BTUsl5OO.js";const Ue=pe({__name:"Specifications",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(W,{expose:r}){r();const S=ye(()=>we(()=>import("./index-DApeomWQ.js").then(n=>n.cl),__vite__mapDeps([0,1]))),t=Se(),y=We(),{withClientMutation:w}=ce(),b=W,{analysis:h}=ge(b);let o=E(!1),v=E("");const _=E(!0),f=E(null),U=Re({minReport:g().trim().nullable(),minWarn:c().nullable(),min:c().nullable(),max:c().nullable(),maxWarn:c().nullable(),maxReport:g().trim().nullable(),warnValues:g().trim().nullable(),warnReport:g().trim().nullable(),methodUid:g().trim().nullable(),gender:g().trim().nullable(),ageMin:c().nullable(),ageMax:c().nullable()}),{handleSubmit:A,resetForm:N,setValues:C}=Ee({validationSchema:U,initialValues:{minReport:"",minWarn:"",min:"",max:"",maxWarn:"",maxReport:"",warnValues:"",warnReport:"",methodUid:"",gender:"all",ageMin:"",ageMax:""}}),{value:L,errorMessage:q}=m("minReport"),{value:G,errorMessage:J}=m("minWarn"),{value:K,errorMessage:Y}=m("min"),{value:z,errorMessage:H}=m("max"),{value:Q,errorMessage:X}=m("maxWarn"),{value:Z,errorMessage:j}=m("maxReport"),{value:$,errorMessage:ee}=m("warnValues"),{value:re,errorMessage:te}=m("warnReport"),{value:oe,errorMessage:ne}=m("methodUid"),{value:se,errorMessage:ae}=m("gender"),{value:de,errorMessage:le}=m("ageMin"),{value:ie,errorMessage:ue}=m("ageMax");be(()=>b.analysisUid,(n,s)=>{}),y.fetchMethods();const M=fe(()=>y.getMethods),p=n=>{if(n===""||n===null||n===void 0)return null;const s=Number(n);return Number.isNaN(s)?null:s};function F(n){w(Ve,{payload:n},"createAnalysisSpecification").then(s=>t.addAnalysisSpecification(s))}function T(n){f.value&&w(ke,{uid:f.value,payload:n},"updateAnalysisSpecification").then(s=>t.updateAnalysisSpecification(s))}function me(n,s={}){_.value=n,o.value=!0,v.value=(n?"CREATE":"EDIT")+" ANALYSIS SPECIFICATION",n?(f.value=null,N({values:{minReport:"",minWarn:"",min:"",max:"",maxWarn:"",maxReport:"",warnValues:"",warnReport:"",methodUid:"",gender:"all",ageMin:"",ageMax:""}})):(f.value=s.uid??null,C({minReport:s.minReport??"",minWarn:s.minWarn??"",min:s.min??"",max:s.max??"",maxWarn:s.maxWarn??"",maxReport:s.maxReport??"",warnValues:s.warnValues??"",warnReport:s.warnReport??"",methodUid:s.methodUid??"",gender:s.gender??"all",ageMin:s.ageMin??"",ageMax:s.ageMax??""}))}const xe=A(n=>{const s=h?.value?.uid;if(!s)return;const R={analysisUid:s,minReport:n.minReport??null,minWarn:p(n.minWarn),min:p(n.min),max:p(n.max),maxWarn:p(n.maxWarn),maxReport:n.maxReport??null,warnValues:n.warnValues??null,warnReport:n.warnReport??null,gender:n.gender??null,ageMin:p(n.ageMin),ageMax:p(n.ageMax),methodUid:n.methodUid?n.methodUid:null};_.value===!0&&F(R),_.value===!1&&T(R),o.value=!1}),D={modal:S,analysisStore:t,setupStore:y,withClientMutation:w,props:b,analysis:h,get showModal(){return o},set showModal(n){o=n},get formTitle(){return v},set formTitle(n){v=n},formAction:_,currentUid:f,specificationSchema:U,handleSubmit:A,resetForm:N,setValues:C,minReport:L,minReportError:q,minWarn:G,minWarnError:J,min:K,minError:Y,max:z,maxError:H,maxWarn:Q,maxWarnError:X,maxReport:Z,maxReportError:j,warnValues:$,warnValuesError:ee,warnReport:re,warnReportError:te,methodUid:oe,methodError:ne,gender:se,genderError:ae,ageMin:de,ageMinError:le,ageMax:ie,ageMaxError:ue,methods:M,toNumberOrNull:p,addAnalysisSpecification:F,editAnalysisSpecification:T,FormManager:me,saveForm:xe,methodName:n=>{if(!n||!M.value)return"";const s=M.value.findIndex(R=>R.uid===n);return M.value[s]?.name||""}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),Ae={class:"overflow-x-auto mt-4"},Ne={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},Ce={class:"min-w-full fel-table"},Fe={class:"bg-card"},Te={class:"px-4 py-2 whitespace-nowrap border-b border-border"},De={class:"text-sm text-destructive"},Ie={class:"px-4 py-2 whitespace-nowrap border-b border-border"},Oe={class:"text-sm text-warning"},Pe={class:"px-4 py-2 whitespace-nowrap border-b border-border"},Be={class:"text-sm text-foreground"},Le={class:"px-4 py-2 whitespace-nowrap border-b border-border"},qe={class:"text-sm text-foreground"},Ge={class:"px-4 py-2 whitespace-nowrap border-b border-border"},Je={class:"text-sm text-warning"},Ke={class:"px-4 py-2 whitespace-nowrap border-b border-border"},Ye={class:"text-sm text-destructive"},ze={class:"px-4 py-2 whitespace-nowrap border-b border-border"},He={class:"text-sm text-foreground"},Qe={class:"px-4 py-2 whitespace-nowrap border-b border-border"},Xe={class:"text-sm text-foreground"},Ze={class:"px-4 py-2 whitespace-nowrap border-b border-border"},je={class:"text-sm text-foreground"},$e={class:"px-4 py-2 whitespace-nowrap border-b border-border"},er={class:"text-sm text-foreground"},rr={class:"px-4 py-2 whitespace-nowrap border-b border-border"},tr={class:"text-sm text-foreground"},or={class:"px-4 py-2 whitespace-nowrap border-b border-border"},nr={class:"text-sm text-foreground"},sr={class:"px-4 py-2 whitespace-nowrap text-right border-b border-border"},ar=["onClick"],dr={class:"text-lg font-bold text-foreground"},lr={class:"space-y-4"},ir={class:"grid grid-cols-6 gap-4"},ur={class:"space-y-2"},mr={key:0,class:"text-sm text-destructive"},xr={class:"space-y-2"},pr={key:0,class:"text-sm text-destructive"},cr={class:"space-y-2"},gr={key:0,class:"text-sm text-destructive"},br={class:"space-y-2"},fr={key:0,class:"text-sm text-destructive"},yr={class:"space-y-2"},wr={key:0,class:"text-sm text-destructive"},hr={class:"space-y-2"},vr={key:0,class:"text-sm text-destructive"},_r={class:"space-y-4"},Mr={class:"grid grid-cols-2 gap-4"},Rr={class:"space-y-2"},Er={key:0,class:"text-sm text-destructive"},Vr={class:"space-y-2"},kr={key:0,class:"text-sm text-destructive"},Wr={class:"space-y-4"},Sr={class:"grid grid-cols-4 gap-4"},Ur={class:"space-y-2"},Ar=["value"],Nr={key:0,class:"text-sm text-destructive"},Cr={class:"space-y-2"},Fr={key:0,class:"text-sm text-destructive"},Tr={class:"space-y-2"},Dr={key:0,class:"text-sm text-destructive"},Ir={class:"space-y-2"},Or={key:0,class:"text-sm text-destructive"};function Pr(W,r,S,t,y,w){const b=I("fel-button"),h=I("fel-heading");return d(),l(k,null,[O(h,{title:"Specifications"},{default:V(()=>[O(b,{onClick:r[0]||(r[0]=o=>t.FormManager(!0))},{default:V(()=>[...r[15]||(r[15]=[_e("Add Specification",-1)])]),_:1})]),_:1}),e("div",Ae,[e("div",Ne,[e("table",Ce,[r[16]||(r[16]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Min Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Min Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Max"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Max Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Max Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Warn Texts"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Text Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Method"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Gender"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Max"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",Fe,[(d(!0),l(k,null,P(t.analysis?.specifications,o=>(d(),l("tr",{key:o?.uid,class:"hover:bg-accent/50"},[e("td",Te,[e("div",De,a(o.minReport),1)]),e("td",Ie,[e("div",Oe,a(o.minWarn),1)]),e("td",Pe,[e("div",Be,a(o.min),1)]),e("td",Le,[e("div",qe,a(o.max),1)]),e("td",Ge,[e("div",Je,a(o.maxWarn),1)]),e("td",Ke,[e("div",Ye,a(o.maxReport),1)]),e("td",ze,[e("div",He,a(o.warnValues),1)]),e("td",Qe,[e("div",Xe,a(o.warnReport),1)]),e("td",Ze,[e("div",je,a(t.methodName(o?.methodUid)||""),1)]),e("td",$e,[e("div",er,a(o.gender),1)]),e("td",rr,[e("div",tr,a(o.ageMin),1)]),e("td",or,[e("div",nr,a(o.ageMax),1)]),e("td",sr,[e("button",{onClick:v=>t.FormManager(!1,o),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"},"Edit",8,ar)])]))),128))])])])]),t.showModal?(d(),ve(t.modal,{key:0,onClose:r[14]||(r[14]=o=>t.showModal=!1),contentWidth:"w-3/4"},{header:V(()=>[e("h3",dr,a(t.formTitle),1)]),body:V(()=>[e("form",{onSubmit:r[13]||(r[13]=Me((...o)=>t.saveForm&&t.saveForm(...o),["prevent"])),class:"p-6 space-y-6"},[e("div",lr,[r[23]||(r[23]=e("h4",{class:"text-lg font-semibold text-foreground"},"Numerical Results",-1)),r[24]||(r[24]=e("hr",{class:"border-border"},null,-1)),e("div",ir,[e("label",ur,[r[17]||(r[17]=e("span",{class:"text-sm font-medium text-destructive"},"Min Report",-1)),u(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[1]||(r[1]=o=>t.minReport=o),placeholder:"Value ..."},null,512),[[x,t.minReport]]),t.minReportError?(d(),l("p",mr,a(t.minReportError),1)):i("",!0)]),e("label",xr,[r[18]||(r[18]=e("span",{class:"text-sm font-medium text-warning"},"Min Warn",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[2]||(r[2]=o=>t.minWarn=o),placeholder:"Value ..."},null,512),[[x,t.minWarn]]),t.minWarnError?(d(),l("p",pr,a(t.minWarnError),1)):i("",!0)]),e("label",cr,[r[19]||(r[19]=e("span",{class:"text-sm font-medium text-foreground"},"Min",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[3]||(r[3]=o=>t.min=o),placeholder:"Value ..."},null,512),[[x,t.min]]),t.minError?(d(),l("p",gr,a(t.minError),1)):i("",!0)]),e("label",br,[r[20]||(r[20]=e("span",{class:"text-sm font-medium text-foreground"},"Max",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[4]||(r[4]=o=>t.max=o),placeholder:"Value ..."},null,512),[[x,t.max]]),t.maxError?(d(),l("p",fr,a(t.maxError),1)):i("",!0)]),e("label",yr,[r[21]||(r[21]=e("span",{class:"text-sm font-medium text-warning"},"Max Warn",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[5]||(r[5]=o=>t.maxWarn=o),placeholder:"Value ..."},null,512),[[x,t.maxWarn]]),t.maxWarnError?(d(),l("p",wr,a(t.maxWarnError),1)):i("",!0)]),e("label",hr,[r[22]||(r[22]=e("span",{class:"text-sm font-medium text-destructive"},"Max Report",-1)),u(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[6]||(r[6]=o=>t.maxReport=o),placeholder:"Value ..."},null,512),[[x,t.maxReport]]),t.maxReportError?(d(),l("p",vr,a(t.maxReportError),1)):i("",!0)])])]),e("div",_r,[r[27]||(r[27]=e("h4",{class:"text-lg font-semibold text-foreground"},"Textual Results",-1)),r[28]||(r[28]=e("hr",{class:"border-border"},null,-1)),e("div",Mr,[e("label",Rr,[r[25]||(r[25]=e("span",{class:"text-sm font-medium text-foreground"},"Textual Results (comma separated)",-1)),u(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[7]||(r[7]=o=>t.warnValues=o),placeholder:"Value ..."},null,512),[[x,t.warnValues]]),t.warnValuesError?(d(),l("p",Er,a(t.warnValuesError),1)):i("",!0)]),e("label",Vr,[r[26]||(r[26]=e("span",{class:"text-sm font-medium text-foreground"},"Report Message",-1)),u(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[8]||(r[8]=o=>t.warnReport=o),placeholder:"Value ..."},null,512),[[x,t.warnReport]]),t.warnReportError?(d(),l("p",kr,a(t.warnReportError),1)):i("",!0)])])]),e("div",Wr,[r[35]||(r[35]=e("h4",{class:"text-lg font-semibold text-foreground"},"Conditions if Any",-1)),r[36]||(r[36]=e("hr",{class:"border-border"},null,-1)),e("div",Sr,[e("label",Ur,[r[30]||(r[30]=e("span",{class:"text-sm font-medium text-foreground"},"Method",-1)),u(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[9]||(r[9]=o=>t.methodUid=o)},[r[29]||(r[29]=e("option",{value:""},"Select Method",-1)),(d(!0),l(k,null,P(t.methods,o=>(d(),l("option",{key:o?.uid,value:o.uid},a(o?.name),9,Ar))),128))],512),[[B,t.methodUid]]),t.methodError?(d(),l("p",Nr,a(t.methodError),1)):i("",!0)]),e("label",Cr,[r[32]||(r[32]=e("span",{class:"text-sm font-medium text-foreground"},"Gender",-1)),u(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[10]||(r[10]=o=>t.gender=o)},[...r[31]||(r[31]=[e("option",{value:"all"},"All",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1)])],512),[[B,t.gender]]),t.genderError?(d(),l("p",Fr,a(t.genderError),1)):i("",!0)]),e("label",Tr,[r[33]||(r[33]=e("span",{class:"text-sm font-medium text-foreground"},"Age Min",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[11]||(r[11]=o=>t.ageMin=o),placeholder:"Value ..."},null,512),[[x,t.ageMin]]),t.ageMinError?(d(),l("p",Dr,a(t.ageMinError),1)):i("",!0)]),e("label",Ir,[r[34]||(r[34]=e("span",{class:"text-sm font-medium text-foreground"},"Age Max",-1)),u(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":r[12]||(r[12]=o=>t.ageMax=o),placeholder:"Value ..."},null,512),[[x,t.ageMax]]),t.ageMaxError?(d(),l("p",Or,a(t.ageMaxError),1)):i("",!0)])])]),r[37]||(r[37]=e("div",{class:"pt-4"},[e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")],-1))],32)]),_:1})):i("",!0)],64)}const Yr=he(Ue,[["render",Pr],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/analyses/services/Specifications.vue"]]);export{Yr as default};
