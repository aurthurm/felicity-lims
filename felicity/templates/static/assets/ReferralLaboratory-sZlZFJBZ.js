const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Daoe3XS9.js","assets/index-C7Rn7ES8.css"])))=>i.map(i=>d[i]);
import{a0 as Q,f as W,a7 as y,h as X,a1 as Z,a6 as j,_ as $,r as M,c as d,o as a,A as e,C as ee,E as i,a as C,N as w,P as re,J as T,K as oe,L as l,D as te,F as u,a2 as b,a3 as U}from"./index-Daoe3XS9.js";import{c as se,f as V,a as g,u as le,b as f}from"./index.esm-BT7_X8h2.js";import{u as ne,b as ae,E as de}from"./shipment-Cdyqi3wm.js";const ie=Q({__name:"ReferralLaboratory",setup(N,{expose:r}){r();const k=Z(()=>j(()=>import("./index-Daoe3XS9.js").then(s=>s.ck),__vite__mapDeps([0,1]))),o=ne(),{withClientMutation:x}=W();let c=y(!1),p=y("");const m=y(!0),t=y(null),v=se({name:g().trim().required("Laboratory name is required"),code:g().trim().nullable(),url:g().trim().nullable().url("Enter a valid URL"),username:g().trim().nullable(),password:g().trim().nullable(),isReferral:V().default(!1),isReference:V().default(!1)}),{handleSubmit:_,resetForm:h,setValues:L}=le({validationSchema:v,initialValues:{name:"",code:"",url:"",username:"",password:"",isReferral:!1,isReference:!1}}),{value:F,errorMessage:A}=f("name"),{value:S,errorMessage:D}=f("code"),{value:I,errorMessage:O}=f("url"),{value:P,errorMessage:B}=f("username"),{value:Y,errorMessage:q}=f("password"),{value:H}=f("isReferral"),{value:J}=f("isReference");o.fetchReferralLaboratories();const K=X(()=>o.getReferalLaboratories);function z(s,n={}){m.value=s,c.value=!0,p.value=(s?"CREATE":"EDIT")+" REFERRAL LABORATORY",s?(t.value=null,h({values:{name:"",code:"",url:"",username:"",password:"",isReferral:!1,isReference:!1}})):(t.value=n.uid??null,L({name:n.name??"",code:n.code??"",url:n.url??"",username:n.username??"",password:n.password??"",isReferral:n.isReferral??!1,isReference:n.isReference??!1}))}const G=_(s=>{const n={name:s.name,code:s.code??null,url:s.url??null,username:s.username??null,password:s.password??null,isReferral:s.isReferral,isReference:s.isReference};m.value===!0&&x(ae,{payload:n},"createReferralLaboratory").then(R=>o.addReferralLaboratory(R)),m.value===!1&&t.value&&x(de,{uid:t.value,payload:n},"updateReferralLaboratory").then(R=>o.updateReferralLaboratory(R)),c.value=!1}),E={modal:k,shipmentStore:o,withClientMutation:x,get showModal(){return c},set showModal(s){c=s},get formTitle(){return p},set formTitle(s){p=s},formAction:m,currentUid:t,referralLabSchema:v,handleSubmit:_,resetForm:h,setValues:L,name:F,nameError:A,code:S,codeError:D,url:I,urlError:O,username:P,usernameError:B,password:Y,passwordError:q,isReferral:H,isReference:J,referralLaboratories:K,FormManager:z,saveForm:G};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),ue={class:"overflow-x-auto mt-4"},fe={class:"align-middle inline-block min-w-full rounded-lg shadow-md bg-card p-6"},me={class:"min-w-full fel-table"},ce={class:"bg-background divide-y divide-border"},pe={class:"px-3 py-2 text-sm text-foreground wrap-break-word"},be={class:"px-3 py-2 text-sm text-foreground wrap-break-word"},ge={class:"px-3 py-2 text-sm text-foreground wrap-break-word"},xe={class:"px-3 py-2 text-sm text-foreground"},ye={class:"px-3 py-2 text-sm text-foreground"},we={class:"px-3 py-2 text-sm text-foreground"},ve={class:"px-3 py-2 text-sm text-foreground"},Re={class:"px-3 py-2 text-right text-sm"},ke=["onClick"],_e={key:0},he={class:"text-lg font-semibold text-card-foreground"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ee={class:"block col-span-1"},Me={key:0,class:"mt-1 text-sm text-destructive"},Ce={class:"block col-span-1"},Te={key:0,class:"mt-1 text-sm text-destructive"},Ue={class:"block col-span-1 md:col-span-2"},Ve={key:0,class:"mt-1 text-sm text-destructive"},Ne={class:"block col-span-1"},Fe={key:0,class:"mt-1 text-sm text-destructive"},Ae={class:"block col-span-1"},Se={key:0,class:"mt-1 text-sm text-destructive"},De={for:"isReferralToggle",class:"flex items-center cursor-pointer col-span-1"},Ie={class:"relative"},Oe={for:"isReferenceToggle",class:"flex items-center cursor-pointer col-span-1"},Pe={class:"relative"};function Be(N,r,k,o,x,c){const p=M("fel-button"),m=M("fel-heading");return a(),d(T,null,[e("div",null,[C(m,{title:"Referral Labs"},{default:w(()=>[C(p,{onClick:r[0]||(r[0]=t=>o.FormManager(!0))},{default:w(()=>[...r[10]||(r[10]=[re("Add Referral Laboratory",-1)])]),_:1})]),_:1}),e("div",ue,[e("div",fe,[e("table",me,[r[12]||(r[12]=e("thead",{class:"bg-muted"},[e("tr",null,[e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Name"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Code"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"URL"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Is Referral"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Is Reference"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Has Username"),e("th",{class:"px-3 py-3 border-b border-border text-left text-sm font-medium text-muted-foreground tracking-wider"},"Has Password"),e("th",{class:"px-3 py-3 border-b border-border"})])],-1)),e("tbody",ce,[(a(!0),d(T,null,oe(o.referralLaboratories,t=>(a(),d("tr",{key:t?.uid,class:"hover:bg-muted/50 transition-colors"},[e("td",pe,l(t?.name),1),e("td",be,l(t?.code),1),e("td",ge,l(t?.url),1),e("td",xe,l(t?.isReferral?"Yes":"No"),1),e("td",ye,l(t?.isReference?"Yes":"No"),1),e("td",we,l(t?.username?"Yes":"No"),1),e("td",ve,l(t?.password?"Yes":"No"),1),e("td",Re,[e("button",{onClick:v=>o.FormManager(!1,t),class:"rounded-md border border-secondary px-2 py-1 text-xs font-medium text-secondary transition-colors hover:bg-secondary hover:text-secondary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1"}," Edit ",8,ke)])]))),128)),!o.referralLaboratories||o.referralLaboratories.length===0?(a(),d("tr",_e,[...r[11]||(r[11]=[e("td",{colspan:8,class:"px-3 py-4 text-center text-sm text-muted-foreground"}," No referral laboratories found. ",-1)])])):i("",!0)])])])])]),o.showModal?(a(),ee(o.modal,{key:0,onClose:r[9]||(r[9]=t=>o.showModal=!1)},{header:w(()=>[e("h3",he,l(o.formTitle),1)]),body:w(()=>[e("form",{onSubmit:r[8]||(r[8]=te((...t)=>o.saveForm&&o.saveForm(...t),["prevent"])),class:"p-4 space-y-6"},[e("div",Le,[e("label",Ee,[r[13]||(r[13]=e("span",{class:"text-sm font-medium text-foreground"},"Laboratory Name",-1)),u(e("input",{class:"mt-1 block w-full rounded-lg border border-input bg-background px-3 py-2 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring","onUpdate:modelValue":r[1]||(r[1]=t=>o.name=t),placeholder:"Name ..."},null,512),[[b,o.name]]),o.nameError?(a(),d("p",Me,l(o.nameError),1)):i("",!0)]),e("label",Ce,[r[14]||(r[14]=e("span",{class:"text-sm font-medium text-foreground"},"Code",-1)),u(e("input",{class:"mt-1 block w-full rounded-lg border border-input bg-background px-3 py-2 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring","onUpdate:modelValue":r[2]||(r[2]=t=>o.code=t),placeholder:"Code ..."},null,512),[[b,o.code]]),o.codeError?(a(),d("p",Te,l(o.codeError),1)):i("",!0)]),e("label",Ue,[r[15]||(r[15]=e("span",{class:"text-sm font-medium text-foreground"},"URL",-1)),u(e("input",{class:"mt-1 block w-full rounded-lg border border-input bg-background px-3 py-2 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring","onUpdate:modelValue":r[3]||(r[3]=t=>o.url=t),placeholder:"https://example.com ...",type:"url"},null,512),[[b,o.url]]),o.urlError?(a(),d("p",Ve,l(o.urlError),1)):i("",!0)]),e("label",Ne,[r[16]||(r[16]=e("span",{class:"text-sm font-medium text-foreground"},"Username",-1)),u(e("input",{class:"mt-1 block w-full rounded-lg border border-input bg-background px-3 py-2 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring","onUpdate:modelValue":r[4]||(r[4]=t=>o.username=t),placeholder:"Optional username ...",autocomplete:"off"},null,512),[[b,o.username]]),o.usernameError?(a(),d("p",Fe,l(o.usernameError),1)):i("",!0)]),e("label",Ae,[r[17]||(r[17]=e("span",{class:"text-sm font-medium text-foreground"},"Password",-1)),u(e("input",{class:"mt-1 block w-full rounded-lg border border-input bg-background px-3 py-2 text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring","onUpdate:modelValue":r[5]||(r[5]=t=>o.password=t),placeholder:"Optional password ...",type:"password",autocomplete:"new-password"},null,512),[[b,o.password]]),o.passwordError?(a(),d("p",Se,l(o.passwordError),1)):i("",!0)]),e("label",De,[e("div",Ie,[u(e("input",{type:"checkbox",id:"isReferralToggle","onUpdate:modelValue":r[6]||(r[6]=t=>o.isReferral=t),class:"sr-only peer"},null,512),[[U,o.isReferral]]),r[18]||(r[18]=e("div",{class:"block h-6 w-10 rounded-full bg-muted peer-checked:bg-primary transition"},null,-1)),r[19]||(r[19]=e("div",{class:"absolute left-1 top-1 h-4 w-4 rounded-full bg-background border border-border transition-transform peer-checked:translate-x-full"},null,-1))]),r[20]||(r[20]=e("span",{class:"ml-3 text-sm font-medium text-foreground"},"Is Referral",-1))]),e("label",Oe,[e("div",Pe,[u(e("input",{type:"checkbox",id:"isReferenceToggle","onUpdate:modelValue":r[7]||(r[7]=t=>o.isReference=t),class:"sr-only peer"},null,512),[[U,o.isReference]]),r[21]||(r[21]=e("div",{class:"block h-6 w-10 rounded-full bg-muted peer-checked:bg-primary transition"},null,-1)),r[22]||(r[22]=e("div",{class:"absolute left-1 top-1 h-4 w-4 rounded-full bg-background border border-border transition-transform peer-checked:translate-x-full"},null,-1))]),r[23]||(r[23]=e("span",{class:"ml-3 text-sm font-medium text-foreground"},"Is Reference",-1))])]),r[24]||(r[24]=e("hr",{class:"border-t border-border"},null,-1)),r[25]||(r[25]=e("button",{type:"submit",class:"w-full rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"}," Save Laboratory ",-1))],32)]),_:1})):i("",!0)],64)}const Je=$(ie,[["render",Be],["__scopeId","data-v-f1975450"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/shipment/ReferralLaboratory.vue"]]);export{Je as default};
