import{d as ee,bp as te,L as se,aO as le,aL as oe,r as ie,o as u,c as r,b as e,g as O,f as s,i as c,t as o,e as n,v as _,ac as v,F as w,p as f,E as A,w as ae,j as ne,_ as de,O as ue,k as re}from"./index-2a6c9271.js";import ce from"./vue-multiselect.esm-82622b05.js";import{c as T,a as m,d as g,f as Q,u as pe,b as p}from"./array-52a0b0d0.js";import{l as me}from"./inventory.mutations-6db1ac57.js";const _e=["inert"],ve={class:"flex items-center whitespace-nowrap w-full"},we=e("span",{class:"text-gray-700 w-4/12"},"Stock Item",-1),fe={class:"w-full"},he={class:"text-orange-600 w-4/12"},Ue={class:"flex items-center whitespace-nowrap w-full"},ge=e("span",{class:"text-gray-700 w-4/12"},"Name",-1),ye={class:"w-full"},xe={class:"text-orange-600 w-4/12"},be={class:"flex items-center whitespace-nowrap w-full"},ke=e("span",{class:"text-gray-700 w-4/12"},"Department",-1),Se=e("option",{value:"null"},null,-1),Re=["value"],qe={class:"text-orange-600 w-4/12"},Ve={class:"flex items-center whitespace-nowrap w-full"},De=e("span",{class:"text-gray-700 w-4/12"},"Category",-1),ze=e("option",{value:"null"},null,-1),Ne=["value"],Ie={class:"text-orange-600 w-4/12"},Be={class:"flex items-center whitespace-nowrap w-full"},Pe=e("span",{class:"text-gray-700 w-4/12"},"Hazard",-1),Fe=e("option",{value:"null"},null,-1),Le=["value"],Ce={class:"text-orange-600 w-4/12"},Ee={class:"flex items-center whitespace-nowrap w-full"},Me=e("span",{class:"text-gray-700 w-4/12"},"Store Room",-1),Oe=e("option",{value:"null"},null,-1),Ae=["value"],Te={class:"text-orange-600 w-4/12"},Qe={class:"flex items-center whitespace-nowrap w-full"},$e=e("span",{class:"text-gray-700 w-4/12"},"Supplier",-1),je=e("option",{value:"null"},null,-1),He=["value"],Ke={class:"text-orange-600 w-4/12"},Ge={class:"flex items-center whitespace-nowrap w-full"},Je=e("span",{class:"text-gray-700 w-4/12"},"Lot Number",-1),We={class:"w-full"},Xe={class:"text-orange-600 w-4/12"},Ye={class:"flex items-center whitespace-nowrap w-full"},Ze=e("span",{class:"text-gray-700 w-4/12"},"Batch",-1),et={class:"w-full"},tt={class:"text-orange-600 w-4/12"},st={class:"flex items-center whitespace-nowrap w-full"},lt=e("span",{class:"text-gray-700 w-4/12"},"Size",-1),ot={class:"w-full"},it={class:"text-orange-600 w-4/12"},at={class:"flex items-center whitespace-nowrap w-full"},nt=e("span",{class:"text-gray-700 w-4/12"},"Unit",-1),dt=e("option",{value:"null"},null,-1),ut=["value"],rt={class:"text-orange-600 w-4/12"},ct={class:"flex items-center whitespace-nowrap w-full"},pt=e("span",{class:"text-gray-700 w-4/12"},"Packaging",-1),mt=e("option",{value:"null"},null,-1),_t=["value"],vt={class:"text-orange-600 w-4/12"},wt={class:"flex items-center whitespace-nowrap w-full"},ft=e("span",{class:"text-gray-700 w-4/12"},"Quantity Received",-1),ht={class:"w-full"},Ut={class:"text-orange-600 w-4/12"},gt={class:"flex items-center whitespace-nowrap w-full"},yt=e("span",{class:"text-gray-700 w-4/12"},"Price ",-1),xt={class:"w-full"},bt={class:"text-orange-600 w-4/12"},kt={class:"flex items-center whitespace-nowrap w-full"},St=e("span",{class:"text-gray-700 w-4/12"},"Received Date",-1),Rt={class:"w-full"},qt={class:"text-orange-600 w-4/12"},Vt={class:"flex items-center whitespace-nowrap w-full"},Dt=e("span",{class:"text-gray-700 w-4/12"},"Expiry Date",-1),zt={class:"w-full"},Nt={class:"text-orange-600 w-4/12"},It={class:"flex items-center whitespace-nowrap w-full"},Bt=e("span",{class:"text-gray-700 w-4/12"},"Received By",-1),Pt=e("option",{value:"null"},null,-1),Ft=["value"],Lt={class:"text-orange-600 w-4/12"},Ct=e("hr",{class:"my-4"},null,-1),Et={type:"submit",class:"-mb-4 w-1/5 border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"},Mt=ee({__name:"StockProductForm",props:{product:Object},emits:["close"],setup($,{emit:j}){const H=ne(()=>de(()=>import("./LoadingMessage-72d34fcf.js"),["assets/LoadingMessage-72d34fcf.js","assets/index-2a6c9271.js","assets/index-88806377.css"])),a=$,K=j,h=te(),E=se(),G=le(),J=oe(),{withClientMutation:W}=ue(),U=ie(!1),X=T({uid:m(),name:m().nullable(),stockItem:T().required("StockItem is required"),departmentUid:m().nullable(),supplierUid:m().required(),categoryUid:m().required(),hazardUid:m().required("Hazard type is required"),storeRoomUid:m().required("Store room is required"),lotNumber:m().required(),batch:m().required(),size:g().required(),unitUid:m().required(),packagingUid:m().required(),price:g().nullable(),quantityReceived:g().required("Quantity received is required"),remaining:g().nullable(),dateReceived:Q().required("Date received is required"),expiryDate:Q().required("Date expiring is required"),receivedByUid:m().required("Receiver is required")}),{handleSubmit:Y,errors:d}=pe({validationSchema:X,initialValues:{uid:a.product?.uid,name:a.product?.name,stockItem:a.product?.stockItem,departmentUid:a.product?.departmentUid,supplierUid:a.product?.supplierUid,categoryUid:a.product?.categoryUid,hazardUid:a.product?.hazardUid,storeRoomUid:a.product?.storeRoomUid,lotNumber:a.product?.lotNumber,batch:a.product?.batch,size:a.product?.size,unitUid:a.product?.unitUid,packagingUid:a.product?.packagingUid,price:a.product?.price,quantityReceived:a.product?.quantityReceived,expiryDate:a.product?.expiryDate,dateReceived:a.product?.dateReceived,receivedByUid:a.product?.receivedByUid}}),{value:y}=p("name"),{value:x}=p("stockItem"),{value:b}=p("departmentUid"),{value:k}=p("supplierUid"),{value:S}=p("categoryUid"),{value:R}=p("hazardUid"),{value:q}=p("storeRoomUid"),{value:V}=p("lotNumber"),{value:D}=p("batch"),{value:z}=p("size"),{value:N}=p("unitUid"),{value:I}=p("packagingUid"),{value:B}=p("price"),{value:P}=p("quantityReceived"),{value:F}=p("dateReceived"),{value:L}=p("expiryDate"),{value:C}=p("receivedByUid"),M=Y(i=>{i?.uid||Z(i)});function Z(i){U.value=!0,W(me,{payload:{name:i.name,stockItemUid:i.stockItem.uid,departmentUid:i.departmentUid,supplierUid:i.supplierUid,categoryUid:i.categoryUid,hazardUid:i.hazardUid,storeRoomUid:i.storeRoomUid,lotNumber:i.lotNumber,batch:i.batch,size:i.size,unitUid:i.unitUid,packagingUid:i.packagingUid,price:i.price,quantityReceived:i.quantityReceived,dateReceived:i.dateReceived,expiryDate:i.expiryDate,receivedByUid:i.receivedByUid}},"createStockProduct").then(l=>{h.addStockProduct(l)}).finally(()=>{U.value=!1,K("close")})}return(i,l)=>(u(),r("form",{onSubmit:l[17]||(l[17]=ae((...t)=>s(M)&&s(M)(...t),["prevent"])),class:"rounded-sm py-2",autocomplete:"off",inert:U.value},[e("label",ve,[we,e("div",fe,[O(s(ce),{placeholder:"Select a Stock Item",modelValue:s(x),"onUpdate:modelValue":l[0]||(l[0]=t=>c(x)?x.value=t:null),options:s(h).stockItems,searchable:!0,label:"name","track-by":"uid"},null,8,["modelValue","options"]),e("div",he,o(s(d).stockItem),1)])]),e("label",Ue,[ge,e("div",ye,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[1]||(l[1]=t=>c(y)?y.value=t:null),placeholder:"Product Name..."},null,512),[[_,s(y)]]),e("div",xe,o(s(d).name),1)])]),e("label",be,[ke,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[2]||(l[2]=t=>c(b)?b.value=t:null)},[Se,(u(!0),r(w,null,f(s(E).departments,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Re))),128))],512),[[v,s(b)]])]),e("div",qe,o(s(d).departmentUid),1),e("label",Ve,[De,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[3]||(l[3]=t=>c(S)?S.value=t:null)},[ze,(u(!0),r(w,null,f(s(h).categories,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Ne))),128))],512),[[v,s(S)]])]),e("div",Ie,o(s(d).categoryUid),1),e("label",Be,[Pe,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[4]||(l[4]=t=>c(R)?R.value=t:null)},[Fe,(u(!0),r(w,null,f(s(h).hazards,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Le))),128))],512),[[v,s(R)]])]),e("div",Ce,o(s(d).hazardUid),1),e("label",Ee,[Me,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[5]||(l[5]=t=>c(q)?q.value=t:null)},[Oe,(u(!0),r(w,null,f(s(G).storeRooms,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Ae))),128))],512),[[v,s(q)]])]),e("div",Te,o(s(d).storeRoomUid),1),e("label",Qe,[$e,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[6]||(l[6]=t=>c(k)?k.value=t:null)},[je,(u(!0),r(w,null,f(s(E).suppliers,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,He))),128))],512),[[v,s(k)]])]),e("div",Ke,o(s(d).supplierUid),1),e("label",Ge,[Je,e("div",We,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[7]||(l[7]=t=>c(V)?V.value=t:null),placeholder:"Lot Number..."},null,512),[[_,s(V)]]),e("div",Xe,o(s(d).lotNumber),1)])]),e("label",Ye,[Ze,e("div",et,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[8]||(l[8]=t=>c(D)?D.value=t:null),placeholder:"Batch Number..."},null,512),[[_,s(D)]]),e("div",tt,o(s(d).batch),1)])]),e("label",st,[lt,e("div",ot,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[9]||(l[9]=t=>c(z)?z.value=t:null),placeholder:"Size..."},null,512),[[_,s(z)]]),e("div",it,o(s(d).size),1)])]),e("label",at,[nt,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[10]||(l[10]=t=>c(N)?N.value=t:null)},[dt,(u(!0),r(w,null,f(s(h).units,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,ut))),128))],512),[[v,s(N)]])]),e("div",rt,o(s(d).unitUid),1),e("label",ct,[pt,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[11]||(l[11]=t=>c(I)?I.value=t:null)},[mt,(u(!0),r(w,null,f(s(h).packages,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,_t))),128))],512),[[v,s(I)]])]),e("div",vt,o(s(d).packagingUid),1),e("label",wt,[ft,e("div",ht,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[12]||(l[12]=t=>c(P)?P.value=t:null),placeholder:"Quantity Received..."},null,512),[[_,s(P)]]),e("div",Ut,o(s(d).quantityReceived),1)])]),e("label",gt,[yt,e("div",xt,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[13]||(l[13]=t=>c(B)?B.value=t:null),placeholder:"Price..."},null,512),[[_,s(B)]]),e("div",bt,o(s(d).price),1)])]),e("label",kt,[St,e("div",Rt,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[14]||(l[14]=t=>c(F)?F.value=t:null),placeholder:"Received Date"},null,512),[[_,s(F)]]),e("div",qt,o(s(d).dateReceived),1)])]),e("label",Vt,[Dt,e("div",zt,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[15]||(l[15]=t=>c(L)?L.value=t:null),placeholder:"Expiry Date"},null,512),[[_,s(L)]]),e("div",Nt,o(s(d).expiryDate),1)])]),e("label",It,[Bt,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[16]||(l[16]=t=>c(C)?C.value=t:null)},[Pt,(u(!0),r(w,null,f(s(J).users,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.firstName)+" "+o(t.lastName),9,Ft))),128))],512),[[v,s(C)]])]),e("div",Lt,o(s(d).receivedByUid),1),Ct,n(e("button",Et," Save ",512),[[A,!U.value]]),n(O(s(H),{message:"Adding Inventory ..."},null,512),[[A,U.value]])],40,_e))}}),$t=re(Mt,[["__file","/home/aurthur/Documents/Development/felicity-lims/webapp/views/inventory/StockProductForm.vue"]]);export{$t as default};
