import{V as G,f as N,a7 as $,a1 as l,a8 as q,h as R,W as L,r as P,o as u,c as g,L as d,O as e,a as j,a6 as r,J as c,F as z,H,a4 as I,z as _,M as w,C as O,N as J,D as B,Y as k,ae as C,$ as Q,a0 as W,_ as Y}from"./index-0a787601.js";import{a as K,b as X,c as Z}from"./grind.queries-ac8df6fa.js";import{r as ee,m as oe}from"./index-de8282ff.js";import{r as te}from"./ArrowLeftIcon-d2ae8030.js";const re={class:"bg-background rounded-lg shadow-sm border border-border p-6 space-y-6"},se={class:"flex items-center space-x-4"},ae={class:"flex items-center space-x-4"},ne={class:"text-xl text-foreground"},de={class:"space-y-4"},ie={class:"border-t border-b border-border py-4"},le={class:"text-muted-foreground italic"},ue={class:"space-y-4"},ce={class:"flex flex-wrap items-center gap-2"},me={class:"flex flex-wrap gap-2"},fe=["onClick","onDblclick"],pe={class:"text-lg font-semibold text-foreground"},be={class:"flex justify-end space-x-3"},ge={type:"submit",class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"},ve=G({__name:"Scheme",setup(xe){const D=Q(()=>W(()=>import("./Board-67681c52.js"),["assets/Board-67681c52.js","assets/index-0a787601.js","assets/index-8412b2a5.css","assets/grind.queries-ac8df6fa.js","assets/Board-7e663929.css"])),{withClientMutation:v,withClientQuery:S}=N(),m=$(),i=l();q(async()=>{if(await x(),m.query.board){const t=i.value?.boards?.find(o=>o.uid===m.query.board);t&&y(t)}});function x(t="cache-first"){return S(K,{uid:m.params.schemeUid},"grindSchemeByUid",t).then(o=>{i.value=o})}let f=l(!1),a=l(!1),U=l(!1),b=l(""),n=R({});const F=()=>{f.value=!0,a.value=!0,b.value="Create Board",ee(n)},V=()=>{a.value=!1,f.value?v(X,{payload:{...n,schemeUid:m.params.schemeUid}},"createGrindBoard").then(t=>{i.value.boards||(i.value.boards=[]),i.value.boards.push(t)}):v(Z,{uid:n.uid,payload:{title:n.title,description:n.description}},"updateGrindBoard").then(()=>x("network-only")),f.value=!1},E=t=>{f.value=!1,oe(n,t,!0),b.value="Update Board",a.value=!0};let p=l();const y=t=>{p.value=t,h.push({query:{board:t.uid}})},h=L();function M(){h.back()}return(t,o)=>{const T=P("fel-modal");return u(),g("div",re,[d(" Header "),e("div",se,[e("button",{onClick:M,class:"p-1 text-muted-foreground hover:text-foreground transition-colors duration-200"},[j(r(te),{class:"w-5 h-5"})]),e("div",ae,[o[4]||(o[4]=e("h1",{class:"text-2xl font-bold text-foreground"},"Project Title:",-1)),e("span",ne,c(i.value?.title),1)])]),d(" Description "),e("div",de,[e("div",ie,[e("p",le,c(i.value?.description),1)])]),d(" Boards Section "),e("div",ue,[o[5]||(o[5]=e("h2",{class:"text-xl font-semibold text-foreground"},"Boards",-1)),e("div",ce,[e("div",me,[(u(!0),g(z,null,H(i.value?.boards,s=>(u(),g("button",{key:s.uid,class:I(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[r(p)?.uid===s.uid?"bg-primary text-primary-foreground border-transparent":"bg-muted text-foreground border border-border hover:bg-muted/80"]]),onClick:A=>y(s),onDblclick:A=>E(s)},c(s.title),43,fe))),128))]),e("button",{onClick:F,class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," + Board ")])]),d(" Selected Board "),r(p)?(u(),_(r(D),{key:0,board:r(p)},null,8,["board"])):d("v-if",!0),d(" Create/Edit Board Modal "),r(a)?(u(),_(T,{key:1,onClose:o[3]||(o[3]=s=>C(a)?a.value=!1:a=!1),"content-width":"w-full max-w-2xl"},{header:w(()=>[e("h3",pe,c(r(b)),1)]),body:w(()=>[e("form",{onSubmit:O(V,["prevent"]),class:"space-y-6"},[d(" Scheme Title "),e("div",null,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-foreground mb-1",for:"title"},[J(" Scheme Title "),e("span",{class:"text-destructive"},"*")],-1)),B(e("input",{id:"title","onUpdate:modelValue":o[0]||(o[0]=s=>r(n).title=s),type:"text",required:"",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme title"},null,512),[[k,r(n).title]])]),d(" Description "),e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-foreground mb-1",for:"description"}," Description ",-1)),B(e("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=s=>r(n).description=s),rows:"3",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme description"},null,512),[[k,r(n).description]])]),d(" Submit button "),e("div",be,[e("button",{type:"button",onClick:o[2]||(o[2]=s=>C(a)?a.value=!1:a=!1),class:"px-4 py-2 text-sm font-medium text-foreground bg-background border border-border rounded-md shadow-sm hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," Cancel "),e("button",ge,c(r(U)?"Create":"Update"),1)])],32)]),_:1})):d("v-if",!0)])}}});const Be=Y(ve,[["__scopeId","data-v-be0cddfa"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{Be as default};
