import{S as j,f as B,a0 as f,h as F,i as y,r as x,o as d,c as i,N as t,a as I,L as b,M as $,F as p,E as g,H as l,a5 as s,y as L,A as R,C as m,X as v,a2 as k,ac as K,K as O,_ as H}from"./index-8d0a01b3.js";import{c as X,d as Y}from"./instrument.mutations-e7148a36.js";import{u as q}from"./user-157f78e9.js";import{u as z}from"./setup-8486ed9e.js";import"./_queries-5236cda4.js";const G={class:"space-y-6"},J={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},P={class:"min-w-full divide-y divide-border"},Q={class:"bg-background divide-y divide-border"},W={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},Z={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},ee={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},te={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},re={class:"px-4 py-2 whitespace-nowrap text-sm text-right"},oe=["onClick"],se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-2 md:col-span-2"},ue={class:"space-y-2"},de={class:"space-y-2"},ie=["value"],le={class:"space-y-2"},ae=["value"],me={class:"space-y-2"},pe=["value"],ce={class:"space-y-2 md:col-span-2"},fe={class:"flex justify-end pt-6"},ye={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},ge=j({__name:"Instruments",setup(xe){q();const n=z(),{withClientMutation:w}=B();f("view");let a=f(!1),U=f("");const c=f(!0);let o=F({});n.fetchInstrumentTypes();const h=y(()=>n.getInstrumentTypes);n.fetchInstruments();const T=y(()=>n.getInstruments);n.fetchManufacturers();const S=y(()=>n.getManufacturers);n.fetchSuppliers();const E=y(()=>n.getSuppliers);function C(){const u={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};w(X,{payload:u},"createInstrument").then(e=>n.addInstrument(e))}function M(){const u={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};w(Y,{uid:o.uid,payload:u},"updateInstrument").then(e=>n.updateInstrument(e))}function _(u,e={}){c.value=u,a.value=!0,U.value=(u?"CREATE":"EDIT")+" ANALYSES INSTRUMENT",u?Object.assign(o,{}):Object.assign(o,{...e})}function N(){c.value===!0&&C(),c.value===!1&&M(),a.value=!1}return(u,e)=>{const V=x("fel-button"),A=x("fel-heading"),D=x("fel-modal");return d(),i(p,null,[t("div",G,[I(A,{title:"Instruments"},{default:b(()=>[I(V,{onClick:e[0]||(e[0]=r=>_(!0))},{default:b(()=>e[9]||(e[9]=[$(" Add Instrument")])),_:1})]),_:1}),t("div",J,[t("table",P,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Name"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Type"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Manufacturer"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Supplier"),t("th",{class:"px-4 py-2 text-right text-sm font-medium text-muted-foreground tracking-wider"},"Actions")])],-1)),t("tbody",Q,[(d(!0),i(p,null,g(T.value,r=>(d(),i("tr",{key:r?.uid,class:"hover:bg-muted/50"},[t("td",W,l(r?.name),1),t("td",Z,l(r?.instrumentType?.name),1),t("td",ee,l(r?.manufacturer?.name),1),t("td",te,l(r?.supplier?.name),1),t("td",re,[t("button",{onClick:be=>_(!1,r),class:"text-primary hover:text-primary/80 focus:outline-none focus:underline","aria-label":"Edit instrument"}," Edit ",8,oe)])]))),128))])])])]),s(a)?(d(),L(D,{key:0,onClose:e[8]||(e[8]=r=>K(a)?a.value=u.fasle:a=u.fasle),title:s(U)},{body:b(()=>[t("form",{onSubmit:e[7]||(e[7]=R(r=>N(),["prevent"])),class:"space-y-6"},[t("div",se,[t("div",ne,[e[11]||(e[11]=t("label",{for:"name",class:"block text-sm font-medium text-foreground"}," Instrument Name ",-1)),m(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=r=>s(o).name=r),type:"text",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter instrument name"},null,512),[[v,s(o).name]])]),t("div",ue,[e[12]||(e[12]=t("label",{for:"keyword",class:"block text-sm font-medium text-foreground"}," Keyword ",-1)),m(t("input",{id:"keyword","onUpdate:modelValue":e[2]||(e[2]=r=>s(o).keyword=r),type:"text",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter keyword"},null,512),[[v,s(o).keyword]])]),t("div",de,[e[14]||(e[14]=t("label",{for:"instrumentType",class:"block text-sm font-medium text-foreground"}," Instrument Type ",-1)),m(t("select",{id:"instrumentType","onUpdate:modelValue":e[3]||(e[3]=r=>s(o).instrumentTypeUid=r),class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"},[e[13]||(e[13]=t("option",{value:""},"Select instrument type",-1)),(d(!0),i(p,null,g(h.value,r=>(d(),i("option",{key:r?.uid,value:r.uid},l(r?.name),9,ie))),128))],512),[[k,s(o).instrumentTypeUid]])]),t("div",le,[e[16]||(e[16]=t("label",{for:"manufacturer",class:"block text-sm font-medium text-foreground"}," Manufacturer ",-1)),m(t("select",{id:"manufacturer","onUpdate:modelValue":e[4]||(e[4]=r=>s(o).manufacturerUid=r),class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"},[e[15]||(e[15]=t("option",{value:""},"Select manufacturer",-1)),(d(!0),i(p,null,g(S.value,r=>(d(),i("option",{key:r?.uid,value:r.uid},l(r?.name),9,ae))),128))],512),[[k,s(o).manufacturerUid]])]),t("div",me,[e[18]||(e[18]=t("label",{for:"supplier",class:"block text-sm font-medium text-foreground"}," Supplier ",-1)),m(t("select",{id:"supplier","onUpdate:modelValue":e[5]||(e[5]=r=>s(o).supplierUid=r),class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"},[e[17]||(e[17]=t("option",{value:""},"Select supplier",-1)),(d(!0),i(p,null,g(E.value,r=>(d(),i("option",{key:r?.uid,value:r.uid},l(r?.name),9,pe))),128))],512),[[k,s(o).supplierUid]])]),t("div",ce,[e[19]||(e[19]=t("label",{for:"description",class:"block text-sm font-medium text-foreground"}," Description ",-1)),m(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=r=>s(o).description=r),rows:"3",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter description"},null,512),[[v,s(o).description]])])]),t("div",fe,[t("button",ye,l(c.value?"Create":"Update")+" Instrument ",1)])],32)]),_:1},8,["title"])):O("",!0)],64)}}}),Ie=H(ge,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Instruments.vue"]]);export{Ie as default};
