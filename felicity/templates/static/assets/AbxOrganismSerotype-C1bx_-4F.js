const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FelDataTable-B98pg9sE.js","assets/index-Cdc6vSVw.js","assets/index-B3SP4dh7.css","assets/vue-multiselect.esm-CZOh13og.js"])))=>i.map(i=>d[i]);
import{a0 as X,f as z,a7 as d,g as C,h as G,ad as R,a1 as V,a6 as B,ak as M,_ as q,r as k,c as J,o as D,A as s,C as K,E as Q,a as S,N as c,P as W,D as Y,F as u,a2 as m,L as Z,J as $}from"./index-Cdc6vSVw.js";import{w as ee,a as oe,x as se,y as te}from"./microbiology.mutations-CQJcOUVA.js";const re=X({__name:"AbxOrganismSerotype",setup(U,{expose:e}){e();const _=V(()=>B(()=>import("./FelDataTable-B98pg9sE.js"),__vite__mapDeps([0,1,2]))),o=V(()=>B(()=>import("./vue-multiselect.esm-CZOh13og.js"),__vite__mapDeps([3,1,2]))),{withClientMutation:p,withClientQuery:x}=z();let g=d(!1),b=d(""),n=C({});const r=d(!0),w=d(!1),i=d([]),A=d([]);let l=C({first:50,after:"",text:"",sortBy:["organism___name"],filterAction:!1});const O=d(0);let v=d({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const T=G(()=>i?.value?.length+" of "+O.value+" organisms"),F=d([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Organism",value:"organism.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serotype",value:"serotype",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serogroup",value:"serogroup",sortable:!1,sortBy:"asc",hidden:!1},{name:"Subspecies",value:"subspecies",sortable:!1,sortBy:"asc",hidden:!1},{name:"O Antigens",value:"oAntigens",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase1",value:"hPhase1",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase2",value:"hPhase2",sortable:!1,sortBy:"asc",hidden:!1},{name:"X997 Check",value:"x997Check",sortable:!1,sortBy:"asc",hidden:!1},{name:"Fate",value:"fate",sortable:!1,sortBy:"asc",hidden:!1}]);function h(t){x(ee,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(a=>{const f=a.abxOrganismSerotypeAll,y=f.items;t.filterAction?(i.value=[],i.value=y):i.value=M(i.value,y,"uid"),O.value=f?.totalCount,v.value=f?.pageInfo}).finally(()=>{w.value=!1})}function I(t,a){t?.length<3||x(oe,{pageSize:50,text:t,sortBy:["name"]},"abxOrganismAll").then(f=>{f&&(A.value=f?.items??[])})}R(()=>{h(l)});function N(t){l.first=100,l.after="",l.text=t.filterText,l.filterAction=!0,h(l)}function E(t){l.first=t.fetchCount,l.after=v?.value?.endCursor,l.text=t.filterText,l.filterAction=!1,h(l)}const H=()=>Object.assign(n,{});function j(t,a={}){r.value=t,g.value=!0,b.value=(t?"Create":"Edit")+" OrganismSerotype",t?Object.assign(n,{}):Object.assign(n,{...a})}function L(){const t={organismUid:n?.organism?.uid,serotype:n?.serotype,serogroup:n?.serogroup,subspecies:n?.subspecies,oAntigens:n?.oAntigens,hPhase1:n?.hPhase1,hPhase2:n?.hPhase2,x997Check:n?.x997Check,fate:n?.fate};r.value===!0&&p(se,{payload:t},"createAbxOrganismSerotype").then(a=>{a&&(i.value=M(i.value,[a],"uid"))}),r.value===!1&&p(te,{uid:n.uid,payload:t},"updateAbxOrganismSerotype").then(a=>{if(a){const f=i.value.findIndex(y=>y.uid==a.uid);i.value[f]=a}}),g.value=!1}const P={DataTable:_,VueMultiselect:o,withClientMutation:p,withClientQuery:x,get showModal(){return g},set showModal(t){g=t},get formTitle(){return b},set formTitle(t){b=t},get form(){return n},set form(t){n=t},formAction:r,fetchingOrganismSerotypes:w,abxOrganismSerotypes:i,abxOrganisms:A,get abxParams(){return l},set abxParams(t){l=t},organismCount:O,get organismPageInfo(){return v},set organismPageInfo(t){v=t},countNone:T,tableColumns:F,fetchOrganismSerotypes:h,organismSearch:I,searchOrganismSerotypes:N,showMoreOrganismSerotypes:E,resetOrganismSerotype:H,FormManager:j,saveForm:L};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),ne={class:"space-y-6"},le={class:"bg-card p-6 shadow-sm rounded-lg"},ae={class:"text-xl font-semibold text-foreground"},ie={class:"grid grid-cols-2 gap-4"},de={class:"block"},fe={class:"block"},ue={class:"grid grid-cols-2 gap-4"},me={class:"block"},ge={class:"block"},be={class:"grid grid-cols-2 gap-4"},ce={class:"block"},pe={class:"block"},xe={class:"grid grid-cols-2 gap-4"},ve={class:"block"},he={class:"block"},ye={class:"grid grid-cols-2 gap-4"},Se={class:"block"};function Oe(U,e,_,o,p,x){const g=k("fel-button"),b=k("fel-heading"),n=k("fel-modal");return D(),J($,null,[s("div",ne,[S(b,{title:"Organism Serotypes"},{default:c(()=>[S(g,{onClick:e[0]||(e[0]=r=>o.FormManager(!0))},{default:c(()=>[...e[11]||(e[11]=[W("Add Organism Serotype",-1)])]),_:1})]),_:1}),s("div",le,[S(o.DataTable,{columns:o.tableColumns,data:o.abxOrganismSerotypes,toggleColumns:!0,loading:o.fetchingOrganismSerotypes,paginable:!0,pageMeta:{fetchCount:o.abxParams.first,hasNextPage:!0,countNone:o.countNone},searchable:!0,filterable:!1,onOnSearchKeyUp:o.searchOrganismSerotypes,onOnSearchFocus:o.resetOrganismSerotype,onOnPaginate:o.showMoreOrganismSerotypes,selectable:!1},{footer:c(()=>[...e[12]||(e[12]=[])]),_:1},8,["columns","data","loading","pageMeta"])])]),o.showModal?(D(),K(n,{key:0,onClose:e[10]||(e[10]=r=>o.showModal=!1),"content-width":"w-1/2"},{header:c(()=>[s("h3",ae,Z(o.formTitle),1)]),body:c(()=>[s("form",{onSubmit:Y(o.saveForm,["prevent"]),class:"space-y-6 p-4"},[s("div",ie,[s("label",de,[e[13]||(e[13]=s("span",{class:"text-sm font-medium text-foreground"},"Organism",-1)),S(o.VueMultiselect,{modelValue:o.form.organism,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.organism=r),options:o.abxOrganisms,searchable:!0,"close-on-select":!0,"clear-on-select":!1,onSearchChange:o.organismSearch,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),s("label",fe,[e[14]||(e[14]=s("span",{class:"text-sm font-medium text-foreground"},"Serotype",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[2]||(e[2]=r=>o.form.serotype=r),placeholder:"Serotype ..."},null,512),[[m,o.form.serotype]])])]),s("div",ue,[s("label",me,[e[15]||(e[15]=s("span",{class:"text-sm font-medium text-foreground"},"Serogroup",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[3]||(e[3]=r=>o.form.serogroup=r),placeholder:"Serogroup ..."},null,512),[[m,o.form.serogroup]])]),s("label",ge,[e[16]||(e[16]=s("span",{class:"text-sm font-medium text-foreground"},"Subspecies",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[4]||(e[4]=r=>o.form.subspecies=r),placeholder:"Subspecies ..."},null,512),[[m,o.form.subspecies]])])]),s("div",be,[s("label",ce,[e[17]||(e[17]=s("span",{class:"text-sm font-medium text-foreground"},"O Antigens",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[5]||(e[5]=r=>o.form.oAntigens=r),placeholder:"O Antigens ..."},null,512),[[m,o.form.oAntigens]])]),s("label",pe,[e[18]||(e[18]=s("span",{class:"text-sm font-medium text-foreground"},"H Phase1",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[6]||(e[6]=r=>o.form.hPhase1=r),placeholder:"H Phase1 ..."},null,512),[[m,o.form.hPhase1]])])]),s("div",xe,[s("label",ve,[e[19]||(e[19]=s("span",{class:"text-sm font-medium text-foreground"},"H Phase2",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[7]||(e[7]=r=>o.form.hPhase2=r),placeholder:"H Phase2 ..."},null,512),[[m,o.form.hPhase2]])]),s("label",he,[e[20]||(e[20]=s("span",{class:"text-sm font-medium text-foreground"},"X997 Check",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[8]||(e[8]=r=>o.form.x997Check=r),placeholder:"X997 Check ..."},null,512),[[m,o.form.x997Check]])])]),s("div",ye,[s("label",Se,[e[21]||(e[21]=s("span",{class:"text-sm font-medium text-foreground"},"Fate",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[9]||(e[9]=r=>o.form.fate=r),placeholder:"Fate ..."},null,512),[[m,o.form.fate]])])]),e[22]||(e[22]=s("hr",{class:"border-border"},null,-1)),e[23]||(e[23]=s("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Serotype ",-1))],32)]),_:1})):Q("",!0)],64)}const we=q(re,[["render",Oe],["__scopeId","data-v-a814e9fb"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganismSerotype.vue"]]);export{we as default};
