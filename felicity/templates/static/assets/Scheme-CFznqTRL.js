const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BoardView-BjD7aZAC.js","assets/index-Daoe3XS9.js","assets/index-C7Rn7ES8.css","assets/grind.queries-qO4cXl9V.js","assets/index-BRBzwTgb.js","assets/BoardView-Cg0A5-mv.css"])))=>i.map(i=>d[i]);
import{a0 as A,f as S,a7 as u,a5 as j,h as q,a1 as I,a6 as L,_ as M,r as U,c as _,o as m,A as o,a as T,L as f,ac as N,ad as O,g as Q,a4 as R,C as w,E as k,J as z,K as J,Q as K,N as C,D as H,F,P as W,a2 as D}from"./index-Daoe3XS9.js";import{b as X,n as Y,o as Z,p as $}from"./grind.queries-qO4cXl9V.js";import{r as ee,m as oe}from"./index-BRBzwTgb.js";import{r as re}from"./ArrowLeftIcon-Bot27d1L.js";const te=A({__name:"Board",props:{board:{type:Object,required:!0}},setup(b,{expose:r}){r();const{withClientQuery:i}=S(),e=b,a=u([]);j(()=>e.board?.uid,n=>{n&&i(X,{boardUid:n},"grindPostersByBoard").then(p=>{a.value=p})},{immediate:!0});const d=I(()=>L(()=>import("./BoardView-BjD7aZAC.js"),__vite__mapDeps([0,1,2,3,4,5]))),l=q(()=>[{id:"board-view",label:"board-view",component:d,props:{posters:a.value,boardUid:e.board?.uid}}]),s={withClientQuery:i,props:e,posters:a,BoardViewComponent:d,tabs:l};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),se={class:"space-y-4"},ae={class:"bg-background p-4 rounded-lg text-muted-foreground italic font-medium leading-relaxed"};function de(b,r,i,e,a,d){const l=U("fel-tabs");return m(),_("div",se,[r[0]||(r[0]=o("div",{class:"border-t border-border my-4"},null,-1)),o("p",ae,f(i.board?.description),1),r[1]||(r[1]=o("div",{class:"border-t border-border my-4"},null,-1)),T(l,{tabs:e.tabs,"initial-tab":"board-view",class:"mt-4"},null,8,["tabs"])])}const ne=M(te,[["render",de],["__scopeId","data-v-bf20a9e6"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/grind/_id/Board.vue"]]),ie=A({__name:"Scheme",setup(b,{expose:r}){r();const{withClientMutation:i,withClientQuery:e}=S(),a=N(),d=u();O(async()=>{if(await l(),a.query.board){const t=d.value?.boards?.find(y=>y.uid===a.query.board);t&&h(t)}});function l(t="cache-first"){return e(Y,{uid:a.params.schemeUid},"grindSchemeByUid",t).then(y=>{d.value=y})}let s=u(!1),n=u(!1),p=u(!1),g=u(""),c=Q({});const G=()=>{s.value=!0,n.value=!0,g.value="Create Board",ee(c)},P=()=>{n.value=!1,s.value?i(Z,{payload:{...c,schemeUid:a.params.schemeUid}},"createGrindBoard").then(t=>{d.value.boards||(d.value.boards=[]),d.value.boards.push(t)}):i($,{uid:c.uid,payload:{title:c.title,description:c.description}},"updateGrindBoard").then(()=>l("network-only")),s.value=!1},V=t=>{s.value=!1,oe(c,t,!0),g.value="Update Board",n.value=!0};let v=u();const h=t=>{v.value=t,x.push({query:{board:t.uid}})},x=R();function E(){x.back()}const B={withClientMutation:i,withClientQuery:e,route:a,scheme:d,getScheme:l,get boardAction(){return s},set boardAction(t){s=t},get showBoardModal(){return n},set showBoardModal(t){n=t},get formAction(){return p},set formAction(t){p=t},get boardFormTitle(){return g},set boardFormTitle(t){g=t},get boardForm(){return c},set boardForm(t){c=t},openCreateBoardForm:G,saveBoardForm:P,updateBoard:V,get selectedBoard(){return v},set selectedBoard(t){v=t},selectBoard:h,router:x,goBack:E,get ArrowLeftIcon(){return re},Board:ne};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),le={class:"bg-background rounded-lg shadow-sm border border-border p-6 space-y-6"},ce={class:"flex items-center space-x-4"},ue={class:"flex items-center space-x-4"},me={class:"text-xl text-foreground"},fe={class:"space-y-4"},be={class:"border-t border-b border-border py-4"},pe={class:"text-muted-foreground italic"},ge={class:"space-y-4"},_e={class:"flex flex-wrap items-center gap-2"},ve={class:"flex flex-wrap gap-2"},xe=["onClick","onDblclick"],ye={class:"text-lg font-semibold text-foreground"},he={class:"flex justify-end space-x-3"},Be={type:"submit",class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"};function we(b,r,i,e,a,d){const l=U("fel-modal");return m(),_("div",le,[o("div",ce,[o("button",{onClick:e.goBack,class:"p-1 text-muted-foreground hover:text-foreground transition-colors duration-200"},[T(e.ArrowLeftIcon,{class:"w-5 h-5"})]),o("div",ue,[r[4]||(r[4]=o("h1",{class:"text-2xl font-bold text-foreground"},"Project Title:",-1)),o("span",me,f(e.scheme?.title),1)])]),o("div",fe,[o("div",be,[o("p",pe,f(e.scheme?.description),1)])]),o("div",ge,[r[5]||(r[5]=o("h2",{class:"text-xl font-semibold text-foreground"},"Boards",-1)),o("div",_e,[o("div",ve,[(m(!0),_(z,null,J(e.scheme?.boards,s=>(m(),_("button",{key:s.uid,class:K(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[e.selectedBoard?.uid===s.uid?"bg-primary text-primary-foreground border-transparent":"bg-muted text-foreground border border-border hover:bg-muted/80"]]),onClick:n=>e.selectBoard(s),onDblclick:n=>e.updateBoard(s)},f(s.title),43,xe))),128))]),o("button",{onClick:e.openCreateBoardForm,class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," + Board ")])]),e.selectedBoard?(m(),w(e.Board,{key:0,board:e.selectedBoard},null,8,["board"])):k("",!0),e.showBoardModal?(m(),w(l,{key:1,onClose:r[3]||(r[3]=s=>e.showBoardModal=!1),"content-width":"w-full max-w-2xl"},{header:C(()=>[o("h3",ye,f(e.boardFormTitle),1)]),body:C(()=>[o("form",{onSubmit:H(e.saveBoardForm,["prevent"]),class:"space-y-6"},[o("div",null,[r[6]||(r[6]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"title"},[W(" Scheme Title "),o("span",{class:"text-destructive"},"*")],-1)),F(o("input",{id:"title","onUpdate:modelValue":r[0]||(r[0]=s=>e.boardForm.title=s),type:"text",required:"",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme title"},null,512),[[D,e.boardForm.title]])]),o("div",null,[r[7]||(r[7]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"description"}," Description ",-1)),F(o("textarea",{id:"description","onUpdate:modelValue":r[1]||(r[1]=s=>e.boardForm.description=s),rows:"3",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme description"},null,512),[[D,e.boardForm.description]])]),o("div",he,[o("button",{type:"button",onClick:r[2]||(r[2]=s=>e.showBoardModal=!1),class:"px-4 py-2 text-sm font-medium text-foreground bg-background border border-border rounded-md shadow-sm hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," Cancel "),o("button",Be,f(e.formAction?"Create":"Update"),1)])],32)]),_:1})):k("",!0)])}const Ae=M(ie,[["render",we],["__scopeId","data-v-be0cddfa"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{Ae as default};
