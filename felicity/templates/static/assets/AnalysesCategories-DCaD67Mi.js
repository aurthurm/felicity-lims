import{a0 as N,f as T,a7 as b,g as F,h as A,_ as V,r as y,c as m,o as l,a as k,A as e,C as B,E as O,N as p,P as j,J as _,K as D,L as g,F as x,a2 as S,a9 as L,D as P}from"./index-C5OmCQ1r.js";import{o as R,p as Y}from"./analyses.mutations-COGCX6rV.js";import{u as G}from"./setup-BMS7aX7t.js";import{u as I}from"./analysis-CQxuKvI2.js";const J=N({__name:"AnalysesCategories",setup(M,{expose:t}){t();const a=I(),r=G(),{withClientMutation:f}=T();let i=b(!1),u=b(""),s=F({});const d=b(!0),o=A(()=>r.getDepartments);a.fetchAnalysesCategories();const v=A(()=>a.getAnalysesCategories);function C(){const n={name:s.name,description:s.description,departmentUid:s.departmentUid,active:s.active};f(R,{payload:n},"createAnalysisCategory").then(c=>a.addAnalysisCategory(c))}function h(){const n={name:s.name,description:s.description,departmentUid:s.departmentUid,active:s.active};f(Y,{uid:s.uid,payload:n},"updateAnalysisCategory").then(c=>a.updateAnalysisCategory(c))}function U(n,c){d.value=n,i.value=!0,u.value=(n?"CREATE":"EDIT")+" ANALYSES CATEGORY",n?Object.assign(s,{}):Object.assign(s,{...c})}function E(){d.value===!0&&C(),d.value===!1&&h(),i.value=!1}const w={analysisStore:a,setupStore:r,withClientMutation:f,get showModal(){return i},set showModal(n){i=n},get formTitle(){return u},set formTitle(n){u=n},get form(){return s},set form(n){s=n},formAction:d,departments:o,analysesCategories:v,addAnalysesCategory:C,editAnalysesCategory:h,FormManager:U,saveForm:E};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),K={class:"overflow-x-auto mt-4"},q={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},z={class:"min-w-full"},H={class:"bg-card"},Q={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},W={class:"text-sm text-foreground"},X={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Z={class:"text-sm text-foreground"},$={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},ee=["onClick"],te={class:"text-lg font-bold text-foreground"},oe={action:"post",class:"p-6 space-y-6"},re={class:"space-y-4"},se={class:"grid grid-cols-2 gap-4"},ne={class:"col-span-2 space-y-2"},ae={class:"col-span-1 space-y-2"},de=["value"],le={class:"col-span-2 space-y-2"},ie={class:"pt-4"};function ue(M,t,a,r,f,i){const u=y("fel-button"),s=y("fel-heading"),d=y("fel-modal");return l(),m(_,null,[k(s,{title:"Analyses Categories"},{default:p(()=>[k(u,{onClick:t[0]||(t[0]=o=>r.FormManager(!0,null))},{default:p(()=>[...t[6]||(t[6]=[j("Add Analyses Category",-1)])]),_:1})]),_:1}),e("div",K,[e("div",q,[e("table",z,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Category Name"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Department"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",H,[(l(!0),m(_,null,D(r.analysesCategories,o=>(l(),m("tr",{key:o?.uid,class:"hover:bg-accent/50"},[e("td",Q,[e("div",W,g(o?.name),1)]),e("td",X,[e("div",Z,g(o?.department?.name),1)]),e("td",$,[e("button",{onClick:v=>r.FormManager(!1,o),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"}," Edit ",8,ee)])]))),128))])])])]),r.showModal?(l(),B(d,{key:0,onClose:t[5]||(t[5]=o=>r.showModal=!1)},{header:p(()=>[e("h3",te,g(r.formTitle),1)]),body:p(()=>[e("form",oe,[e("div",re,[e("div",se,[e("label",ne,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Category Name",-1)),x(e("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=o=>r.form.name=o),placeholder:"Name ..."},null,512),[[S,r.form.name]])]),e("label",ae,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Department",-1)),x(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=o=>r.form.departmentUid=o)},[t[9]||(t[9]=e("option",{value:""},"Select Department",-1)),(l(!0),m(_,null,D(r.departments,o=>(l(),m("option",{key:o.uid,value:o?.uid},g(o.name),9,de))),128))],512),[[L,r.form.departmentUid]])]),e("label",le,[t[11]||(t[11]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),x(e("textarea",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=o=>r.form.description=o),placeholder:"Description ...",rows:"3"},null,512),[[S,r.form.description]])])])]),e("div",ie,[e("button",{type:"button",onClick:t[4]||(t[4]=P(o=>r.saveForm(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):O("",!0)],64)}const ge=V(J,[["render",ue],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/AnalysesCategories.vue"]]);export{ge as default};
