import{Y as D,u as I,a0 as g,a7 as h,bb as A,a3 as N,a9 as V,aa as R,ab as L,ac as z,ad as O,ae as q,af as K,_ as P,c as E,o as u,z as m,A as p,C as U,a,K as o,M as l,F as Y,H as G,I as C,B as j,a4 as k}from"./index-OdhKCqIc.js";import{c as J,a as S,u as Q,F as W}from"./index.esm-BfHj8iGm.js";import{u as X,a as Z,b as $}from"./inventory-CcBllciv.js";import{E as ee,a as te,b as ae,c as oe,d as re}from"./EmptyTitle-aCQRDpx3.js";import{F as le,a as ne,b as se}from"./FormMessage-CgXFMXx9.js";import{F as ie}from"./FormLabel-DxP9wnWS.js";import{I as de}from"./Input-BEm5S0CJ.js";import{T as me}from"./Textarea-T3VcJTEo.js";import"./inventory.queries-Bx-sCQu8.js";import"./Label-CS46LzLb.js";const ue=D({name:"StockCategory",__name:"StockCategory",setup(w,{expose:t}){t();const i=X(),{withClientMutation:e}=I(),f=g(!1),c=g(""),r=g(!0),d=g(null),T=J({name:S().trim().required("Category name is required"),description:S().trim().nullable()}),b={name:"",description:""},{handleSubmit:F,setValues:y}=Q({validationSchema:T,initialValues:{...b}});i.fetchCategories();const M=h(()=>i.getCategories);function _(n){e(Z,{payload:n},"createStockCategory").then(s=>i.addCategory(s))}function x(n){d.value&&e($,{uid:d.value,payload:n},"updateStockCategory").then(s=>i.updateCategory(s))}function B(n,s){r.value=n,c.value=(n?"CREATE":"EDIT")+" STOCK CATEGORY",n?(d.value=null,y({...b})):(d.value=s?.uid??null,y({name:s?.name??"",description:s?.description??""})),f.value=!0}const H=F(n=>{const s={name:n.name,description:n.description??null};r.value===!0&&_(s),r.value===!1&&x(s),f.value=!1}),v={inventoryStore:i,withClientMutation:e,showModal:f,formTitle:c,formAction:r,currentUid:d,categorySchema:T,defaultValues:b,handleSubmit:F,setValues:y,stockCategories:M,addStockCategory:_,editStockCategory:x,FormManager:B,onModalFormSubmit:H,Modal:A,get Table(){return K},get TableBody(){return q},get TableCell(){return O},get TableEmpty(){return z},get TableHead(){return L},get TableHeader(){return R},get TableRow(){return V},get Empty(){return re},get EmptyContent(){return oe},get EmptyDescription(){return ae},get EmptyHeader(){return te},get EmptyTitle(){return ee},get Button(){return N},get FormControl(){return se},get FormField(){return W},get FormItem(){return ne},get FormLabel(){return ie},get FormMessage(){return le},get Input(){return de},get Textarea(){return me}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),fe={class:"space-y-6"},ge={class:"flex items-center justify-between"},ce={class:"border border-border bg-card rounded-lg shadow-md"},be={class:"relative w-full overflow-auto"},ye={class:"text-lg font-semibold text-foreground"};function pe(w,t,i,e,f,c){return u(),E("div",fe,[m("div",ge,[t[4]||(t[4]=m("h2",{class:"text-2xl font-semibold text-foreground"},"Stock Categories",-1)),a(e.Button,{onClick:t[0]||(t[0]=r=>e.FormManager(!0,null))},{default:o(()=>[...t[3]||(t[3]=[l("Add Stock Category",-1)])]),_:1})]),m("div",ce,[m("div",be,[a(e.Table,{class:"w-full caption-bottom text-sm"},{default:o(()=>[a(e.TableHeader,{class:"[&_tr]:border-b"},{default:o(()=>[a(e.TableRow,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[a(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...t[5]||(t[5]=[l(" Category Name ",-1)])]),_:1}),a(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...t[6]||(t[6]=[l(" Description ",-1)])]),_:1}),a(e.TableHead,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...t[7]||(t[7]=[l(" Actions ",-1)])]),_:1})]),_:1})]),_:1}),a(e.TableBody,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[e.stockCategories.length===0?(u(),p(e.TableEmpty,{key:0,colspan:3},{default:o(()=>[a(e.Empty,{class:"border-0 bg-transparent p-0"},{default:o(()=>[a(e.EmptyContent,null,{default:o(()=>[a(e.EmptyHeader,null,{default:o(()=>[a(e.EmptyTitle,null,{default:o(()=>[...t[8]||(t[8]=[l("No categories found",-1)])]),_:1}),a(e.EmptyDescription,null,{default:o(()=>[...t[9]||(t[9]=[l("Create a category to organize stock items.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(u(!0),E(Y,{key:1},G(e.stockCategories,r=>(u(),p(e.TableRow,{key:r?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[a(e.TableCell,{class:"px-4 py-3 align-middle text-sm"},{default:o(()=>[l(C(r?.name),1)]),_:2},1024),a(e.TableCell,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:o(()=>[l(C(r?.description),1)]),_:2},1024),a(e.TableCell,{class:"px-4 py-3 text-right align-middle"},{default:o(()=>[a(e.Button,{variant:"outline",size:"sm",onClick:d=>e.FormManager(!1,r)},{default:o(()=>[...t[10]||(t[10]=[l("Edit",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),e.showModal?(u(),p(e.Modal,{key:0,onClose:t[2]||(t[2]=r=>e.showModal=!1)},{header:o(()=>[m("h3",ye,C(e.formTitle),1)]),body:o(()=>[m("form",{onSubmit:t[1]||(t[1]=j((...r)=>e.onModalFormSubmit&&e.onModalFormSubmit(...r),["prevent"])),class:"space-y-6"},[a(e.FormField,{name:"name"},{default:o(({componentField:r})=>[a(e.FormItem,null,{default:o(()=>[a(e.FormLabel,null,{default:o(()=>[...t[11]||(t[11]=[l("Category Name",-1)])]),_:1}),a(e.FormControl,null,{default:o(()=>[a(e.Input,k(r,{placeholder:"Enter category name..."}),null,16)]),_:2},1024),a(e.FormMessage)]),_:2},1024)]),_:1}),a(e.FormField,{name:"description"},{default:o(({componentField:r})=>[a(e.FormItem,null,{default:o(()=>[a(e.FormLabel,null,{default:o(()=>[...t[12]||(t[12]=[l("Description",-1)])]),_:1}),a(e.FormControl,null,{default:o(()=>[a(e.Textarea,k(r,{class:"min-h-[80px]",placeholder:"Enter description..."}),null,16)]),_:2},1024),a(e.FormMessage)]),_:2},1024)]),_:1}),a(e.Button,{type:"submit",class:"w-full"},{default:o(()=>[...t[13]||(t[13]=[l("Save Changes",-1)])]),_:1})],32)]),_:1})):U("",!0)])}const Me=P(ue,[["render",pe],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/inventory/StockCategory.vue"]]);export{Me as default};
