import{W as T,a2 as f,h as j,i as y,a9 as B,r as p,o as l,c as _,O as e,a as h,M as r,N as F,F as M,H as O,J as c,a7 as a,z as V,af as L,L as I,a0 as P,a1 as R,_ as $}from"./index-93739211.js";import{u as H}from"./analysis-689a99f8.js";import{u as U}from"./setup-e711c708.js";import"./_queries-2ba61825.js";const z={class:"space-y-6"},J={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},W={class:"relative w-full overflow-auto"},Y={class:"w-full caption-bottom text-sm"},q={class:"[&_tr:last-child]:border-0"},G={class:"px-4 py-2 align-middle"},K={class:"px-4 py-2 align-middle text-primary"},Q={class:"px-4 py-2 align-middle text-primary"},X={class:"px-4 py-2 align-middle text-right"},Z=["onClick"],ee={class:"text-lg font-semibold text-foreground"},te=T({__name:"Methods",setup(se){const A=P(()=>R(()=>import("./MethodForm-abec124b.js"),["assets/MethodForm-abec124b.js","assets/index-93739211.js","assets/index-0f090789.css","assets/instrument.mutations-71e8a117.js","assets/analysis-689a99f8.js","assets/setup-e711c708.js","assets/_queries-2ba61825.js","assets/vue-multiselect-a538cd7c.css"])),g=H(),m=U();let o=f(!1),b=f("");const k=f(!0);let d=j({});const C={first:1e3,after:"",text:"",sortBy:["name"]};g.fetchAnalysesServices(C);const S=y(()=>g.getAnalysesServicesSimple);B(()=>m.fetchMethods());const E=y(()=>m.getMethods);function v(n,t={}){k.value=n,o.value=!0,b.value=(n?"CREATE":"EDIT")+" ANALYSES METHOD",n?Object.assign(d,{}):Object.assign(d,{...t})}function w(n){let t=[];return S.value?.forEach(i=>{i?.methods?.some(u=>u.uid==n?.uid)&&t.push(i?.name)}),t.join(", ")}const N=()=>{o.value=!1,m.fetchMethods()};return(n,t)=>{const i=p("fel-button"),u=p("fel-heading"),D=p("fel-modal");return l(),_(M,null,[e("div",z,[h(u,{title:"Methods"},{default:r(()=>[h(i,{onClick:t[0]||(t[0]=s=>v(!0))},{default:r(()=>t[2]||(t[2]=[F(" Add Method")])),_:1})]),_:1}),e("div",J,[e("div",W,[e("table",Y,[t[3]||(t[3]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Name"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instruments"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Analyses"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",q,[(l(!0),_(M,null,O(E.value,s=>(l(),_("tr",{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",G,c(s?.name),1),e("td",K,c(s?.instruments?.map(x=>x?.name)?.join(", ")),1),e("td",Q,c(w(s)),1),e("td",X,[e("button",{onClick:x=>v(!1,s),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,Z)])]))),128))])])])])]),a(o)?(l(),V(D,{key:0,onClose:t[1]||(t[1]=s=>L(o)?o.value=!1:o=!1)},{header:r(()=>[e("h3",ee,c(a(b)),1)]),body:r(()=>[h(a(A),{method:a(d),methodUid:a(d)?.uid,onClose:N},null,8,["method","methodUid"])]),_:1})):I("",!0)],64)}}}),ie=$(te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Methods.vue"]]);export{ie as default};
