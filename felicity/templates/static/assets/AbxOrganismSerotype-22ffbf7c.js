import{d as j,I as z,r as u,n as w,p as X,q,o as C,c as G,b as e,y as h,g as B,A as b,f as o,z as K,t as $,w as J,e as c,v as d,i as W,F as Y,j as _,_ as y,a6 as V,D as Z,E as Q,k as ee}from"./index-06e172a4.js";import{m as se,j as te,n as ae,o as oe}from"./microbiology.mutations-39f0523e.js";const r=f=>(Z("data-v-a814e9fb"),f=f(),Q(),f),le={class:"w-full my-4"},ne=r(()=>e("hr",null,null,-1)),re={class:"mb-6"},ie={class:"grid grid-cols-2 gap-4"},ue={class:"block"},ce=r(()=>e("span",{class:"text-gray-700"},"Organism",-1)),de={class:"block"},pe=r(()=>e("span",{class:"text-gray-700"},"Serotype",-1)),fe={class:"block"},me=r(()=>e("span",{class:"text-gray-700"},"Serogroup",-1)),he={class:"block"},ge=r(()=>e("span",{class:"text-gray-700"},"Subspecies",-1)),be={class:"block"},_e=r(()=>e("span",{class:"text-gray-700"},"O Antigens",-1)),ye={class:"block"},ve=r(()=>e("span",{class:"text-gray-700"},"H Phase1",-1)),xe={class:"block"},Se=r(()=>e("span",{class:"text-gray-700"},"H Phase2",-1)),ke={class:"block"},Ae=r(()=>e("span",{class:"text-gray-700"},"X997 Check",-1)),Oe={class:"block"},Pe=r(()=>e("span",{class:"text-gray-700"},"Fate",-1)),we=r(()=>e("hr",{class:"my-6"},null,-1)),Ce=r(()=>e("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save OrganismSerotype ",-1)),Be=j({__name:"AbxOrganismSerotype",setup(f){const D=_(()=>y(()=>import("./FelModal-7579de8d.js"),["assets/FelModal-7579de8d.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/FelModal-780aeea9.css"])),I=_(()=>y(()=>import("./FelDataTable-52d77ae1.js"),["assets/FelDataTable-52d77ae1.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),U=_(()=>y(()=>import("./vue-multiselect.esm-7066afb0.js"),["assets/vue-multiselect.esm-7066afb0.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),{withClientMutation:v,withClientQuery:x}=z();let p=u(!1),M=u(""),t=w({});const S=u(!0),k=u(!1),i=u([]),A=u([]);let n=w({first:50,after:"",text:"",sortBy:["organism___name"],filterAction:!1});const O=u(0);let P=u({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const E=X(()=>i?.value?.length+" of "+O.value+" organisms"),T=u([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Organism",value:"organism.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serotype",value:"serotype",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serogroup",value:"serogroup",sortable:!1,sortBy:"asc",hidden:!1},{name:"Subspecies",value:"subspecies",sortable:!1,sortBy:"asc",hidden:!1},{name:"O Antigens",value:"oAntigens",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase1",value:"hPhase1",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase2",value:"hPhase2",sortable:!1,sortBy:"asc",hidden:!1},{name:"X997 Check",value:"x997Check",sortable:!1,sortBy:"asc",hidden:!1},{name:"Fate",value:"fate",sortable:!1,sortBy:"asc",hidden:!1}]);function g(l){x(se,{text:l.text,pageSize:l.first,sortBy:l.sortBy},void 0).then(s=>{const a=s.abxOrganismSerotypeAll,m=a.items;l.filterAction?(i.value=[],i.value=m):i.value=V(i.value,m,"uid"),O.value=a?.totalCount,P.value=a?.pageInfo}).finally(()=>{k.value=!1})}function F(l,s){l?.length<3||(x(te,{pageSize:50,text:l,sortBy:["name"]},"abxOrganismAll").then(a=>{a&&(A.value=a?.items??[])}),console.log(l,s))}q(()=>{g(n)});function N(l){n.first=100,n.after="",n.text=l.filterText,n.filterAction=!0,g(n)}function H(l){n.first=l.fetchCount,n.after=P?.value?.endCursor,n.text=l.filterText,n.filterAction=!1,g(n)}const L=()=>Object.assign(t,{});function R(){const l={organismUid:t?.organism?.uid,serotype:t?.serotype,serogroup:t?.serogroup,subspecies:t?.subspecies,oAntigens:t?.oAntigens,hPhase1:t?.hPhase1,hPhase2:t?.hPhase2,x997Check:t?.x997Check,fate:t?.fate};S.value===!0&&v(ae,{payload:l},"createAbxOrganismSerotype").then(s=>{s&&(i.value=V(i.value,[s],"uid"))}),S.value===!1&&v(oe,{uid:t.uid,payload:l},"updateAbxOrganismSerotype").then(s=>{if(s){const a=i.value.findIndex(m=>m.uid==s.uid);i.value[a]=s}}),p.value=!1}return(l,s)=>(C(),G(Y,null,[e("div",le,[h(` <hr>\r
    <button @click="FormManager(true)"\r
            class="px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none">\r
      Add OrganismSerotype\r
    </button> `),ne,B(o(I),{columns:T.value,data:i.value,toggleColumns:!0,loading:k.value,paginable:!0,pageMeta:{fetchCount:o(n).first,hasNextPage:!0,countNone:E.value},searchable:!0,filterable:!1,onOnSearchKeyUp:N,onOnSearchFocus:L,onOnPaginate:H,selectable:!1},{footer:b(()=>[]),_:1},8,["columns","data","loading","pageMeta"])]),h(" OrganismSerotype Form Modal "),o(p)?(C(),K(o(D),{key:0,onClose:s[9]||(s[9]=a=>W(p)?p.value=!1:p=!1),"content-width":"w-1/2"},{header:b(()=>[e("h3",null,$(o(M)),1)]),body:b(()=>[e("form",{onSubmit:J(R,["prevent"]),class:"p-4"},[h(" Basic Information "),e("div",re,[e("div",ie,[e("label",ue,[ce,B(o(U),{modelValue:o(t).organism,"onUpdate:modelValue":s[0]||(s[0]=a=>o(t).organism=a),options:A.value,searchable:!0,"close-on-select":!0,"clear-on-select":!1,onSearchChange:F,label:"name"},null,8,["modelValue","options"])]),e("label",de,[pe,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[1]||(s[1]=a=>o(t).serotype=a),placeholder:"Serotype"},null,512),[[d,o(t).serotype]])]),e("label",fe,[me,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[2]||(s[2]=a=>o(t).serogroup=a),placeholder:"Serogroup"},null,512),[[d,o(t).serogroup]])]),e("label",he,[ge,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[3]||(s[3]=a=>o(t).subspecies=a),placeholder:"Subspecies"},null,512),[[d,o(t).subspecies]])]),e("label",be,[_e,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[4]||(s[4]=a=>o(t).oAntigens=a),placeholder:"O Antigens"},null,512),[[d,o(t).oAntigens]])]),e("label",ye,[ve,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[5]||(s[5]=a=>o(t).hPhase1=a),placeholder:"H Phase1"},null,512),[[d,o(t).hPhase1]])]),e("label",xe,[Se,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[6]||(s[6]=a=>o(t).hPhase2=a),placeholder:"H Phase2"},null,512),[[d,o(t).hPhase2]])]),e("label",ke,[Ae,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[7]||(s[7]=a=>o(t).x997Check=a),placeholder:"X997 Check"},null,512),[[d,o(t).x997Check]])]),e("label",Oe,[Pe,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[8]||(s[8]=a=>o(t).fate=a),placeholder:"fate"},null,512),[[d,o(t).fate]])])])]),we,Ce],32)]),_:1})):h("v-if",!0)],64))}});const Ie=ee(Be,[["__scopeId","data-v-a814e9fb"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganismSerotype.vue"]]);export{Ie as default};
