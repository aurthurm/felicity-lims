import{d as se,A as oe,B as ae,s as ne,r as b,C as ie,D as re,z as le,n as ce,o,c as _,g as v,f as e,b as t,x as n,e as h,E as T,G as x,H as de,w as ue,F as P,p as A,i as k,q as y,j as r,I as _e,J as pe,y as D,t as p,_ as l,k as me}from"./index-03fd00e9.js";import{h as R,o as L,a as S}from"./constants-0e2456be.js";const w=g=>(_e("data-v-81af20fc"),g=g(),pe(),g),fe={class:""},ve={class:"flex justify-between"},ye={class:"flex items-center content-between"},ge=w(()=>t("hr",null,null,-1)),he={class:"grid grid-cols-12 gap-4 mt-2"},be={initial:{opacity:0,y:100},enter:{opacity:1,y:0,scale:1},variants:{custom:{scale:2}},delay:400,class:"col-span-3 h-screen overflow-y-scroll overscroll-contain patient-scroll"},xe={key:0,class:"py-4 text-center bg-white w-full mb-1 rounded-sm shadow border"},Pe={key:1},ke=["onClick"],we={class:"flex-grow p-1"},Ee={class:"font-semibold text-gray-800 flex justify-between"},Ce={class:"text-sm text-gray-500"},Ie={class:"text-sm text-gray-500 flex justify-between"},Te={class:"text-sm text-gray-500 flex justify-between"},Ae=w(()=>t("div",{class:"p-2"},[n(' <span class="block h-4 w-4 bg-sky-800 rounded-full bottom-0 right-0"></span> ')],-1)),De={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0,scale:1},variants:{custom:{scale:2}},delay:400,class:"col-span-9"},Re={class:"bg-white shadow-md mt-2"},Le={class:"-mb-px flex justify-start"},Se=["onClick"],Ve=w(()=>t("h3",null,"Patient Form",-1)),Fe=se({__name:"PatientsCompact",setup(g){const V=r(()=>l(()=>import("./FelLoadingMessage-6ca9c805.js"),["assets/FelLoadingMessage-6ca9c805.js","assets/index-03fd00e9.js","assets/index-91994633.css"])),F=r(()=>l(()=>import("./FelPageHeading-f1b46a01.js"),["assets/FelPageHeading-f1b46a01.js","assets/index-03fd00e9.js","assets/index-91994633.css"])),N=r(()=>l(()=>import("./FelAnalyisRequestListing-6b4f9a1b.js"),["assets/FelAnalyisRequestListing-6b4f9a1b.js","assets/index-03fd00e9.js","assets/index-91994633.css"])),O=r(()=>l(()=>import("./CaseTable-f81ac54e.js"),["assets/CaseTable-f81ac54e.js","assets/index-03fd00e9.js","assets/index-91994633.css"])),j=r(()=>l(()=>import("./FelAuditLog-6739cec5.js"),["assets/FelAuditLog-6739cec5.js","assets/index-03fd00e9.js","assets/index-91994633.css"])),B=r(()=>l(()=>import("./FelModal-78db0624.js"),["assets/FelModal-78db0624.js","assets/index-03fd00e9.js","assets/index-91994633.css","assets/FelModal-a7d23795.css"])),M=r(()=>l(()=>import("./PatientForm-70e1cbf0.js"),["assets/PatientForm-70e1cbf0.js","assets/index-03fd00e9.js","assets/index-91994633.css","assets/vue-multiselect.esm-37364f6f.js","assets/patient.mutations-cffaa028.js","assets/array-55321533.js","assets/vue-multiselect-a538cd7c.css"])),U=r(()=>l(()=>import("./PatientInfo-22e0861a.js"),["assets/PatientInfo-22e0861a.js","assets/index-03fd00e9.js","assets/index-91994633.css","assets/constants-0e2456be.js"])),$=r(()=>l(()=>import("./PatientBill-663873ca.js"),["assets/PatientBill-663873ca.js","assets/index-03fd00e9.js","assets/index-91994633.css","assets/billing.mutations-4cec70fd.js","assets/array-55321533.js","assets/PatientBill-7bdbff76.css"]));let f=oe(),G=ae();const{patients:q,fetchingPatients:z}=ne(f);let i=b(!1),c=b("samples");const H=["samples","cases","billing","logs"];let d=b({}),m=ie({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1});const Q=["Male","Female","Missing","Trans Gender"];G.fetchCountries(),f.fetchPatients(m);function J(a){m.first=100,m.before="",m.text=a.target.value,m.filterAction=!0,f.fetchPatients(m)}const K=re(()=>Object.keys(d?.value)?.length>0);let W=a=>a.firstName+" "+a.lastName,X=a=>Q[a],E=a=>{d.value=a,f.setPatient(a)},C=()=>{d.value={},f.resetPatient()};const Y=async()=>{C(),i.value=!0},Z=a=>{E(a),i.value=!1};return(a,u)=>{const ee=le("router-link"),I=ce("motion");return o(),_(P,null,[v(e(F),{title:"Patients Quick View"}),t("div",fe,[t("div",ve,[t("div",ye,[n(' <h1 class="h1 my-4 font-bold text-dark-700">Listing</h1> '),h(v(ee,{to:"/patients/search",class:"px-4 my-2 p-1 text-sm border-sky-800 border text-dark-800 transition-colors duration-150 rounded-sm focus:outline-none hover:bg-sky-800 hover:text-gray-100"},{default:x(()=>[de(" Add Patient")]),_:1},512),[[T,R(S.CREATE,L.PATIENT)]]),t("input",{class:"w-64 ml-6 pl-4 pr-2 py-1 text-sm text-gray-800 placeholder-gray-400 border-1 border-gray-400 rounded-sm focus:placeholder-gray-500 focus:border-sky-800 focus:outline-none focus:shadow-outline-purple form-input",type:"text",placeholder:"Search ...","aria-label":"Search",onKeyup:u[0]||(u[0]=s=>J(s)),onFocus:u[1]||(u[1]=s=>e(C)())},null,32)]),h(t("button",{onClick:ue(Y,["prevent"]),class:"px-4 my-2 p-1 text-sm border-sky-800 border text-dark-700 transition-colors duration-150 rounded-sm focus:outline-none hover:bg-sky-800 hover:text-gray-100"}," Quick Registration ",512),[[T,R(S.CREATE,L.PATIENT)]])]),ge,t("div",he,[h((o(),_("section",be,[e(z)?(o(),_("div",xe,[v(e(V),{message:"Fetching patients ..."})])):(o(),_("div",Pe,[(o(!0),_(P,null,A(e(q),s=>(o(),_("a",{key:s.patientId,onClick:te=>e(E)(s),class:D(["bg-white w-full flex items-center p-1 mb-1 rounded-sm shadow border",{"border-sky-800 bg-emerald-200":s.uid===e(d)?.uid}])},[t("div",we,[t("div",Ee,[t("span",null,p(e(W)(s)),1),t("span",Ce,p(s.age)+" yrs, "+p(e(X)(s.gender)),1)]),t("div",Ie,[t("span",null,p(s.patientId),1),t("span",null,p(s.clientPatientId),1)]),t("div",Te,[t("span",null,p(s?.client?.district?.province?.name),1),t("span",null,p(s?.client?.name),1)])]),Ae],10,ke))),128))]))])),[[I]]),K.value?h((o(),_("section",De,[n(" PatientInfo "),v(e(U),{onEditPatient:u[2]||(u[2]=()=>k(i)?i.value=!0:i=!0)}),n(" Sample and Case Data "),t("nav",Re,[t("div",Le,[(o(),_(P,null,A(H,s=>t("a",{key:s,class:D(["no-underline text-gray-500 uppercase tracking-wide font-bold text-xs py-1 px-4 tab hover:bg-sky-600 hover:text-gray-200 hover:bg-sky-600 hover:text-gray-200",{"tab-active":e(c)===s}]),onClick:te=>k(c)?c.value=s:c=s},p(s),11,Se)),64))])]),e(c)==="samples"?(o(),y(e(N),{key:0,target:"patient-samples",targetUid:e(d).uid},null,8,["targetUid"])):n("v-if",!0),e(c)==="cases"?(o(),y(e(O),{key:1})):n("v-if",!0),e(c)==="billing"?(o(),y(e($),{key:2,patientUid:e(d)?.uid},null,8,["patientUid"])):n("v-if",!0),e(c)==="logs"?(o(),y(e(j),{key:3,targetType:"patient",targetId:e(d)?.uid},null,8,["targetId"])):n("v-if",!0)])),[[I]]):n("v-if",!0)]),n(" Patient Edit Form Modal "),e(i)?(o(),y(e(B),{key:0,onClose:u[3]||(u[3]=s=>k(i)?i.value=!1:i=!1),contentWidth:"w-3/6"},{header:x(()=>[Ve]),body:x(()=>[v(e(M),{patient:e(d),navigate:!1,onClose:Z},null,8,["patient"])]),_:1})):n("v-if",!0)])],64)}}});const je=me(Fe,[["__scopeId","data-v-81af20fc"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{je as default};
