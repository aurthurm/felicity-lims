import{S as I,f as O,t as L,a0 as c,h as $,W as B,i as j,r as S,o as u,c as p,a as A,L as f,M as P,N as e,F as g,E as R,H as d,a5 as s,K as k,y as q,C as l,X as a,a2 as U,A as G,ac as H,Z as K,$ as X,_ as Y}from"./index-6c3e61f6.js";import{N as Z,O as z}from"./analyses.mutations-1d25f58b.js";import{u as J}from"./setup-390c605e.js";import{u as Q}from"./analysis-fcba6c2e.js";import"./_queries-c1bc77c2.js";const ee={class:"overflow-x-auto mt-4"},te={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},oe={class:"min-w-full"},re={class:"bg-card"},se={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ne={class:"text-sm text-destructive"},de={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},le={class:"text-sm text-warning"},ae={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ie={class:"text-sm text-foreground"},ue={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},pe={class:"text-sm text-foreground"},be={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},fe={class:"text-sm text-warning"},me={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},xe={class:"text-sm text-destructive"},ce={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ge={class:"text-sm text-foreground"},ye={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ve={class:"text-sm text-foreground"},we={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},_e={class:"text-sm text-foreground"},he={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Me={class:"text-sm text-foreground"},Ve={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Se={class:"text-sm text-foreground"},Ae={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Re={class:"text-sm text-foreground"},ke={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},Ue=["onClick"],Ce={class:"text-lg font-bold text-foreground"},We={action:"post",class:"p-6 space-y-6"},Te={class:"space-y-4"},Ee={class:"grid grid-cols-6 gap-4"},Ne={class:"space-y-2"},De={class:"space-y-2"},Fe={class:"space-y-2"},Ie={class:"space-y-2"},Oe={class:"space-y-2"},Le={class:"space-y-2"},$e={class:"space-y-4"},Be={class:"grid grid-cols-2 gap-4"},je={class:"space-y-2"},Pe={class:"space-y-2"},qe={class:"space-y-4"},Ge={class:"grid grid-cols-4 gap-4"},He={class:"space-y-2"},Ke=["value"],Xe={class:"space-y-2"},Ye={class:"space-y-2"},Ze={class:"space-y-2"},ze={class:"pt-4"},Je=I({__name:"Specifications",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(C){const W=K(()=>X(()=>import("./index-6c3e61f6.js").then(n=>n.cH),["assets/index-6c3e61f6.js","assets/index-a402b5a2.css"])),y=Q(),v=J(),{withClientMutation:w}=O(),_=C,{analysis:h}=L(_);let i=c(!1),M=c(""),r=$({});const m=c(!0);B(()=>_.analysisUid,(n,t)=>{}),v.fetchMethods();const b=j(()=>v.getMethods);function T(){const n={...r,analysisUid:h?.value?.uid};w(Z,{payload:n},"createAnalysisSpecification").then(t=>y.addAnalysisSpecification(t))}function E(){const n={...r};delete n.uid,delete n.__typename,delete n.unit,w(z,{uid:r.uid,payload:n},"updateAnalysisSpecification").then(t=>y.updateAnalysisSpecification(t))}function V(n,t={}){m.value=n,i.value=!0,M.value=(n?"CREATE":"EDIT")+" ANALYSIS SPECIFICATION",n?Object.assign(r,{analysisUid:null,min:null,max:null,minWarn:null,maxWarn:null,minReport:null,maxReport:null,warnValues:null,warnReport:null,gender:null,ageMin:null,ageMax:null,methodUid:null}):Object.assign(r,{...t})}function N(){m.value===!0&&T(),m.value===!1&&E(),i.value=!1}const D=n=>{if(!n||!b.value)return"";const t=b.value.findIndex(x=>x.uid===n);return b.value[t]?.name||""};return(n,t)=>{const x=S("fel-button"),F=S("fel-heading");return u(),p(g,null,[A(F,{title:"Specifications"},{default:f(()=>[A(x,{onClick:t[0]||(t[0]=o=>V(!0))},{default:f(()=>t[15]||(t[15]=[P("Add Specification")])),_:1})]),_:1}),e("div",ee,[e("div",te,[e("table",oe,[t[16]||(t[16]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Min Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Min Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Max"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Max Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Max Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Warn Texts"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Text Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Method"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Gender"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Max"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",re,[(u(!0),p(g,null,R(s(h)?.specifications,o=>(u(),p("tr",{key:o?.uid,class:"hover:bg-accent/50"},[e("td",se,[e("div",ne,d(o.minReport),1)]),e("td",de,[e("div",le,d(o.minWarn),1)]),e("td",ae,[e("div",ie,d(o.min),1)]),e("td",ue,[e("div",pe,d(o.max),1)]),e("td",be,[e("div",fe,d(o.maxWarn),1)]),e("td",me,[e("div",xe,d(o.maxReport),1)]),e("td",ce,[e("div",ge,d(o.warnValues),1)]),e("td",ye,[e("div",ve,d(o.warnReport),1)]),e("td",we,[e("div",_e,d(D(o?.methodUid)||""),1)]),e("td",he,[e("div",Me,d(o.gender),1)]),e("td",Ve,[e("div",Se,d(o.ageMin),1)]),e("td",Ae,[e("div",Re,d(o.ageMax),1)]),e("td",ke,[e("button",{onClick:Qe=>V(!1,o),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"},"Edit",8,Ue)])]))),128))])])])]),k(" Detection Limit Form Modal "),s(i)?(u(),q(s(W),{key:0,onClose:t[14]||(t[14]=o=>H(i)?i.value=!1:i=!1),contentWidth:"w-3/4"},{header:f(()=>[e("h3",Ce,d(s(M)),1)]),body:f(()=>[e("form",We,[e("div",Te,[t[23]||(t[23]=e("h4",{class:"text-lg font-semibold text-foreground"},"Numerical Results",-1)),t[24]||(t[24]=e("hr",{class:"border-border"},null,-1)),e("div",Ee,[e("label",Ne,[t[17]||(t[17]=e("span",{class:"text-sm font-medium text-destructive"},"Min Report",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=o=>s(r).minReport=o),placeholder:"Value ..."},null,512),[[a,s(r).minReport]])]),e("label",De,[t[18]||(t[18]=e("span",{class:"text-sm font-medium text-warning"},"Min Warn",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=o=>s(r).minWarn=o),placeholder:"Value ..."},null,512),[[a,s(r).minWarn]])]),e("label",Fe,[t[19]||(t[19]=e("span",{class:"text-sm font-medium text-foreground"},"Min",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=o=>s(r).min=o),placeholder:"Value ..."},null,512),[[a,s(r).min]])]),e("label",Ie,[t[20]||(t[20]=e("span",{class:"text-sm font-medium text-foreground"},"Max",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[4]||(t[4]=o=>s(r).max=o),placeholder:"Value ..."},null,512),[[a,s(r).max]])]),e("label",Oe,[t[21]||(t[21]=e("span",{class:"text-sm font-medium text-warning"},"Max Warn",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[5]||(t[5]=o=>s(r).maxWarn=o),placeholder:"Value ..."},null,512),[[a,s(r).maxWarn]])]),e("label",Le,[t[22]||(t[22]=e("span",{class:"text-sm font-medium text-destructive"},"Max Report",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[6]||(t[6]=o=>s(r).maxReport=o),placeholder:"Value ..."},null,512),[[a,s(r).maxReport]])])])]),e("div",$e,[t[27]||(t[27]=e("h4",{class:"text-lg font-semibold text-foreground"},"Textual Results",-1)),t[28]||(t[28]=e("hr",{class:"border-border"},null,-1)),e("div",Be,[e("label",je,[t[25]||(t[25]=e("span",{class:"text-sm font-medium text-foreground"},"Textual Results (comma separated)",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[7]||(t[7]=o=>s(r).warnValues=o),placeholder:"Value ..."},null,512),[[a,s(r).warnValues]])]),e("label",Pe,[t[26]||(t[26]=e("span",{class:"text-sm font-medium text-foreground"},"Report Message",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[8]||(t[8]=o=>s(r).warnReport=o),placeholder:"Value ..."},null,512),[[a,s(r).warnReport]])])])]),e("div",qe,[t[35]||(t[35]=e("h4",{class:"text-lg font-semibold text-foreground"},"Conditions if Any",-1)),t[36]||(t[36]=e("hr",{class:"border-border"},null,-1)),e("div",Ge,[e("label",He,[t[30]||(t[30]=e("span",{class:"text-sm font-medium text-foreground"},"Method",-1)),l(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[9]||(t[9]=o=>s(r).methodUid=o)},[t[29]||(t[29]=e("option",{value:""},"Select Method",-1)),(u(!0),p(g,null,R(b.value,o=>(u(),p("option",{key:o?.uid,value:o.uid},d(o?.name),9,Ke))),128))],512),[[U,s(r).methodUid]])]),e("label",Xe,[t[32]||(t[32]=e("span",{class:"text-sm font-medium text-foreground"},"Gender",-1)),l(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[10]||(t[10]=o=>s(r).gender=o)},t[31]||(t[31]=[e("option",{value:"all"},"All",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1)]),512),[[U,s(r).gender]])]),e("label",Ye,[t[33]||(t[33]=e("span",{class:"text-sm font-medium text-foreground"},"Age Min",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[11]||(t[11]=o=>s(r).ageMin=o),placeholder:"Value ..."},null,512),[[a,s(r).ageMin]])]),e("label",Ze,[t[34]||(t[34]=e("span",{class:"text-sm font-medium text-foreground"},"Age Max",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[12]||(t[12]=o=>s(r).ageMax=o),placeholder:"Value ..."},null,512),[[a,s(r).ageMax]])])])]),e("div",ze,[e("button",{type:"button",onClick:t[13]||(t[13]=G(o=>N(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):k("v-if",!0)],64)}}}),nt=Y(Je,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/services/Specifications.vue"]]);export{nt as default};
