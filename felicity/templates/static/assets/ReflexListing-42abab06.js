import{W as M,f as N,a2 as c,h as T,a9 as V,r as d,o as u,c as p,O as t,a as m,M as r,N as y,F as _,H as F,J as x,a7 as n,z as S,C as B,D as R,Z as h,ai as U,L as O,_ as $}from"./index-5d85e9da.js";import{u as j,A as z,E as H}from"./reflex.mutations-21972ab5.js";const I={class:"space-y-6"},J={class:"rounded-md border border-border bg-card p-6"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-border"},Z={class:"divide-y divide-border bg-background"},q={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},G={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},K={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},P=["onClick"],Q={class:"text-xl font-semibold text-foreground"},Y={class:"grid grid-cols-1 gap-4"},ee={class:"block"},te={class:"block"},oe=M({__name:"ReflexListing",setup(se){const{withClientMutation:b}=N(),a=j();let i=c(!1),g=c(""),o=T({});const f=c(!0);V(async()=>{a.fetchAllReflexRules()});function w(){const l={name:o.name,description:o.description};b(z,{payload:l},"createReflexRule").then(e=>a.addReflexRule(e))}function k(){const l={name:o.name,description:o.description};b(H,{uid:o.uid,payload:l},"updateReflexRule").then(e=>a.updateReflexRule(e))}function v(l,e={}){f.value=l,i.value=!0,g.value=(l?"CREATE":"EDIT")+" REFLEX RULE",l?Object.assign(o,{}):Object.assign(o,{...e})}function C(){f.value===!0&&w(),f.value===!1&&k(),i.value=!1}return(l,e)=>{const D=d("fel-button"),E=d("fel-heading"),A=d("router-link"),L=d("fel-modal");return u(),p(_,null,[t("div",I,[m(E,{title:"Reflex Rules"},{default:r(()=>[m(D,{onClick:e[0]||(e[0]=s=>v(!0))},{default:r(()=>e[4]||(e[4]=[y("Add Reflex Rule")])),_:1})]),_:1}),t("div",J,[t("div",W,[t("table",X,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Title"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Description"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",Z,[(u(!0),p(_,null,F(n(a).reflexRules,s=>(u(),p("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",q,[m(A,{to:{name:"reflex-detail",params:{uid:s?.uid}},class:"text-primary hover:text-primary/80"},{default:r(()=>[y(x(s?.name),1)]),_:2},1032,["to"])]),t("td",G,x(s?.description),1),t("td",K,[t("button",{onClick:le=>v(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,P)])]))),128))])])])])]),n(i)?(u(),S(L,{key:0,onClose:e[3]||(e[3]=s=>U(i)?i.value=!1:i=!1),"content-width":"w-1/2"},{header:r(()=>[t("h3",Q,x(n(g)),1)]),body:r(()=>[t("form",{onSubmit:B(C,["prevent"]),class:"space-y-6 p-4"},[t("div",Y,[t("label",ee,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Name",-1)),R(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>n(o).name=s),placeholder:"Name ..."},null,512),[[h,n(o).name]])]),t("label",te,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),R(t("textarea",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[2]||(e[2]=s=>n(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[h,n(o).description]])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Reflex Rule ",-1))],32)]),_:1})):O("",!0)],64)}}}),re=$(oe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/reflex/ReflexListing.vue"]]);export{re as default};
