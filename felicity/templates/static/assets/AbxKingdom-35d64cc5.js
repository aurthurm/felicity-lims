import{S as C,f as M,a0 as l,h as N,a7 as D,r as g,o as m,c as b,N as o,a as y,L as u,M as E,F as h,E as B,H as w,K as A,a5 as f,y as F,A as V,C as S,X as T,ad as $,_ as j}from"./index-628f1f8f.js";import{q as I,z as L,B as O}from"./microbiology.mutations-5c59feca.js";const U={class:"space-y-6"},q={class:"rounded-md border border-border shadow-sm bg-card p-6"},z={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-border"},H={class:"divide-y divide-border bg-background"},Q={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},R={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},X=["onClick"],J={class:"text-xl font-semibold text-foreground"},P={class:"grid grid-cols-2 gap-4"},W={class:"block"},Y=C({__name:"AbxKingdom",setup(Z){const{withClientMutation:v,withClientQuery:K}=M();let n=l(!1),_=l(""),a=N({});const c=l(!0),i=l([]);D(()=>{K(I,{},"abxKingdomAll").then(t=>{t&&(i.value=t)})});function x(t,e={}){c.value=t,n.value=!0,_.value=(t?"Create":"Edit")+" kingdom",t?Object.assign(a,{}):Object.assign(a,{...e})}function k(){const t={name:a.name};c.value===!0&&v(L,{payload:t},"createAbxKingdom").then(e=>{e&&i.value.unshift(e)}),c.value===!1&&v(O,{uid:a.uid,payload:t},"updateAbxKingdom").then(e=>{if(e){const d=i.value.findIndex(r=>r.uid==e.uid);d>-1&&(i.value=[...i.value.map((r,p)=>p===d?e:r)])}}),n.value=!1}return(t,e)=>{const d=g("fel-button"),r=g("fel-heading"),p=g("fel-modal");return m(),b(h,null,[o("div",U,[y(r,{title:"Kingdoms"},{default:u(()=>[y(d,{onClick:e[0]||(e[0]=s=>x(!0))},{default:u(()=>e[3]||(e[3]=[E("Add Kingdom")])),_:1})]),_:1}),o("div",q,[o("div",z,[o("table",G,[e[4]||(e[4]=o("thead",null,[o("tr",null,[o("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),o("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[o("span",{class:"sr-only"},"Actions")])])],-1)),o("tbody",H,[(m(!0),b(h,null,B(i.value,s=>(m(),b("tr",{key:s?.uid,class:"hover:bg-muted/50"},[o("td",Q,w(s?.name),1),o("td",R,[o("button",{onClick:ee=>x(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,X)])]))),128))])])])])]),A(" Kingdom Edit Form Modal "),f(n)?(m(),F(p,{key:0,onClose:e[2]||(e[2]=s=>$(n)?n.value=!1:n=!1),"content-width":"w-1/2"},{header:u(()=>[o("h3",J,w(f(_)),1)]),body:u(()=>[o("form",{onSubmit:V(k,["prevent"]),class:"space-y-6 p-4"},[o("div",P,[o("label",W,[e[5]||(e[5]=o("span",{class:"text-sm font-medium text-foreground"},"Kingdom Name",-1)),S(o("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>f(a).name=s),placeholder:"Name ..."},null,512),[[T,f(a).name]])])]),e[6]||(e[6]=o("hr",{class:"border-border"},null,-1)),e[7]||(e[7]=o("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Kingdom ",-1))],32)]),_:1})):A("v-if",!0)],64)}}});const se=j(Y,[["__scopeId","data-v-f35e5a63"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxKingdom.vue"]]);export{se as default};
