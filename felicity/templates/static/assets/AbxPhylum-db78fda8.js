import{W as k,f as P,a2 as r,h as C,a9 as D,r as V,o as u,c as f,O as t,F as h,H as M,J as c,a7 as l,z as E,M as _,C as N,D as F,Z as K,a as B,ai as O,L as U,a0 as j,a1 as I,_ as L}from"./index-5d85e9da.js";import{q as S,r as T,C as $,F as G}from"./microbiology.mutations-bbc8c44b.js";const R={class:"space-y-6"},q={class:"flex items-center justify-between"},z={class:"rounded-md border border-border bg-card p-6"},H={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-border"},Q={class:"divide-y divide-border bg-background"},W={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},X={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Y=["onClick"],ee={class:"text-xl font-semibold text-foreground"},te={class:"grid grid-cols-2 gap-4"},oe={class:"block"},se={class:"block"},ne=k({__name:"AbxPhylum",setup(le){const w=j(()=>I(()=>import("./vue-multiselect.esm-8e9ddbb7.js"),["assets/vue-multiselect.esm-8e9ddbb7.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),{withClientMutation:p,withClientQuery:b}=P();let i=r(!1),x=r(""),n=C({});const m=r(!0),a=r([]),y=r([]);D(()=>{b(S,{},"abxKingdomAll").then(s=>{s&&(y.value=s)}),b(T,{},"abxPhylumAll").then(s=>{s&&(a.value=s)})});function g(s,e={}){m.value=s,i.value=!0,x.value=(s?"Create":"Edit")+" Phylum",s?Object.assign(n,{}):Object.assign(n,{...e})}function A(){const s={name:n.name,kingdomUid:n.kingdom?.uid};m.value===!0&&p($,{payload:s},"createAbxPhylum").then(e=>{e&&a.value.unshift(e)}),m.value===!1&&p(G,{uid:n.uid,payload:s},"updateAbxPhylum").then(e=>{if(e){const d=a.value.findIndex(o=>o.uid==e.uid);d>-1&&(a.value=[...a.value.map((o,v)=>v===d?e:o)])}}),i.value=!1}return(s,e)=>{const d=V("fel-modal");return u(),f(h,null,[t("div",R,[t("div",q,[e[4]||(e[4]=t("h2",{class:"text-2xl font-semibold text-foreground"},"Phyla",-1)),t("button",{onClick:e[0]||(e[0]=o=>g(!0)),class:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Add Phylum ")]),t("div",z,[t("div",H,[t("table",J,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Kingdom"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",Q,[(u(!0),f(h,null,M(a.value,o=>(u(),f("tr",{key:o?.uid,class:"hover:bg-muted/50"},[t("td",W,c(o?.name),1),t("td",Z,c(o?.kingdom?.name),1),t("td",X,[t("button",{onClick:v=>g(!1,o),class:"text-primary hover:text-primary/80"}," Edit ",8,Y)])]))),128))])])])])]),l(i)?(u(),E(d,{key:0,onClose:e[3]||(e[3]=o=>O(i)?i.value=!1:i=!1),"content-width":"w-1/2"},{header:_(()=>[t("h3",ee,c(l(x)),1)]),body:_(()=>[t("form",{onSubmit:N(A,["prevent"]),class:"space-y-6 p-4"},[t("div",te,[t("label",oe,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Phylum Name",-1)),F(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[1]||(e[1]=o=>l(n).name=o),placeholder:"Name ..."},null,512),[[K,l(n).name]])]),t("label",se,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Kingdom",-1)),B(l(w),{modelValue:l(n).kingdom,"onUpdate:modelValue":e[2]||(e[2]=o=>l(n).kingdom=o),options:y.value,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Phylum ",-1))],32)]),_:1})):U("",!0)],64)}}});const re=L(ne,[["__scopeId","data-v-bc047b6b"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxPhylum.vue"]]);export{re as default};
