const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C5OmCQ1r.js","assets/index-DNLAO2yS.css"])))=>i.map(i=>d[i]);
import{a0 as U,f as E,a7 as x,g as T,h as N,a1 as A,a6 as V,_ as F,r as y,c as f,o as l,A as e,C as j,E as O,a as k,N as p,P as B,J as v,K as C,L as r,D as R,F as b,a9 as P,a2 as g}from"./index-C5OmCQ1r.js";import{a as J,b as K}from"./instrument.mutations-LOll41qb.js";import{u as Y}from"./setup-BMS7aX7t.js";const q=U({__name:"LaboratoryInstruments",setup(L,{expose:t}){t();const _=A(()=>V(()=>import("./index-C5OmCQ1r.js").then(i=>i.de),__vite__mapDeps([0,1]))),o=Y(),{withClientMutation:c}=E();let a=x(!1),m=x("");const d=x(!0);let n=T({});o.fetchInstruments(),o.fetchLaboratoryInstruments();const s=N(()=>o.getInstruments),h=N(()=>o.getLaboratoryInstruments);function w(){const i={labName:n.labName,serialNumber:n.serialNumber,dateCommissioned:n.dateCommissioned,dateDecommissioned:n.dateDecommissioned,instrumentUid:n.instrumentUid};c(J,{payload:i},"createLaboratoryInstrument").then(u=>o.addLaboratoryInstrument(u))}function I(){const i={labName:n.labName,serialNumber:n.serialNumber,dateCommissioned:n.dateCommissioned,dateDecommissioned:n.dateDecommissioned,instrumentUid:n.instrumentUid};c(K,{uid:n.uid,payload:i},"updateLaboratoryInstrument").then(u=>o.updateLaboratoryInstrument(u))}function M(i,u={}){d.value=i,a.value=!0,m.value=(i?"CREATE":"EDIT")+" LABORATORY INSTRUMENT",i?Object.assign(n,{}):Object.assign(n,{...u})}function S(){d.value===!0&&w(),d.value===!1&&I(),a.value=!1}const D={modal:_,setupStore:o,withClientMutation:c,get showModal(){return a},set showModal(i){a=i},get formTitle(){return m},set formTitle(i){m=i},formAction:d,get instrument(){return n},set instrument(i){n=i},instruments:s,laboratoryInstruments:h,addLabInstrument:w,editLabInstrument:I,FormManager:M,saveForm:S};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),z={class:"space-y-6"},G={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},H={class:"relative w-full overflow-auto"},Q={class:"w-full caption-bottom text-sm"},W={class:"[&_tr:last-child]:border-0"},X={class:"px-4 py-2 align-middle"},Z={class:"px-4 py-2 align-middle"},$={class:"px-4 py-2 align-middle text-primary"},ee={class:"px-4 py-2 align-middle text-primary"},te={class:"px-4 py-2 align-middle text-primary"},oe={class:"px-4 py-2 align-middle text-right"},se=["onClick"],ne={class:"text-lg font-semibold text-foreground"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re={class:"space-y-2"},de=["value"],le={class:"space-y-2"},ae={class:"space-y-2"},me={class:"space-y-2"},ue={class:"space-y-2"};function fe(L,t,_,o,c,a){const m=y("fel-button"),d=y("fel-heading"),n=y("fel-modal");return l(),f(v,null,[e("div",z,[k(d,{title:"Laboratory Instruments"},{default:p(()=>[k(m,{onClick:t[0]||(t[0]=s=>o.FormManager(!0))},{default:p(()=>[...t[7]||(t[7]=[B(" Add Laboratory Instrument",-1)])]),_:1})]),_:1}),e("div",G,[e("div",H,[e("table",Q,[t[8]||(t[8]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instrument"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Lab Name/ID"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Serial Number"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Commissioned"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Decommissioned"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",W,[(l(!0),f(v,null,C(o.laboratoryInstruments,s=>(l(),f("tr",{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",X,r(s?.instrument?.name),1),e("td",Z,r(s?.labName),1),e("td",$,r(s?.serialNumber),1),e("td",ee,r(s?.dateCommissioned),1),e("td",te,r(s?.dateDecommissioned),1),e("td",oe,[e("button",{onClick:h=>o.FormManager(!1,s),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,se)])]))),128))])])])])]),o.showModal?(l(),j(n,{key:0,onClose:t[6]||(t[6]=s=>o.showModal=!1)},{header:p(()=>[e("h3",ne,r(o.formTitle),1)]),body:p(()=>[e("form",{onSubmit:R(o.saveForm,["prevent"]),class:"space-y-6"},[e("div",ie,[e("div",re,[t[10]||(t[10]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument ",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.instrument.instrumentUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[9]||(t[9]=e("option",{value:""},"Select Instrument",-1)),(l(!0),f(v,null,C(o.instruments,s=>(l(),f("option",{key:s?.uid,value:s.uid},r(s?.name),9,de))),128))],512),[[P,o.instrument.instrumentUid]])]),e("div",le,[t[11]||(t[11]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Laboratory Name/ID ",-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.instrument.labName=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter lab name or ID..."},null,512),[[g,o.instrument.labName]])]),e("div",ae,[t[12]||(t[12]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Serial Number ",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.instrument.serialNumber=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter serial number..."},null,512),[[g,o.instrument.serialNumber]])]),e("div",me,[t[13]||(t[13]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Commissioned ",-1)),b(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=s=>o.instrument.dateCommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[g,o.instrument.dateCommissioned]])]),e("div",ue,[t[14]||(t[14]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Decommissioned ",-1)),b(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=s=>o.instrument.dateDecommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[g,o.instrument.dateDecommissioned]])])]),t[15]||(t[15]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ")],-1))],32)]),_:1})):O("",!0)],64)}const ge=F(q,[["render",fe],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/LaboratoryInstruments.vue"]]);export{ge as default};
