const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PatientForm-DW_eZ38F.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/vue-multiselect.esm-Cvm3ZCjW.js","assets/index.esm-BfHj8iGm.js","assets/patient.mutations-Ck2KfiSz.js","assets/client-BNZY_Y1e.js","assets/location-zigt6URg.js","assets/patient-BGl7pq_l.js","assets/index-CXV6PIcj.js","assets/Input-BEm5S0CJ.js","assets/FormMessage-CgXFMXx9.js","assets/FormLabel-DxP9wnWS.js","assets/Label-CS46LzLb.js","assets/SelectValue-Ds0cfAgl.js","assets/useNonce-B4v0IDPb.js","assets/chevron-down-Dqf-ptA3.js","assets/useFocusGuards-Bjb6OG0k.js","assets/PopperContent-BfyCnGUj.js","assets/vue-multiselect-Chsy-e4F.css","assets/PatientInfo-BllZaRmw.js","assets/index-DJJ2wcNX.js","assets/Spinner-Bl8RfjFA.js","assets/AnalysisRequestListing-g5VVF8Ru.js","assets/index-Dj97WNKd.js","assets/PatientBill-GKc3-CJV.js","assets/billing-COaJ61t1.js","assets/billing.queries-CxKPIhZs.js","assets/EmptyTitle-aCQRDpx3.js","assets/PatientBill-DgtmbiIH.css","assets/AuditLog-efDQOSsa.js","assets/user-DYsgscqA.js","assets/CardContent-Ds7WIX9a.js"])))=>i.map(i=>d[i]);
import{Y as j,aB as B,a0 as k,av as G,a7 as S,a5 as p,a6 as u,ah as O,_ as U,r as A,aF as Q,c as r,o as a,a as _,z as o,A as w,C as h,K as b,M as z,D as N,F as H,H as K,N as Y,I as d}from"./index-OdhKCqIc.js";import q from"./TabsNav-4Lm62OiP.js";import{u as J}from"./patient-BGl7pq_l.js";import{u as W}from"./location-zigt6URg.js";import{s as X}from"./index-DJJ2wcNX.js";import{S as Z}from"./Spinner-Bl8RfjFA.js";import{P as $}from"./PageHeading-Czi_4opS.js";import"./TabsTrigger-D8hXW_BI.js";const ee=j({__name:"PatientsCompact",setup(T,{expose:s}){s();const m={MALE:0,FEMALE:1,MISSING:2,TRANS:3},e={[m.MALE]:"Male",[m.FEMALE]:"Female",[m.MISSING]:"Missing",[m.TRANS]:"Trans Gender"},v={PatientForm:p(()=>u(()=>import("./PatientForm-DW_eZ38F.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]))),PatientInfo:p(()=>u(()=>import("./PatientInfo-BllZaRmw.js"),__vite__mapDeps([20,1,2,21,8,9,22])))},l=J(),f=W(),{patients:y,fetchingPatients:g}=B(l),t=k(!1),i=k({}),c=G({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),C=S(()=>Object.keys(i.value).length>0),I=S(()=>[{id:"samples",label:"Samples",component:p(()=>u(()=>import("./AnalysisRequestListing-g5VVF8Ru.js"),__vite__mapDeps([23,1,2,9,22,24]))),props:{target:"patient-samples",targetUid:i.value.uid}},{id:"billing",label:"Billing",component:p(()=>u(()=>import("./PatientBill-GKc3-CJV.js"),__vite__mapDeps([25,1,2,26,27,9,28,22,29]))),props:{patientUid:i.value.uid}},{id:"logs",label:"Logs",component:p(()=>u(()=>import("./AuditLog-efDQOSsa.js"),__vite__mapDeps([30,1,2,31,9,24,32,22]))),props:{targetType:"patient",targetUid:i.value.uid}}]),R=n=>`${n.firstName} ${n.lastName}`,F=n=>e[n]||"Unknown",P=n=>{i.value=n,l.setPatient(n)},x=()=>{i.value={},l.resetPatient()},M=n=>{const V=n.target;c.first=100,c.before="",c.text=V.value,c.filterAction=!0,l.fetchPatients(c)},L=async()=>{x(),t.value=!0},D=n=>{P(n),t.value=!1};O(()=>{f.fetchCountries(),l.fetchPatients(c)});const E={GENDERS:m,GENDER_LABELS:e,components:v,patientStore:l,locationStore:f,patients:y,fetchingPatients:g,showModal:t,patientForm:i,searchParams:c,isPatientSelected:C,tabs:I,getPatientFullName:R,getGender:F,selectPatient:P,resetPatient:x,handleSearch:M,handleQuickRegistration:L,handlePatientUpdate:D,TabsNav:q,get shield(){return X},get Spinner(){return Z},PageHeading:$};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),te={class:"space-y-6"},oe={class:"flex justify-between items-center"},se={class:"flex items-center space-x-4"},ne={class:"grid grid-cols-12 gap-6"},ae={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ie={key:0,class:"inline-flex items-center gap-2"},re={key:1,class:"space-y-2"},le=["onClick"],ce={class:"space-y-2"},de={class:"flex justify-between items-center"},me={class:"font-semibold text-foreground"},pe={class:"text-sm text-muted-foreground"},ue={class:"flex justify-between text-sm text-muted-foreground"},_e={class:"flex justify-between text-sm text-muted-foreground"},fe={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9 space-y-6"};function ge(T,s,m,e,v,l){const f=A("router-link"),y=A("Modal"),g=Q("motion");return a(),r("div",te,[_(e.PageHeading,{title:"Patients Quick View"}),o("div",oe,[o("div",se,[e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(a(),w(f,{key:0,to:"/patients/search",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:b(()=>[...s[2]||(s[2]=[z(" Add Patient ",-1)])]),_:1})):h("",!0),o("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-foreground placeholder-muted-foreground border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyup:e.handleSearch,onFocus:e.resetPatient},null,32)]),e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(a(),r("button",{key:0,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:e.handleQuickRegistration}," Quick Registration ")):h("",!0)]),o("div",ne,[N((a(),r("section",ae,[e.fetchingPatients?(a(),r("span",ie,[_(e.Spinner,{class:"size-4"}),s[3]||(s[3]=o("span",{class:"text-sm"},"Fetching patients...",-1))])):(a(),r("div",re,[(a(!0),r(H,null,K(e.patients,t=>(a(),r("div",{key:t.patientId,onClick:i=>e.selectPatient(t),class:Y(["bg-background p-4 rounded-lg shadow-sm border border-border cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary",{"border-primary bg-primary/5":t.uid===e.patientForm?.uid}])},[o("div",ce,[o("div",de,[o("span",me,d(e.getPatientFullName(t)),1),o("span",pe,d(t.age)+" yrs, "+d(e.getGender(+(t.gender??0))),1)]),o("div",ue,[o("span",null,d(t.patientId),1),o("span",null,d(t.clientPatientId),1)]),o("div",_e,[o("span",null,d(t?.client?.district?.province?.name),1),o("span",null,d(t?.client?.name),1)])])],10,le))),128))]))])),[[g]]),e.isPatientSelected?N((a(),r("section",fe,[_(e.components.PatientInfo,{onEditPatient:s[0]||(s[0]=t=>e.showModal=!0)}),_(e.TabsNav,{tabs:e.tabs,"initial-tab":"samples",class:"rounded-lg"},null,8,["tabs"])])),[[g]]):h("",!0)]),e.showModal?(a(),w(y,{key:0,onClose:s[1]||(s[1]=t=>e.showModal=!1),"content-width":"w-3/6",class:"bg-background"},{header:b(()=>[...s[4]||(s[4]=[o("h3",{class:"text-xl font-semibold text-foreground"},"Patient Form",-1)])]),body:b(()=>[_(e.components.PatientForm,{patient:e.patientForm,navigate:!1,onClose:e.handlePatientUpdate},null,8,["patient"])]),_:1})):h("",!0)])}const Se=U(ee,[["render",ge],["__scopeId","data-v-81af20fc"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{Se as default};
