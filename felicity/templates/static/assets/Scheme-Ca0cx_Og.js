const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BoardView-C8PMd6Fl.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/grind.queries-D_H4x9UG.js","assets/index-tFVefQDg.js","assets/BoardView-Cg0A5-mv.css"])))=>i.map(i=>d[i]);
import{Y as A,u as S,a0 as u,an as P,a7 as E,a5 as I,a6 as j,_ as M,c as v,o as m,z as o,a as T,I as f,ag as q,ah as L,av as O,$ as R,r as z,A as w,C as k,F as Q,H,N as K,K as C,B as Y,D as F,M as J,al as D}from"./index-OdhKCqIc.js";import{b as W,n as X,o as Z,p as $}from"./grind.queries-D_H4x9UG.js";import{r as ee,m as oe}from"./index-tFVefQDg.js";import re from"./TabsNav-4Lm62OiP.js";import{r as te}from"./ArrowLeftIcon-DStHNGQt.js";import"./TabsTrigger-D8hXW_BI.js";const se=A({name:"BoardView",__name:"Board",props:{board:{type:Object,required:!0}},setup(b,{expose:r}){r();const{withClientQuery:i}=S(),e=b,a=u([]);P(()=>e.board?.uid,n=>{n&&i(W,{boardUid:n},"grindPostersByBoard").then(p=>{a.value=p})},{immediate:!0});const d=I(()=>j(()=>import("./BoardView-C8PMd6Fl.js"),__vite__mapDeps([0,1,2,3,4,5]))),c=E(()=>[{id:"board-view",label:"board-view",component:d,props:{posters:a.value,boardUid:e.board?.uid}}]),s={withClientQuery:i,props:e,posters:a,BoardViewComponent:d,tabs:c,TabsNav:re};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),ae={class:"space-y-4"},de={class:"bg-background p-4 rounded-lg text-muted-foreground italic font-medium leading-relaxed"};function ne(b,r,i,e,a,d){return m(),v("div",ae,[r[0]||(r[0]=o("div",{class:"border-t border-border my-4"},null,-1)),o("p",de,f(i.board?.description),1),r[1]||(r[1]=o("div",{class:"border-t border-border my-4"},null,-1)),T(e.TabsNav,{tabs:e.tabs,"initial-tab":"board-view",class:"mt-4"},null,8,["tabs"])])}const ie=M(se,[["render",ne],["__scopeId","data-v-bf20a9e6"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/grind/_id/Board.vue"]]),le=A({name:"SchemeView",__name:"Scheme",setup(b,{expose:r}){r();const{withClientMutation:i,withClientQuery:e}=S(),a=q(),d=u();L(async()=>{if(await c(),a.query.board){const t=d.value?.boards?.find(h=>h.uid===a.query.board);t&&y(t)}});function c(t="cache-first"){return e(X,{uid:a.params.schemeUid},"grindSchemeByUid",t).then(h=>{d.value=h})}let s=u(!1),n=u(!1),p=u(!1),g=u(""),l=O({});const U=()=>{s.value=!0,n.value=!0,g.value="Create Board",ee(l)},V=()=>{n.value=!1,s.value?i(Z,{payload:{...l,schemeUid:a.params.schemeUid}},"createGrindBoard").then(t=>{d.value.boards||(d.value.boards=[]),d.value.boards.push(t)}):i($,{uid:l.uid,payload:{title:l.title,description:l.description}},"updateGrindBoard").then(()=>c("network-only")),s.value=!1},G=t=>{s.value=!1,oe(l,t,!0),g.value="Update Board",n.value=!0};let _=u();const y=t=>{_.value=t,x.push({query:{board:t.uid}})},x=R();function N(){x.back()}const B={withClientMutation:i,withClientQuery:e,route:a,scheme:d,getScheme:c,get boardAction(){return s},set boardAction(t){s=t},get showBoardModal(){return n},set showBoardModal(t){n=t},get formAction(){return p},set formAction(t){p=t},get boardFormTitle(){return g},set boardFormTitle(t){g=t},get boardForm(){return l},set boardForm(t){l=t},openCreateBoardForm:U,saveBoardForm:V,updateBoard:G,get selectedBoard(){return _},set selectedBoard(t){_=t},selectBoard:y,router:x,goBack:N,get ArrowLeftIcon(){return te},Board:ie};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),ce={class:"bg-background rounded-lg shadow-sm border border-border p-6 space-y-6"},ue={class:"flex items-center space-x-4"},me={class:"flex items-center space-x-4"},fe={class:"text-xl text-foreground"},be={class:"space-y-4"},pe={class:"border-t border-b border-border py-4"},ge={class:"text-muted-foreground italic"},ve={class:"space-y-4"},_e={class:"flex flex-wrap items-center gap-2"},xe={class:"flex flex-wrap gap-2"},he=["onClick","onDblclick"],ye={class:"text-lg font-semibold text-foreground"},Be={class:"flex justify-end space-x-3"},we={type:"submit",class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"};function ke(b,r,i,e,a,d){const c=z("Modal");return m(),v("div",ce,[o("div",ue,[o("button",{onClick:e.goBack,class:"p-1 text-muted-foreground hover:text-foreground transition-colors duration-200"},[T(e.ArrowLeftIcon,{class:"w-5 h-5"})]),o("div",me,[r[4]||(r[4]=o("h1",{class:"text-2xl font-bold text-foreground"},"Project Title:",-1)),o("span",fe,f(e.scheme?.title),1)])]),o("div",be,[o("div",pe,[o("p",ge,f(e.scheme?.description),1)])]),o("div",ve,[r[5]||(r[5]=o("h2",{class:"text-xl font-semibold text-foreground"},"Boards",-1)),o("div",_e,[o("div",xe,[(m(!0),v(Q,null,H(e.scheme?.boards,s=>(m(),v("button",{key:s.uid,class:K(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[e.selectedBoard?.uid===s.uid?"bg-primary text-primary-foreground border-transparent":"bg-muted text-foreground border border-border hover:bg-muted/80"]]),onClick:n=>e.selectBoard(s),onDblclick:n=>e.updateBoard(s)},f(s.title),43,he))),128))]),o("button",{onClick:e.openCreateBoardForm,class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," + Board ")])]),e.selectedBoard?(m(),w(e.Board,{key:0,board:e.selectedBoard},null,8,["board"])):k("",!0),e.showBoardModal?(m(),w(c,{key:1,onClose:r[3]||(r[3]=s=>e.showBoardModal=!1),"content-width":"w-full max-w-2xl"},{header:C(()=>[o("h3",ye,f(e.boardFormTitle),1)]),body:C(()=>[o("form",{onSubmit:Y(e.saveBoardForm,["prevent"]),class:"space-y-6"},[o("div",null,[r[6]||(r[6]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"title"},[J(" Scheme Title "),o("span",{class:"text-destructive"},"*")],-1)),F(o("input",{id:"title","onUpdate:modelValue":r[0]||(r[0]=s=>e.boardForm.title=s),type:"text",required:"",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme title"},null,512),[[D,e.boardForm.title]])]),o("div",null,[r[7]||(r[7]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"description"}," Description ",-1)),F(o("textarea",{id:"description","onUpdate:modelValue":r[1]||(r[1]=s=>e.boardForm.description=s),rows:"3",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme description"},null,512),[[D,e.boardForm.description]])]),o("div",Be,[o("button",{type:"button",onClick:r[2]||(r[2]=s=>e.showBoardModal=!1),class:"px-4 py-2 text-sm font-medium text-foreground bg-background border border-border rounded-md shadow-sm hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," Cancel "),o("button",we,f(e.formAction?"Create":"Update"),1)])],32)]),_:1})):k("",!0)])}const Te=M(le,[["render",ke],["__scopeId","data-v-be0cddfa"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{Te as default};
