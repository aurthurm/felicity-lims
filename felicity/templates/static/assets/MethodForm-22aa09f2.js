import{S as I,f as j,t as C,h as F,W as N,i as g,a0 as h,o as B,c as O,N as s,C as m,X as p,a as x,a5 as d,ad as w,A as R,Z as P,$ as T,_ as K}from"./index-0c222abb.js";import{i as L,j as W}from"./instrument.mutations-3dc2a13b.js";import{u as X}from"./analysis-8752c99a.js";import{u as Z}from"./setup-fb9288c8.js";/* empty css                                                                 */import"./_queries-98debe01.js";const q={class:"space-y-4"},z={class:"grid grid-cols-3 gap-4"},G={class:"col-span-2 space-y-2"},H={class:"space-y-2"},J={class:"space-y-4"},Q={class:"space-y-2"},Y={class:"space-y-2"},$={class:"space-y-2"},ee=I({__name:"MethodForm",props:{method:Object,methodUid:String,analysis:Object,analysisUid:String},emits:["close"],setup(k,{emit:M}){const c=P(()=>T(()=>import("./vue-multiselect.esm-9327845c.js"),["assets/vue-multiselect.esm-9327845c.js","assets/index-0c222abb.js","assets/index-8412b2a5.css"])),V=X(),r=Z(),{withClientMutation:f}=j(),b=k,{method:a,analysis:u}=C(b),t=F({...a?.value});N(()=>b.analysisUid,(o,e)=>{});const v=M,y=g(()=>V.getAnalysesServicesSimple);let l=h([]);u?.value?.uid!==void 0?l.value.push(u.value):y.value?.forEach(o=>{o?.methods?.some(e=>e.uid==a?.value?.uid)&&l.value.push(o)}),r.fetchInstruments();const S=g(()=>r.getInstruments);let n=h([]);const _=()=>{const o=[];return a?.value?.instruments?.forEach(e=>{u?.value?.instruments?.some(D=>D?.uid===e?.uid)&&o.push(e)}),o};n.value=_(),a?.value?.uid!==void 0&&a?.value?.instruments?.forEach(o=>n.value.push(o));function A(){const o={name:t?.name,keyword:t?.keyword,description:t?.description,instruments:n.value?.map(e=>e.uid),analyses:l.value?.map(e=>e.uid)};f(L,{payload:o},"createMethod").then(e=>{v("close"),r.addMethod(e)})}function E(){const o={name:t?.name,keyword:t?.keyword,description:t?.description,instruments:n.value?.map(e=>e.uid),analyses:l.value?.map(e=>e.uid)};f(W,{uid:t?.uid,payload:o},"updateMethod").then(e=>{v("close"),r.updateMethod(e)})}function U(){a?.value?.uid||A(),a?.value?.uid&&E()}return(o,e)=>(B(),O("form",{onSubmit:R(U,["prevent"]),class:"space-y-4"},[s("div",q,[s("div",z,[s("div",G,[e[5]||(e[5]=s("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Method Name ",-1)),m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t.name=i),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter method name..."},null,512),[[p,t.name]])]),s("div",H,[e[6]||(e[6]=s("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Keyword ",-1)),m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t.keyword=i),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter keyword..."},null,512),[[p,t.keyword]])])]),s("div",J,[s("div",Q,[e[7]||(e[7]=s("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Analyses ",-1)),x(d(c),{modelValue:d(l),"onUpdate:modelValue":e[2]||(e[2]=i=>w(l)?l.value=i:l=i),options:y.value,multiple:!0,searchable:!0,label:"name","track-by":"uid",disabled:d(u)?.uid!=null,class:"multiselect-blue"},null,8,["modelValue","options","disabled"])]),s("div",Y,[e[8]||(e[8]=s("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instruments ",-1)),x(d(c),{modelValue:d(n),"onUpdate:modelValue":e[3]||(e[3]=i=>w(n)?n.value=i:n=i),options:S.value,multiple:!0,searchable:!0,label:"name","track-by":"uid",class:"multiselect-blue"},null,8,["modelValue","options"])]),s("div",$,[e[9]||(e[9]=s("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Description ",-1)),m(s("textarea",{"onUpdate:modelValue":e[4]||(e[4]=i=>t.description=i),class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description..."},null,512),[[p,t.description]])])])]),e[10]||(e[10]=s("div",{class:"flex justify-end"},[s("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ")],-1))],32))}}),ae=K(ee,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/MethodForm.vue"]]);export{ae as default};
