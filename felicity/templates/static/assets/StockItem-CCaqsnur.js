const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StockItemDetail-DrqgsoFB.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/index.esm-BfHj8iGm.js","assets/inventory-CcBllciv.js","assets/inventory.queries-Bx-sCQu8.js","assets/EmptyTitle-aCQRDpx3.js","assets/FormMessage-CgXFMXx9.js","assets/FormLabel-DxP9wnWS.js","assets/Label-CS46LzLb.js","assets/Input-BEm5S0CJ.js","assets/Textarea-T3VcJTEo.js"])))=>i.map(i=>d[i]);
import{Y as q,u as Y,a0 as f,av as G,a7 as I,a8 as J,bb as Q,a5 as W,a6 as X,a3 as Z,a9 as j,aa as $,ab as ee,ac as te,ad as le,ae,af as re,_ as oe,c as v,o as s,z as i,a as t,A as g,C as ne,K as l,M as o,F as T,H as k,I as u,B as me,a4 as x,aK as H,aL as h}from"./index-OdhKCqIc.js";import{c as de,d as B,a as F,u as ie,F as se}from"./index.esm-BfHj8iGm.js";import{u as ue,c as fe,d as ce}from"./inventory-CcBllciv.js";import{E as ge,a as be,b as ye,c as ve,d as xe}from"./EmptyTitle-aCQRDpx3.js";import{F as Fe,a as _e,b as Se}from"./FormMessage-CgXFMXx9.js";import{F as Ie}from"./FormLabel-DxP9wnWS.js";import{I as Te}from"./Input-BEm5S0CJ.js";import{T as ke}from"./Textarea-T3VcJTEo.js";import{S as Ce,a as pe,b as Le,c as Ee,d as we}from"./SelectValue-Ds0cfAgl.js";import"./inventory.queries-Bx-sCQu8.js";import"./Label-CS46LzLb.js";import"./useNonce-B4v0IDPb.js";import"./chevron-down-Dqf-ptA3.js";import"./useFocusGuards-Bjb6OG0k.js";import"./PopperContent-BfyCnGUj.js";const Me=q({name:"StockItem",__name:"StockItem",setup(V,{expose:a}){a();const C=W(()=>X(()=>import("./StockItemDetail-DrqgsoFB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e=ue(),{withClientMutation:b}=Y(),y=f(!1),r=f(""),m=f(!0),c=f(null),p=de({name:F().trim().required("Stock item name is required"),description:F().trim().nullable(),hazardUid:F().trim().nullable(),categoryUid:F().trim().nullable(),minimumLevel:B().nullable(),maximumLevel:B().nullable()}),_={name:"",description:"",hazardUid:"",categoryUid:"",minimumLevel:null,maximumLevel:null},{handleSubmit:L,setValues:S}=ie({validationSchema:p,initialValues:{..._}}),E=G({first:50,after:"",text:"",sortBy:["-uid"]});e.fetchAllDependencies(),e.fetchItems(E);const A=I(()=>e.getStockItems),N=I(()=>e.getHazards),P=I(()=>e.getCategories);function w(n){b(fe,{payload:n},"createStockItem").then(d=>e.addItem(d))}function M(n){c.value&&b(ce,{uid:c.value,payload:n},"updateStockItem").then(d=>e.updateItem(d))}function R(n,d){m.value=n,r.value=(n?"CREATE":"EDIT")+" STOCK ITEM",n?(c.value=null,S({..._})):(c.value=d?.uid??null,S({name:d?.name??"",description:d?.description??"",hazardUid:d?.hazardUid??"",categoryUid:d?.categoryUid??"",minimumLevel:d?.minimumLevel??null,maximumLevel:d?.maximumLevel??null})),y.value=!0}const K=L(n=>{const d={name:n.name,description:n.description??null,hazardUid:n.hazardUid?n.hazardUid:null,categoryUid:n.categoryUid?n.categoryUid:null,minimumLevel:n.minimumLevel==null||n.minimumLevel===""?null:Number(n.minimumLevel),maximumLevel:n.maximumLevel==null||n.maximumLevel===""?null:Number(n.maximumLevel)};m.value===!0&&w(d),m.value===!1&&M(d),y.value=!1}),D=f(!1),z=f();function O(n){z.value=n,D.value=!0}const U={StockItemDetail:C,inventoryStore:e,withClientMutation:b,showModal:y,formTitle:r,formAction:m,currentUid:c,stockItemSchema:p,defaultValues:_,handleSubmit:L,setValues:S,itemParams:E,stockItems:A,hazards:N,categories:P,addStockItem:w,editStockItem:M,FormManager:R,onModalFormSubmit:K,openDrawer:D,stockItem:z,viewStockItem:O,Modal:Q,Drawer:J,get Table(){return re},get TableBody(){return ae},get TableCell(){return le},get TableEmpty(){return te},get TableHead(){return ee},get TableHeader(){return $},get TableRow(){return j},get Empty(){return xe},get EmptyContent(){return ve},get EmptyDescription(){return ye},get EmptyHeader(){return be},get EmptyTitle(){return ge},get Button(){return Z},get FormControl(){return Se},get FormField(){return se},get FormItem(){return _e},get FormLabel(){return Ie},get FormMessage(){return Fe},get Input(){return Te},get Textarea(){return ke},get Select(){return we},get SelectContent(){return Ee},get SelectItem(){return Le},get SelectTrigger(){return pe},get SelectValue(){return Ce}};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),De={class:"space-y-6"},ze={class:"flex items-center justify-between"},Ue={class:"border border-border bg-card rounded-lg shadow-md"},He={class:"relative w-full overflow-auto"},he={class:"flex justify-end gap-2"},Be={class:"text-lg font-semibold text-foreground"},Ve={class:"grid grid-cols-2 gap-4"},Ae={class:"grid grid-cols-2 gap-4"};function Ne(V,a,C,e,b,y){return s(),v("div",De,[i("div",ze,[a[5]||(a[5]=i("h2",{class:"text-2xl font-semibold text-foreground"},"Stock Items",-1)),t(e.Button,{onClick:a[0]||(a[0]=r=>e.FormManager(!0,null))},{default:l(()=>[...a[4]||(a[4]=[o("Add Stock Item",-1)])]),_:1})]),i("div",Ue,[i("div",He,[t(e.Table,{class:"w-full caption-bottom text-sm"},{default:l(()=>[t(e.TableHeader,{class:"[&_tr]:border-b"},{default:l(()=>[t(e.TableRow,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:l(()=>[t(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:l(()=>[...a[6]||(a[6]=[o("Item Name",-1)])]),_:1}),t(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:l(()=>[...a[7]||(a[7]=[o("Category",-1)])]),_:1}),t(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:l(()=>[...a[8]||(a[8]=[o("Hazard",-1)])]),_:1}),t(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:l(()=>[...a[9]||(a[9]=[o("Description",-1)])]),_:1}),t(e.TableHead,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:l(()=>[...a[10]||(a[10]=[o("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e.TableBody,{class:"[&_tr:last-child]:border-0"},{default:l(()=>[e.stockItems?.length?(s(!0),v(T,{key:1},k(e.stockItems,r=>(s(),g(e.TableRow,{key:r?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:l(()=>[t(e.TableCell,{class:"px-4 py-3 align-middle text-sm"},{default:l(()=>[o(u(r?.name),1)]),_:2},1024),t(e.TableCell,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:l(()=>[o(u(r?.category?.name),1)]),_:2},1024),t(e.TableCell,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:l(()=>[o(u(r?.hazard?.name),1)]),_:2},1024),t(e.TableCell,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:l(()=>[o(u(r?.description),1)]),_:2},1024),t(e.TableCell,{class:"px-4 py-3 text-right align-middle"},{default:l(()=>[i("div",he,[t(e.Button,{variant:"outline",size:"sm",onClick:m=>e.FormManager(!1,r)},{default:l(()=>[...a[13]||(a[13]=[o("Edit",-1)])]),_:1},8,["onClick"]),t(e.Button,{variant:"outline",size:"sm",onClick:m=>e.viewStockItem(r)},{default:l(()=>[...a[14]||(a[14]=[o("View",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)):(s(),g(e.TableEmpty,{key:0,colspan:5},{default:l(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:l(()=>[t(e.EmptyContent,null,{default:l(()=>[t(e.EmptyHeader,null,{default:l(()=>[t(e.EmptyTitle,null,{default:l(()=>[...a[11]||(a[11]=[o("No stock items found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:l(()=>[...a[12]||(a[12]=[o("Add a stock item to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})])]),t(e.Drawer,{show:e.openDrawer,onClose:a[1]||(a[1]=r=>e.openDrawer=!1)},{header:l(()=>[...a[15]||(a[15]=[i("h3",{class:"text-lg font-semibold text-foreground"},"Stock Item Detail",-1)])]),body:l(()=>[t(e.StockItemDetail,{"stock-item":e.stockItem},null,8,["stock-item"])]),_:1},8,["show"]),e.showModal?(s(),g(e.Modal,{key:0,onClose:a[3]||(a[3]=r=>e.showModal=!1)},{header:l(()=>[i("h3",Be,u(e.formTitle),1)]),body:l(()=>[i("form",{onSubmit:a[2]||(a[2]=me((...r)=>e.onModalFormSubmit&&e.onModalFormSubmit(...r),["prevent"])),class:"space-y-6"},[t(e.FormField,{name:"name"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[16]||(a[16]=[o("Stock Item Name",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Input,x(r,{placeholder:"Enter item name..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),i("div",Ve,[t(e.FormField,{name:"minimumLevel"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[17]||(a[17]=[o("Minimum Level",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Input,x(r,{type:"number",min:"0",placeholder:"0"}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"maximumLevel"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[18]||(a[18]=[o("Maximum Level",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Input,x(r,{type:"number",min:"0",placeholder:"0"}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),t(e.FormField,{name:"description"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[19]||(a[19]=[o("Description",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Textarea,x(r,{class:"min-h-[80px]",placeholder:"Enter description..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),i("div",Ae,[t(e.FormField,{name:"hazardUid"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[20]||(a[20]=[o("Hazard",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Select,H(h(r)),{default:l(()=>[t(e.SelectTrigger,null,{default:l(()=>[t(e.SelectValue,{placeholder:"Select a hazard..."})]),_:1}),t(e.SelectContent,null,{default:l(()=>[(s(!0),v(T,null,k(e.hazards.filter(m=>m?.uid),m=>(s(),g(e.SelectItem,{key:m.uid,value:m.uid},{default:l(()=>[o(u(m.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"categoryUid"},{default:l(({componentField:r})=>[t(e.FormItem,null,{default:l(()=>[t(e.FormLabel,null,{default:l(()=>[...a[21]||(a[21]=[o("Category",-1)])]),_:1}),t(e.FormControl,null,{default:l(()=>[t(e.Select,H(h(r)),{default:l(()=>[t(e.SelectTrigger,null,{default:l(()=>[t(e.SelectValue,{placeholder:"Select a category..."})]),_:1}),t(e.SelectContent,null,{default:l(()=>[(s(!0),v(T,null,k(e.categories.filter(m=>m?.uid),m=>(s(),g(e.SelectItem,{key:m.uid,value:m.uid},{default:l(()=>[o(u(m.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),t(e.Button,{type:"submit",class:"w-full"},{default:l(()=>[...a[22]||(a[22]=[o("Save Changes",-1)])]),_:1})],32)]),_:1})):ne("",!0)])}const tt=oe(Me,[["render",Ne],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/inventory/StockItem.vue"]]);export{tt as default};
