import{S as T,a0 as f,h as j,i as y,a7 as B,r as p,o as l,c as _,N as e,a as h,L as r,M as V,F as M,E as L,H as c,K as A,a5 as a,y as O,ad as $,Z as I,$ as P,_ as R}from"./index-3686e2f1.js";import{u as H}from"./analysis-7826d4bd.js";import{u as U}from"./setup-613b4e8e.js";import"./_queries-d6963687.js";const K={class:"space-y-6"},Y={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},Z={class:"relative w-full overflow-auto"},q={class:"w-full caption-bottom text-sm"},z={class:"[&_tr:last-child]:border-0"},G={class:"px-4 py-2 align-middle"},J={class:"px-4 py-2 align-middle text-primary"},Q={class:"px-4 py-2 align-middle text-primary"},W={class:"px-4 py-2 align-middle text-right"},X=["onClick"],ee={class:"text-lg font-semibold text-foreground"},te=T({__name:"Methods",setup(oe){const E=I(()=>P(()=>import("./MethodForm-0fee745f.js"),["assets/MethodForm-0fee745f.js","assets/index-3686e2f1.js","assets/index-f2df9813.css","assets/instrument.mutations-efcbb4fd.js","assets/analysis-7826d4bd.js","assets/setup-613b4e8e.js","assets/_queries-d6963687.js","assets/vue-multiselect-a538cd7c.css"])),g=H(),m=U();let s=f(!1),b=f("");const S=f(!0);let d=j({});const k={first:1e3,after:"",text:"",sortBy:["name"]};g.fetchAnalysesServices(k);const C=y(()=>g.getAnalysesServicesSimple);B(()=>m.fetchMethods());const w=y(()=>m.getMethods);function v(n,t={}){S.value=n,s.value=!0,b.value=(n?"CREATE":"EDIT")+" ANALYSES METHOD",n?Object.assign(d,{}):Object.assign(d,{...t})}function N(n){let t=[];return C.value?.forEach(i=>{i?.methods?.some(u=>u.uid==n?.uid)&&t.push(i?.name)}),t.join(", ")}const D=()=>{s.value=!1,m.fetchMethods()};return(n,t)=>{const i=p("fel-button"),u=p("fel-heading"),F=p("fel-modal");return l(),_(M,null,[e("div",K,[h(u,{title:"Methods"},{default:r(()=>[h(i,{onClick:t[0]||(t[0]=o=>v(!0))},{default:r(()=>t[2]||(t[2]=[V(" Add Method")])),_:1})]),_:1}),e("div",Y,[e("div",Z,[e("table",q,[t[3]||(t[3]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Name"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instruments"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Analyses"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",z,[(l(!0),_(M,null,L(w.value,o=>(l(),_("tr",{key:o?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",G,c(o?.name),1),e("td",J,c(o?.instruments?.map(x=>x?.name)?.join(", ")),1),e("td",Q,c(N(o)),1),e("td",W,[e("button",{onClick:x=>v(!1,o),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,X)])]))),128))])])])])]),A(" Method Edit Form Modal "),a(s)?(l(),O(F,{key:0,onClose:t[1]||(t[1]=o=>$(s)?s.value=!1:s=!1)},{header:r(()=>[e("h3",ee,c(a(b)),1)]),body:r(()=>[h(a(E),{method:a(d),methodUid:a(d)?.uid,onClose:D},null,8,["method","methodUid"])]),_:1})):A("v-if",!0)],64)}}}),ie=R(te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Methods.vue"]]);export{ie as default};
