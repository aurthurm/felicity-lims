import{W as H,ak as J,a2 as E,h as K,i as k,a9 as W,r as u,am as q,o as n,c as r,a as f,O as e,z as y,M as v,N as X,L as g,D as A,a7 as C,F as Y,H as Z,a5 as ee,J as i,a0 as p,a1 as m,_ as te}from"./index-93739211.js";import{u as oe}from"./patient-08d80f88.js";import{u as se}from"./location-d054e737.js";import{h as w,o as I,a as S}from"./constants-c5e2e8e5.js";const ne={class:"space-y-6"},ae={class:"flex justify-between items-center"},re={class:"flex items-center space-x-4"},ie={class:"grid grid-cols-12 gap-6"},le={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 h-[calc(100vh-200px)] overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ce={key:1,class:"space-y-2"},de=["onClick"],ue={class:"space-y-2"},pe={class:"flex justify-between items-center"},me={class:"font-semibold text-foreground"},_e={class:"text-sm text-muted-foreground"},fe={class:"flex justify-between text-sm text-muted-foreground"},ge={class:"flex justify-between text-sm text-muted-foreground"},ye={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9 space-y-6"},ve=H({__name:"PatientsCompact",setup(he){const _={MALE:0,FEMALE:1,MISSING:2,TRANS:3},T={[_.MALE]:"Male",[_.FEMALE]:"Female",[_.MISSING]:"Missing",[_.TRANS]:"Trans Gender"},h={PatientForm:p(()=>m(()=>import("./PatientForm-2df8844a.js"),["assets/PatientForm-2df8844a.js","assets/index-93739211.js","assets/index-0f090789.css","assets/vue-multiselect.esm-183ee7c8.js","assets/array-2f9882bb.js","assets/patient.mutations-3a93dd84.js","assets/client-946311ca.js","assets/location-d054e737.js","assets/patient-08d80f88.js","assets/index-0f6f1926.js","assets/vue-multiselect-a538cd7c.css"])),PatientInfo:p(()=>m(()=>import("./PatientInfo-f15af673.js"),["assets/PatientInfo-f15af673.js","assets/index-93739211.js","assets/index-0f090789.css","assets/constants-c5e2e8e5.js","assets/patient-08d80f88.js","assets/index-0f6f1926.js"]))},c=oe(),N=se(),{patients:L,fetchingPatients:R}=J(c),d=E(!1),a=E({}),l=K({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),D=k(()=>Object.keys(a.value).length>0),F=k(()=>[{id:"samples",label:"Samples",component:p(()=>m(()=>import("./FelAnalyisRequestListing-24b71f83.js"),["assets/FelAnalyisRequestListing-24b71f83.js","assets/index-93739211.js","assets/index-0f090789.css","assets/index-0f6f1926.js"])),props:{target:"patient-samples",targetUid:a.value.uid}},{id:"billing",label:"Billing",component:p(()=>m(()=>import("./PatientBill-4bfe5eb8.js"),["assets/PatientBill-4bfe5eb8.js","assets/index-93739211.js","assets/index-0f090789.css","assets/billing-7eb454fc.js","assets/index-0f6f1926.js","assets/bills-3b4d77d9.js","assets/array-2f9882bb.js","assets/PatientBill-29a3da4a.css"])),props:{patientUid:a.value.uid}},{id:"logs",label:"Logs",component:p(()=>m(()=>import("./FelAuditLog-4c129cbd.js"),["assets/FelAuditLog-4c129cbd.js","assets/index-93739211.js","assets/index-0f090789.css","assets/user-3b0a83d1.js","assets/_queries-2ba61825.js","assets/index-0f6f1926.js"])),props:{targetType:"patient",targetUid:a.value.uid}}]),M=t=>`${t.firstName} ${t.lastName}`,V=t=>T[t]||"Unknown",b=t=>{a.value=t,c.setPatient(t)},x=()=>{a.value={},c.resetPatient()},B=t=>{const s=t.target;l.first=100,l.before="",l.text=s.value,l.filterAction=!0,c.fetchPatients(l)},O=async()=>{x(),d.value=!0},j=t=>{b(t),d.value=!1};return W(()=>{N.fetchCountries(),c.fetchPatients(l)}),(t,s)=>{const G=u("fel-heading"),U=u("router-link"),$=u("fel-loader"),Q=u("fel-tabs"),z=u("fel-modal"),P=q("motion");return n(),r("div",ne,[f(G,{title:"Patients Quick View"}),e("div",ae,[e("div",re,[w(S.CREATE,I.PATIENT)?(n(),y(U,{key:0,to:"/patients/search",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:v(()=>s[2]||(s[2]=[X(" Add Patient ")])),_:1})):g("",!0),e("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-foreground placeholder-muted-foreground border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyup:B,onFocus:x},null,32)]),w(S.CREATE,I.PATIENT)?(n(),r("button",{key:0,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:O}," Quick Registration ")):g("",!0)]),e("div",ie,[A((n(),r("section",le,[C(R)?(n(),y($,{key:0,message:"Fetching patients..."})):(n(),r("div",ce,[(n(!0),r(Y,null,Z(C(L),o=>(n(),r("div",{key:o.patientId,onClick:be=>b(o),class:ee(["bg-background p-4 rounded-lg shadow-sm border border-border cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary",{"border-primary bg-primary/5":o.uid===a.value?.uid}])},[e("div",ue,[e("div",pe,[e("span",me,i(M(o)),1),e("span",_e,i(o.age)+" yrs, "+i(V(+(o.gender??0))),1)]),e("div",fe,[e("span",null,i(o.patientId),1),e("span",null,i(o.clientPatientId),1)]),e("div",ge,[e("span",null,i(o?.client?.district?.province?.name),1),e("span",null,i(o?.client?.name),1)])])],10,de))),128))]))])),[[P]]),D.value?A((n(),r("section",ye,[f(h.PatientInfo,{onEditPatient:s[0]||(s[0]=o=>d.value=!0)}),f(Q,{tabs:F.value,"initial-tab":"samples",class:"rounded-lg"},null,8,["tabs"])])),[[P]]):g("",!0)]),d.value?(n(),y(z,{key:0,onClose:s[1]||(s[1]=o=>d.value=!1),"content-width":"w-3/6",class:"bg-background"},{header:v(()=>s[3]||(s[3]=[e("h3",{class:"text-xl font-semibold text-foreground"},"Patient Form",-1)])),body:v(()=>[f(h.PatientForm,{patient:a.value,navigate:!1,onClose:j},null,8,["patient"])]),_:1})):g("",!0)])}}});const Ae=te(ve,[["__scopeId","data-v-81af20fc"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{Ae as default};
