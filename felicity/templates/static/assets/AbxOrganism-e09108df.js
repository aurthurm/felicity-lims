import{d as Y,I as Z,r,n as F,p as g,q as ee,o as P,c as se,b as e,y as c,g as f,A as v,f as a,z as oe,t as ae,w as le,e as i,v as d,ae as te,i as ne,F as ie,j as k,_ as C,a6 as M,D as de,E as re,k as ue}from"./index-06e172a4.js";import{d as me,e as ce,f as pe,g as fe,h as be,i as ge,j as he,k as ye,l as _e}from"./microbiology.mutations-39f0523e.js";const n=y=>(de("data-v-4d09f0a0"),y=y(),re(),y),xe={class:"w-full my-4"},ve=n(()=>e("hr",null,null,-1)),ke={class:"mb-6"},Ce=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),Be={class:"grid grid-cols-2 gap-4"},Ae={class:"block"},Ge=n(()=>e("span",{class:"text-gray-700"},"Organism Name",-1)),Oe={class:"block"},Ve=n(()=>e("span",{class:"text-gray-700"},"WHONET Code",-1)),we={class:"block"},Te=n(()=>e("span",{class:"text-gray-700"},"Replaced By",-1)),Ue={class:"block"},Ie=n(()=>e("span",{class:"text-gray-700"},"Taxonomic Status",-1)),De={class:"mb-6"},Se=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),Fe={class:"grid grid-cols-2 gap-4"},Pe={class:"block"},Me=n(()=>e("span",{class:"text-gray-700"},"Common",-1)),Ee={class:"block"},Ne=n(()=>e("span",{class:"text-gray-700"},"Organism Type",-1)),Re={class:"block"},Ke=n(()=>e("span",{class:"text-gray-700"},"Anaerobe",-1)),Le={class:"block"},je=n(()=>e("span",{class:"text-gray-700"},"Morphology",-1)),qe={class:"mb-6"},ze=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Taxonomy",-1)),He={class:"grid grid-cols-2 gap-4"},We={class:"block"},Qe=n(()=>e("span",{class:"text-gray-700"},"Subkingdom Code",-1)),$e={class:"block"},Je=n(()=>e("span",{class:"text-gray-700"},"Family Code",-1)),Xe={class:"block"},Ye=n(()=>e("span",{class:"text-gray-700"},"Genus Group",-1)),Ze={class:"block"},es=n(()=>e("span",{class:"text-gray-700"},"Genus Code",-1)),ss={class:"block"},os=n(()=>e("span",{class:"text-gray-700"},"Species Group",-1)),as={class:"block"},ls=n(()=>e("span",{class:"text-gray-700"},"Serovar Group",-1)),ts={class:"mb-6"},ns=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),is={class:"grid grid-cols-2 gap-4"},ds={class:"block"},rs=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxon ID",-1)),us={class:"block"},ms=n(()=>e("span",{class:"text-gray-700"},"GBIF Dataset ID",-1)),cs={class:"block"},ps=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxonomic Status",-1)),fs={class:"mb-6"},bs=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),gs={class:"grid grid-cols-2 gap-4"},hs={class:"block"},ys=n(()=>e("span",{class:"text-gray-700"},"Kingdom",-1)),_s={class:"block"},xs=n(()=>e("span",{class:"text-gray-700"},"Phylum",-1)),vs={class:"grid grid-cols-2 gap-4"},ks={class:"block"},Cs=n(()=>e("span",{class:"text-gray-700"},"Class",-1)),Bs={class:"block"},As=n(()=>e("span",{class:"text-gray-700"},"Order",-1)),Gs={class:"grid grid-cols-2 gap-4"},Os={class:"block"},Vs=n(()=>e("span",{class:"text-gray-700"},"Family",-1)),ws={class:"block"},Ts=n(()=>e("span",{class:"text-gray-700"},"Genus",-1)),Us={class:"mb-6"},Is=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Comments",-1)),Ds={class:"block"},Ss=n(()=>e("span",{class:"text-gray-700"},"Additional Comments",-1)),Fs=n(()=>e("hr",{class:"my-6"},null,-1)),Ps=n(()=>e("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Organism ",-1)),Ms=Y({__name:"AbxOrganism",setup(y){const E=k(()=>C(()=>import("./FelModal-7579de8d.js"),["assets/FelModal-7579de8d.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/FelModal-780aeea9.css"])),N=k(()=>C(()=>import("./FelDataTable-52d77ae1.js"),["assets/FelDataTable-52d77ae1.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),b=k(()=>C(()=>import("./vue-multiselect.esm-7066afb0.js"),["assets/vue-multiselect.esm-7066afb0.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),{withClientMutation:B,withClientQuery:p}=Z();let h=r(!1),R=r(""),s=F({});const A=r(!0),G=r(!1),m=r([]),O=r([]),V=r([]),K=g(()=>V.value.filter(t=>t.kingdomUid===s.kingdom?.uid)),w=r([]),L=g(()=>w.value.filter(t=>t.phylumUid===s.phylum?.uid)),T=r([]),j=g(()=>T.value.filter(t=>t.classUid===s.class?.uid)),U=r([]),q=g(()=>U.value.filter(t=>t.orderUid===s.order?.uid)),I=r([]),z=g(()=>I.value.filter(t=>t.familyUid===s.family?.uid));let u=F({first:50,after:"",text:"",sortBy:["name"],filterAction:!1});const D=r(0);let S=r({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const H=g(()=>m?.value?.length+" of "+D.value+" organisms"),W=r([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"whonetOrgCode",value:"whonetOrgCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"replacedBy",value:"replacedBy",sortable:!1,sortBy:"asc",hidden:!0},{name:"taxonomicStatus",value:"taxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"common",value:"common",sortable:!1,sortBy:"asc",hidden:!0},{name:"organismType",value:"organismType",sortable:!1,sortBy:"asc",hidden:!1},{name:"anaerobe",value:"anaerobe",sortable:!1,sortBy:"asc",hidden:!1},{name:"morphology",value:"morphology",sortable:!1,sortBy:"asc",hidden:!0},{name:"subkingdomCode",value:"subkingdomCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"familyCode",value:"familyCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusGroup",value:"genusGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusCode",value:"genusCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"speciesGroup",value:"speciesGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"serovarGroup",value:"serovarGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"msfGrpClin",value:"msfGrpClin",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctCode",value:"sctCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctText",value:"sctText",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonId",value:"gbifTaxonId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifDatasetId",value:"gbifDatasetId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonomicStatus",value:"gbifTaxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"kingdom",value:"kingdom.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"phylum",value:"phylum.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"class",value:"class_.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"order",value:"order.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"family",value:"family.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"genus",value:"genus.name",sortable:!1,sortBy:"asc",hidden:!1}]);function x(t){p(he,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(o=>{const l=o.abxOrganismAll,_=l.items;t.filterAction?(m.value=[],m.value=_):m.value=M(m.value,_,"uid"),D.value=l?.totalCount,S.value=l?.pageInfo}).finally(()=>{G.value=!1})}ee(()=>{x(u),p(me,{},"abxOrderAll").then(t=>{t&&(T.value=t)}),p(ce,{},"abxFamilyAll").then(t=>{t&&(U.value=t)}),p(pe,{},"abxKingdomAll").then(t=>{t&&(O.value=t)}),p(fe,{},"abxPhylumAll").then(t=>{t&&(V.value=t)}),p(be,{},"abxGenusAll").then(t=>{t&&(I.value=t)}),p(ge,{},"abxClassAll").then(t=>{t&&(w.value=t)})});function Q(t){u.first=100,u.after="",u.text=t.filterText,u.filterAction=!0,x(u)}function $(t){u.first=t.fetchCount,u.after=S?.value?.endCursor,u.text=t.filterText,u.filterAction=!1,x(u)}const J=()=>Object.assign(s,{});function X(){const t={name:s?.name,whonetOrgCode:s?.whonetOrgCode,replacedBy:s?.replacedBy,taxonomicStatus:s?.taxonomicStatus,common:s?.common,organismType:s?.organismType,anaerobe:s?.anaerobe,morphology:s?.morphology,subkingdomCode:s?.subkingdomCode,familyCode:s?.familyCode,genusGroup:s?.genusGroup,genusCode:s?.genusCode,speciesGroup:s?.speciesGroup,serovarGroup:s?.serovarGroup,msfGrpClin:s?.msfGrpClin,sctCode:s?.sctCode,sctText:s?.sctText,gbifTaxonId:s?.gbifTaxonId,gbifDatasetId:s?.gbifDatasetId,gbifTaxonomicStatus:s?.gbifTaxonomicStatus,kingdomUid:s?.kingdom?.uid,phylumUid:s?.phylum?.uid,classUid:s?.class?.uid,orderUid:s?.order?.uid,familyUid:s?.family?.uid,genusUid:s?.genus?.uid,comments:s?.comments};A.value===!0&&B(ye,{payload:t},"createAbxOrganism").then(o=>{o&&(m.value=M(m.value,[o],"uid"))}),A.value===!1&&B(_e,{uid:s.uid,payload:t},"updateAbxOrganism").then(o=>{if(o){const l=m.value.findIndex(_=>_.uid==o.uid);m.value[l]=o}}),h.value=!1}return(t,o)=>(P(),se(ie,null,[e("div",xe,[c(` <hr>\r
    <button @click="FormManager(true)"\r
            class="px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none">\r
      Add Organism\r
    </button> `),ve,f(a(N),{columns:W.value,data:m.value,toggleColumns:!0,loading:G.value,paginable:!0,pageMeta:{fetchCount:a(u).first,hasNextPage:!0,countNone:H.value},searchable:!0,filterable:!1,onOnSearchKeyUp:Q,onOnSearchFocus:J,onOnPaginate:$,selectable:!1},{footer:v(()=>[]),_:1},8,["columns","data","loading","pageMeta"])]),c(" Organism Form Modal "),a(h)?(P(),oe(a(E),{key:0,onClose:o[24]||(o[24]=l=>ne(h)?h.value=!1:h=!1),"content-width":"w-1/2"},{header:v(()=>[e("h3",null,ae(a(R)),1)]),body:v(()=>[e("form",{onSubmit:le(X,["prevent"]),class:"p-4"},[c(" Basic Information "),e("div",ke,[Ce,e("div",Be,[e("label",Ae,[Ge,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[0]||(o[0]=l=>a(s).name=l),placeholder:"Enter organism name"},null,512),[[d,a(s).name]])]),e("label",Oe,[Ve,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=l=>a(s).whonetOrgCode=l),placeholder:"WHONET code"},null,512),[[d,a(s).whonetOrgCode]])]),e("label",we,[Te,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[2]||(o[2]=l=>a(s).replacedBy=l),placeholder:"Replaced by"},null,512),[[d,a(s).replacedBy]])]),e("label",Ue,[Ie,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[3]||(o[3]=l=>a(s).taxonomicStatus=l),placeholder:"Taxonomic status"},null,512),[[d,a(s).taxonomicStatus]])])])]),c(" Classification "),e("div",De,[Se,e("div",Fe,[e("label",Pe,[Me,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[4]||(o[4]=l=>a(s).common=l),placeholder:"Common"},null,512),[[d,a(s).common]])]),e("label",Ee,[Ne,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[5]||(o[5]=l=>a(s).organismType=l),placeholder:"Organism type"},null,512),[[d,a(s).organismType]])]),e("label",Re,[Ke,i(e("input",{type:"checkbox",class:"form-checkbox mt-1","onUpdate:modelValue":o[6]||(o[6]=l=>a(s).anaerobe=l)},null,512),[[te,a(s).anaerobe]])]),e("label",Le,[je,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[7]||(o[7]=l=>a(s).morphology=l),placeholder:"Morphology"},null,512),[[d,a(s).morphology]])])])]),c(" Taxonomy "),e("div",qe,[ze,e("div",He,[e("label",We,[Qe,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[8]||(o[8]=l=>a(s).subkingdomCode=l),placeholder:"Subkingdom code"},null,512),[[d,a(s).subkingdomCode]])]),e("label",$e,[Je,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[9]||(o[9]=l=>a(s).familyCode=l),placeholder:"Family code"},null,512),[[d,a(s).familyCode]])]),e("label",Xe,[Ye,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[10]||(o[10]=l=>a(s).genusGroup=l),placeholder:"Genus group"},null,512),[[d,a(s).genusGroup]])]),e("label",Ze,[es,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[11]||(o[11]=l=>a(s).genusCode=l),placeholder:"Genus code"},null,512),[[d,a(s).genusCode]])]),e("label",ss,[os,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[12]||(o[12]=l=>a(s).speciesGroup=l),placeholder:"Species group"},null,512),[[d,a(s).speciesGroup]])]),e("label",as,[ls,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[13]||(o[13]=l=>a(s).serovarGroup=l),placeholder:"Serovar group"},null,512),[[d,a(s).serovarGroup]])])])]),c(" Additional Details "),e("div",ts,[ns,e("div",is,[e("label",ds,[rs,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[14]||(o[14]=l=>a(s).gbifTaxonId=l),placeholder:"GBIF Taxon ID"},null,512),[[d,a(s).gbifTaxonId]])]),e("label",us,[ms,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[15]||(o[15]=l=>a(s).gbifDatasetId=l),placeholder:"GBIF Dataset ID"},null,512),[[d,a(s).gbifDatasetId]])]),e("label",cs,[ps,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[16]||(o[16]=l=>a(s).gbifTaxonomicStatus=l),placeholder:"GBIF Taxonomic Status"},null,512),[[d,a(s).gbifTaxonomicStatus]])])])]),e("div",fs,[bs,e("div",gs,[e("label",hs,[ys,f(a(b),{modelValue:a(s).kingdom,"onUpdate:modelValue":o[17]||(o[17]=l=>a(s).kingdom=l),options:O.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",_s,[xs,f(a(b),{modelValue:a(s).phylum,"onUpdate:modelValue":o[18]||(o[18]=l=>a(s).phylum=l),options:K.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",vs,[e("label",ks,[Cs,f(a(b),{modelValue:a(s).class_,"onUpdate:modelValue":o[19]||(o[19]=l=>a(s).class_=l),options:L.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Bs,[As,f(a(b),{modelValue:a(s).Order,"onUpdate:modelValue":o[20]||(o[20]=l=>a(s).Order=l),options:j.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",Gs,[e("label",Os,[Vs,f(a(b),{modelValue:a(s).family,"onUpdate:modelValue":o[21]||(o[21]=l=>a(s).family=l),options:q.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",ws,[Ts,f(a(b),{modelValue:a(s).genus,"onUpdate:modelValue":o[22]||(o[22]=l=>a(s).genus=l),options:z.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),c(" Comments "),e("div",Us,[Is,e("label",Ds,[Ss,i(e("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":o[23]||(o[23]=l=>a(s).comments=l),rows:"3",placeholder:"Additional comments..."},null,512),[[d,a(s).comments]])])]),Fs,Ps],32)]),_:1})):c("v-if",!0)],64))}});const Rs=ue(Ms,[["__scopeId","data-v-4d09f0a0"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganism.vue"]]);export{Rs as default};
