import{W as B,f as F,a2 as c,h as $,i as b,r as y,o as i,c as d,O as t,a as U,M as g,N as _,F as f,H as x,J as u,a7 as n,z as L,C as O,D as p,Z as v,a4 as w,ai as R,L as z,_ as H}from"./index-5d85e9da.js";import{c as J,d as K}from"./instrument.mutations-b27fcf22.js";import{u as W}from"./user-838cdd03.js";import{u as Y}from"./setup-d31371ee.js";import"./_queries-0bd36c18.js";const Z={class:"space-y-6"},q={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},G={class:"min-w-full divide-y divide-border"},P={class:"bg-background divide-y divide-border"},Q={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},X={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},ee={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},te={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},se={class:"px-4 py-2 whitespace-nowrap text-sm text-right"},oe=["onClick"],ne={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re={class:"space-y-2 md:col-span-2"},ie={class:"space-y-2"},de={class:"space-y-2"},le=["value"],ue={class:"space-y-2"},ae=["value"],pe={class:"space-y-2"},fe=["value"],me={class:"space-y-2 md:col-span-2"},ce={class:"flex justify-end pt-6"},be={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},ge=B({__name:"Instruments",setup(xe){W();const r=Y(),{withClientMutation:k}=F();c("view");let a=c(!1),I=c("");const m=c(!0);let o=$({});r.fetchInstrumentTypes();const T=b(()=>r.getInstrumentTypes);r.fetchInstruments();const S=b(()=>r.getInstruments);r.fetchManufacturers();const C=b(()=>r.getManufacturers);r.fetchSuppliers();const E=b(()=>r.getSuppliers);function M(){const l={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};k(J,{payload:l},"createInstrument").then(e=>r.addInstrument(e))}function N(){const l={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};k(K,{uid:o.uid,payload:l},"updateInstrument").then(e=>r.updateInstrument(e))}function h(l,e={}){m.value=l,a.value=!0,I.value=(l?"CREATE":"EDIT")+" ANALYSES INSTRUMENT",l?Object.assign(o,{}):Object.assign(o,{...e})}function V(){m.value===!0&&M(),m.value===!1&&N(),a.value=!1}return(l,e)=>{const D=y("fel-button"),A=y("fel-heading"),j=y("fel-modal");return i(),d(f,null,[t("div",Z,[U(A,{title:"Instruments"},{default:g(()=>[U(D,{onClick:e[0]||(e[0]=s=>h(!0))},{default:g(()=>e[9]||(e[9]=[_(" Add Instrument")])),_:1})]),_:1}),t("div",q,[t("table",G,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Name"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Type"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Manufacturer"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Supplier"),t("th",{class:"px-4 py-2 text-right text-sm font-medium text-muted-foreground tracking-wider"},"Actions")])],-1)),t("tbody",P,[(i(!0),d(f,null,x(S.value,s=>(i(),d("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",Q,u(s?.name),1),t("td",X,u(s?.instrumentType?.name),1),t("td",ee,u(s?.manufacturer?.name),1),t("td",te,u(s?.supplier?.name),1),t("td",se,[t("button",{onClick:ye=>h(!1,s),class:"text-primary hover:text-primary/80 focus:outline-none focus:underline","aria-label":"Edit instrument"}," Edit ",8,oe)])]))),128))])])])]),n(a)?(i(),L(j,{key:0,onClose:e[8]||(e[8]=s=>R(a)?a.value=!1:a=!1)},{body:g(()=>[t("form",{onSubmit:e[7]||(e[7]=O(s=>V(),["prevent"])),class:"space-y-6"},[t("div",ne,[t("div",re,[e[11]||(e[11]=t("label",{for:"name",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument Name ",-1)),p(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=s=>n(o).name=s),type:"text",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter instrument name"},null,512),[[v,n(o).name]])]),t("div",ie,[e[12]||(e[12]=t("label",{for:"keyword",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Keyword ",-1)),p(t("input",{id:"keyword","onUpdate:modelValue":e[2]||(e[2]=s=>n(o).keyword=s),type:"text",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter keyword"},null,512),[[v,n(o).keyword]])]),t("div",de,[e[14]||(e[14]=t("label",{for:"instrumentType",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument Type ",-1)),p(t("select",{id:"instrumentType","onUpdate:modelValue":e[3]||(e[3]=s=>n(o).instrumentTypeUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[13]||(e[13]=t("option",{value:""},"Select instrument type",-1)),(i(!0),d(f,null,x(T.value,s=>(i(),d("option",{key:s?.uid,value:s.uid},u(s?.name),9,le))),128))],512),[[w,n(o).instrumentTypeUid]])]),t("div",ue,[e[16]||(e[16]=t("label",{for:"manufacturer",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Manufacturer ",-1)),p(t("select",{id:"manufacturer","onUpdate:modelValue":e[4]||(e[4]=s=>n(o).manufacturerUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[15]||(e[15]=t("option",{value:""},"Select manufacturer",-1)),(i(!0),d(f,null,x(C.value,s=>(i(),d("option",{key:s?.uid,value:s.uid},u(s?.name),9,ae))),128))],512),[[w,n(o).manufacturerUid]])]),t("div",pe,[e[18]||(e[18]=t("label",{for:"supplier",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Supplier ",-1)),p(t("select",{id:"supplier","onUpdate:modelValue":e[5]||(e[5]=s=>n(o).supplierUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[17]||(e[17]=t("option",{value:""},"Select supplier",-1)),(i(!0),d(f,null,x(E.value,s=>(i(),d("option",{key:s?.uid,value:s.uid},u(s?.name),9,fe))),128))],512),[[w,n(o).supplierUid]])]),t("div",me,[e[19]||(e[19]=t("label",{for:"description",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Description ",-1)),p(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=s=>n(o).description=s),rows:"3",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description"},null,512),[[v,n(o).description]])])]),t("div",ce,[t("button",be,u(m.value?"Create":"Update")+" Instrument ",1)])],32)]),default:g(()=>[e[20]||(e[20]=_(' :title="formTitle"> '))]),_:1})):z("",!0)],64)}}}),_e=H(ge,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Instruments.vue"]]);export{_e as default};
