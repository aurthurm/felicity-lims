import{W as T,f as N,a8 as q,a2 as i,a9 as R,h as $,X as L,r as P,o as l,c as b,O as e,a as j,a7 as r,J as u,F as z,H as I,a5 as O,z as _,L as h,M as w,C as H,N as J,D as k,Z as B,af as C,a0 as Q,a1 as W,_ as X}from"./index-93739211.js";import{a as Z,b as K,c as Y}from"./grind.queries-4f8f18f2.js";import{r as ee,m as oe}from"./index-abc449ba.js";import{r as te}from"./ArrowLeftIcon-f6f9866c.js";const re={class:"bg-background rounded-lg shadow-sm border border-border p-6 space-y-6"},se={class:"flex items-center space-x-4"},ae={class:"flex items-center space-x-4"},ne={class:"text-xl text-foreground"},de={class:"space-y-4"},ie={class:"border-t border-b border-border py-4"},le={class:"text-muted-foreground italic"},ue={class:"space-y-4"},ce={class:"flex flex-wrap items-center gap-2"},me={class:"flex flex-wrap gap-2"},fe=["onClick","onDblclick"],pe={class:"text-lg font-semibold text-foreground"},be={class:"flex justify-end space-x-3"},ge={type:"submit",class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"},xe=T({__name:"Scheme",setup(ve){const D=Q(()=>W(()=>import("./Board-7e1a6867.js"),["assets/Board-7e1a6867.js","assets/index-93739211.js","assets/index-0f090789.css","assets/grind.queries-4f8f18f2.js","assets/Board-7e663929.css"])),{withClientMutation:g,withClientQuery:S}=N(),c=q(),d=i();R(async()=>{if(await x(),c.query.board){const t=d.value?.boards?.find(o=>o.uid===c.query.board);t&&v(t)}});function x(t="cache-first"){return S(Z,{uid:c.params.schemeUid},"grindSchemeByUid",t).then(o=>{d.value=o})}let m=i(!1),a=i(!1),U=i(!1),p=i(""),n=$({});const F=()=>{m.value=!0,a.value=!0,p.value="Create Board",ee(n)},V=()=>{a.value=!1,m.value?g(K,{payload:{...n,schemeUid:c.params.schemeUid}},"createGrindBoard").then(t=>{d.value.boards||(d.value.boards=[]),d.value.boards.push(t)}):g(Y,{uid:n.uid,payload:{title:n.title,description:n.description}},"updateGrindBoard").then(()=>x("network-only")),m.value=!1},A=t=>{m.value=!1,oe(n,t,!0),p.value="Update Board",a.value=!0};let f=i();const v=t=>{f.value=t,y.push({query:{board:t.uid}})},y=L();function E(){y.back()}return(t,o)=>{const G=P("fel-modal");return l(),b("div",re,[e("div",se,[e("button",{onClick:E,class:"p-1 text-muted-foreground hover:text-foreground transition-colors duration-200"},[j(r(te),{class:"w-5 h-5"})]),e("div",ae,[o[4]||(o[4]=e("h1",{class:"text-2xl font-bold text-foreground"},"Project Title:",-1)),e("span",ne,u(d.value?.title),1)])]),e("div",de,[e("div",ie,[e("p",le,u(d.value?.description),1)])]),e("div",ue,[o[5]||(o[5]=e("h2",{class:"text-xl font-semibold text-foreground"},"Boards",-1)),e("div",ce,[e("div",me,[(l(!0),b(z,null,I(d.value?.boards,s=>(l(),b("button",{key:s.uid,class:O(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[r(f)?.uid===s.uid?"bg-primary text-primary-foreground border-transparent":"bg-muted text-foreground border border-border hover:bg-muted/80"]]),onClick:M=>v(s),onDblclick:M=>A(s)},u(s.title),43,fe))),128))]),e("button",{onClick:F,class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," + Board ")])]),r(f)?(l(),_(r(D),{key:0,board:r(f)},null,8,["board"])):h("",!0),r(a)?(l(),_(G,{key:1,onClose:o[3]||(o[3]=s=>C(a)?a.value=!1:a=!1),"content-width":"w-full max-w-2xl"},{header:w(()=>[e("h3",pe,u(r(p)),1)]),body:w(()=>[e("form",{onSubmit:H(V,["prevent"]),class:"space-y-6"},[e("div",null,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-foreground mb-1",for:"title"},[J(" Scheme Title "),e("span",{class:"text-destructive"},"*")],-1)),k(e("input",{id:"title","onUpdate:modelValue":o[0]||(o[0]=s=>r(n).title=s),type:"text",required:"",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme title"},null,512),[[B,r(n).title]])]),e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-foreground mb-1",for:"description"}," Description ",-1)),k(e("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=s=>r(n).description=s),rows:"3",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme description"},null,512),[[B,r(n).description]])]),e("div",be,[e("button",{type:"button",onClick:o[2]||(o[2]=s=>C(a)?a.value=!1:a=!1),class:"px-4 py-2 text-sm font-medium text-foreground bg-background border border-border rounded-md shadow-sm hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," Cancel "),e("button",ge,u(r(U)?"Create":"Update"),1)])],32)]),_:1})):h("",!0)])}}});const ke=X(xe,[["__scopeId","data-v-be0cddfa"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{ke as default};
