const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-BoOjdWpS.js","assets/index-CNAOKjig.js","assets/index-vawJu9QC.css"])))=>i.map(i=>d[i]);
import{a0 as C,f as M,a7 as m,g as D,ad as V,a1 as F,a6 as E,_ as K,r as N,c as p,o as f,A as e,C as T,E as S,J as h,K as j,L as b,N as _,D as B,F as O,a2 as U,a as I}from"./index-CNAOKjig.js";import{q as L,r as G,C as q,F as J}from"./microbiology.mutations-Sq_uOjPv.js";const Q=C({__name:"AbxPhylum",setup(w,{expose:o}){o();const x=F(()=>E(()=>import("./vue-multiselect.esm-BoOjdWpS.js"),__vite__mapDeps([0,1,2]))),{withClientMutation:n,withClientQuery:u}=M();let i=m(!1),a=m(""),t=D({});const d=m(!0),l=m([]),g=m([]);V(()=>{u(L,{},"abxKingdomAll").then(s=>{s&&(g.value=s)}),u(G,{},"abxPhylumAll").then(s=>{s&&(l.value=s)})});function A(s,r={}){d.value=s,i.value=!0,a.value=(s?"Create":"Edit")+" Phylum",s?Object.assign(t,{}):Object.assign(t,{...r})}function P(){const s={name:t.name,kingdomUid:t.kingdom?.uid};d.value===!0&&n(q,{payload:s},"createAbxPhylum").then(r=>{r&&l.value.unshift(r)}),d.value===!1&&n(J,{uid:t.uid,payload:s},"updateAbxPhylum").then(r=>{if(r){const v=l.value.findIndex(c=>c.uid==r.uid);v>-1&&(l.value=[...l.value.map((c,k)=>k===v?r:c)])}}),i.value=!1}const y={VueMultiselect:x,withClientMutation:n,withClientQuery:u,get showModal(){return i},set showModal(s){i=s},get formTitle(){return a},set formTitle(s){a=s},get form(){return t},set form(s){t=s},formAction:d,abxPhylums:l,abxKingdoms:g,FormManager:A,saveForm:P};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),R={class:"space-y-6"},z={class:"flex items-center justify-between"},H={class:"rounded-md border border-border bg-card p-6"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-border"},Y={class:"divide-y divide-border bg-background"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},ee={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},oe=["onClick"],te={class:"text-xl font-semibold text-foreground"},se={class:"grid grid-cols-2 gap-4"},ne={class:"block"},re={class:"block"};function le(w,o,x,n,u,i){const a=N("fel-modal");return f(),p(h,null,[e("div",R,[e("div",z,[o[4]||(o[4]=e("h2",{class:"text-2xl font-semibold text-foreground"},"Phyla",-1)),e("button",{onClick:o[0]||(o[0]=t=>n.FormManager(!0)),class:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Add Phylum ")]),e("div",H,[e("div",W,[e("table",X,[o[5]||(o[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Kingdom"),e("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Y,[(f(!0),p(h,null,j(n.abxPhylums,t=>(f(),p("tr",{key:t?.uid,class:"hover:bg-muted/50"},[e("td",Z,b(t?.name),1),e("td",$,b(t?.kingdom?.name),1),e("td",ee,[e("button",{onClick:d=>n.FormManager(!1,t),class:"text-primary hover:text-primary/80"}," Edit ",8,oe)])]))),128))])])])])]),n.showModal?(f(),T(a,{key:0,onClose:o[3]||(o[3]=t=>n.showModal=!1),"content-width":"w-1/2"},{header:_(()=>[e("h3",te,b(n.formTitle),1)]),body:_(()=>[e("form",{onSubmit:B(n.saveForm,["prevent"]),class:"space-y-6 p-4"},[e("div",se,[e("label",ne,[o[6]||(o[6]=e("span",{class:"text-sm font-medium text-foreground"},"Phylum Name",-1)),O(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":o[1]||(o[1]=t=>n.form.name=t),placeholder:"Name ..."},null,512),[[U,n.form.name]])]),e("label",re,[o[7]||(o[7]=e("span",{class:"text-sm font-medium text-foreground"},"Kingdom",-1)),I(n.VueMultiselect,{modelValue:n.form.kingdom,"onUpdate:modelValue":o[2]||(o[2]=t=>n.form.kingdom=t),options:n.abxKingdoms,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),o[8]||(o[8]=e("hr",{class:"border-border"},null,-1)),o[9]||(o[9]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Phylum ",-1))],32)]),_:1})):S("",!0)],64)}const de=K(Q,[["render",le],["__scopeId","data-v-bc047b6b"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxPhylum.vue"]]);export{de as default};
