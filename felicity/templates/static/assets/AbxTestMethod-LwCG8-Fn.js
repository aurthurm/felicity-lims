import{Y as S,u as L,a0 as g,ah as P,a3 as V,_ as q,r as m,c as I,o as _,z as u,A as w,C as B,a as t,K as o,M as n,F as D,H as R,I as E,B as U,a4 as H}from"./index-OdhKCqIc.js";import{c as z,a as G,u as K,F as O}from"./index.esm-BfHj8iGm.js";import{c as Q,ag as Y,ah as J}from"./microbiology.mutations-cVAbKt4K.js";import{E as W,a as X,b as Z,c as j,d as $}from"./EmptyTitle-aCQRDpx3.js";import{I as ee}from"./Input-BEm5S0CJ.js";import{F as te,a as oe,b as ae}from"./FormMessage-CgXFMXx9.js";import{F as le}from"./FormLabel-DxP9wnWS.js";import{P as re}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const ne=S({__name:"AbxTestMethod",setup(N,{expose:a}){a();const{withClientMutation:x,withClientQuery:e}=L();let b=g(!1),h=g("");const s=g(!0),d=g(null),T=z({name:G().trim().required("Name is required")}),{handleSubmit:f,resetForm:y,setValues:v}=K({validationSchema:T,initialValues:{name:"",description:""}}),i=g([]);P(()=>{e(Q,{},"abxTestMethodAll").then(l=>{l&&(i.value=l)})});function F(l,p={}){s.value=l,b.value=!0,h.value=(l?"Create":"Edit")+" Abx TestMethod",l?(d.value=null,y()):(d.value=p.uid??null,v({name:p.name??"",description:p.description??""}))}const r=f(l=>{const p={name:l.name,description:l.description};s.value===!0&&x(Y,{payload:p},"createAbxTestMethod").then(c=>{c&&i.value.unshift(c)}),s.value===!1&&d.value&&x(J,{uid:d.value,payload:p},"updateAbxTestMethod").then(c=>{if(c){const C=i.value.findIndex(M=>M.uid==c.uid);C>-1&&(i.value=[...i.value.map((M,k)=>k===C?c:M)])}}),b.value=!1}),A={withClientMutation:x,withClientQuery:e,get showModal(){return b},set showModal(l){b=l},get formTitle(){return h},set formTitle(l){h=l},formAction:s,currentUid:d,testMethodSchema:T,handleSubmit:f,resetForm:y,setValues:v,abxTestMethods:i,FormManager:F,saveForm:r,get Empty(){return $},get EmptyContent(){return j},get EmptyDescription(){return Z},get EmptyHeader(){return X},get EmptyTitle(){return W},get Button(){return V},get Input(){return ee},get FormControl(){return ae},get FormField(){return O},get FormItem(){return oe},get FormLabel(){return le},get FormMessage(){return te},PageHeading:re};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),se={class:"space-y-6"},de={class:"border border-border bg-card rounded-lg shadow-md"},ie={class:"relative w-full overflow-auto"},me={class:"text-xl font-semibold text-foreground"},ue={class:"grid grid-cols-2 gap-4"};function fe(N,a,x,e,b,h){const s=m("TableHead"),d=m("TableRow"),T=m("TableHeader"),f=m("TableCell"),y=m("TableEmpty"),v=m("TableBody"),i=m("Table"),F=m("Modal");return _(),I(D,null,[u("div",se,[t(e.PageHeading,{title:"Antibiotic Test Method"}),u("div",de,[u("div",ie,[t(i,{class:"w-full caption-bottom text-sm"},{default:o(()=>[t(T,{class:"[&_tr]:border-b"},{default:o(()=>[t(d,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(s,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[2]||(a[2]=[n("Name",-1)])]),_:1}),t(s,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[3]||(a[3]=[n("Description",-1)])]),_:1}),t(s,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[4]||(a[4]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(v,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[(_(!0),I(D,null,R(e.abxTestMethods,r=>(_(),w(d,{key:r?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(f,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[n(E(r?.name),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[n(E(r?.description),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle text-right text-sm"})]),_:2},1024))),128)),!e.abxTestMethods||e.abxTestMethods.length===0?(_(),w(y,{key:0,colspan:3},{default:o(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:o(()=>[t(e.EmptyContent,null,{default:o(()=>[t(e.EmptyHeader,null,{default:o(()=>[t(e.EmptyTitle,null,{default:o(()=>[...a[5]||(a[5]=[n("No test methods found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:o(()=>[...a[6]||(a[6]=[n("Add a test method to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})])])]),e.showModal?(_(),w(F,{key:0,onClose:a[1]||(a[1]=r=>e.showModal=!1)},{header:o(()=>[u("h3",me,E(e.formTitle),1)]),body:o(()=>[u("form",{onSubmit:a[0]||(a[0]=U((...r)=>e.saveForm&&e.saveForm(...r),["prevent"])),class:"space-y-6 p-4"},[u("div",ue,[t(e.FormField,{name:"name"},{default:o(({componentField:r})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[7]||(a[7]=[n("Name",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,H(r,{placeholder:"Name ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:o(({componentField:r})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[8]||(a[8]=[n("Description",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,H(r,{placeholder:"Begin typing ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),a[10]||(a[10]=u("hr",{class:"border-border"},null,-1)),t(e.Button,{type:"submit",class:"w-full"},{default:o(()=>[...a[9]||(a[9]=[n(" Save Abx TestMethod ",-1)])]),_:1})],32)]),_:1})):B("",!0)],64)}const ve=q(ne,[["render",fe],["__scopeId","data-v-91fc123a"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxTestMethod.vue"]]);export{ve as default};
