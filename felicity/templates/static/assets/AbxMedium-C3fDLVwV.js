import{Y as P,u as V,a0 as g,ah as L,a3 as q,_ as R,r as m,c as I,o as _,z as u,A as h,C as B,a as t,K as o,M as n,F as D,H as U,I as E,B as z,a4 as H}from"./index-OdhKCqIc.js";import{c as G,a as N,u as K,F as O}from"./index.esm-BfHj8iGm.js";import{P as Q,V as W,W as Y}from"./microbiology.mutations-cVAbKt4K.js";import{E as J,a as X,b as Z,c as j,d as $}from"./EmptyTitle-aCQRDpx3.js";import{I as ee}from"./Input-BEm5S0CJ.js";import{F as te,a as oe,b as ae}from"./FormMessage-CgXFMXx9.js";import{F as le}from"./FormLabel-DxP9wnWS.js";import{P as re}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const ne=P({__name:"AbxMedium",setup(S,{expose:a}){a();const{withClientMutation:x,withClientQuery:e}=V();let b=g(!1),y=g("");const d=g(!0),i=g(null),v=G({name:N().trim().required("Name is required"),description:N().trim().nullable()}),{handleSubmit:f,resetForm:F,setValues:M}=K({validationSchema:v,initialValues:{name:"",description:""}}),s=g([]);L(()=>{e(Q,{},"abxMediumAll").then(l=>{l&&(s.value=l)})});function w(l,p={}){d.value=l,b.value=!0,y.value=(l?"Create":"Edit")+" Abx Medium",l?(i.value=null,F()):(i.value=p.uid??null,M({name:p.name??"",description:p.description??""}))}const r=f(l=>{const p={name:l.name,description:l.description??null};d.value===!0&&x(W,{payload:p},"createAbxMedium").then(c=>{c&&s.value.unshift(c)}),d.value===!1&&i.value&&x(Y,{uid:i.value,payload:p},"updateAbxMedium").then(c=>{if(c){const C=s.value.findIndex(T=>T.uid==c.uid);C>-1&&(s.value=[...s.value.map((T,k)=>k===C?c:T)])}}),b.value=!1}),A={withClientMutation:x,withClientQuery:e,get showModal(){return b},set showModal(l){b=l},get formTitle(){return y},set formTitle(l){y=l},formAction:d,currentUid:i,mediumSchema:v,handleSubmit:f,resetForm:F,setValues:M,abxMediums:s,FormManager:w,saveForm:r,get Empty(){return $},get EmptyContent(){return j},get EmptyDescription(){return Z},get EmptyHeader(){return X},get EmptyTitle(){return J},get Button(){return q},get Input(){return ee},get FormControl(){return ae},get FormField(){return O},get FormItem(){return oe},get FormLabel(){return le},get FormMessage(){return te},PageHeading:re};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),de={class:"space-y-6"},ie={class:"border border-border bg-card rounded-lg shadow-md"},se={class:"relative w-full overflow-auto"},me={class:"text-xl font-semibold text-foreground"},ue={class:"grid grid-cols-2 gap-4"};function fe(S,a,x,e,b,y){const d=m("TableHead"),i=m("TableRow"),v=m("TableHeader"),f=m("TableCell"),F=m("TableEmpty"),M=m("TableBody"),s=m("Table"),w=m("Modal");return _(),I(D,null,[u("div",de,[t(e.PageHeading,{title:"Antibiotic Medium"}),u("div",ie,[u("div",se,[t(s,{class:"w-full caption-bottom text-sm"},{default:o(()=>[t(v,{class:"[&_tr]:border-b"},{default:o(()=>[t(i,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[2]||(a[2]=[n("Name",-1)])]),_:1}),t(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[3]||(a[3]=[n("Description",-1)])]),_:1}),t(d,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[4]||(a[4]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(M,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[(_(!0),I(D,null,U(e.abxMediums,r=>(_(),h(i,{key:r?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(f,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[n(E(r?.name),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[n(E(r?.description),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle whitespace-nowrap text-right text-sm"})]),_:2},1024))),128)),!e.abxMediums||e.abxMediums.length===0?(_(),h(F,{key:0,colspan:3},{default:o(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:o(()=>[t(e.EmptyContent,null,{default:o(()=>[t(e.EmptyHeader,null,{default:o(()=>[t(e.EmptyTitle,null,{default:o(()=>[...a[5]||(a[5]=[n("No media found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:o(()=>[...a[6]||(a[6]=[n("Add a medium to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})])])]),e.showModal?(_(),h(w,{key:0,onClose:a[1]||(a[1]=r=>e.showModal=!1)},{header:o(()=>[u("h3",me,E(e.formTitle),1)]),body:o(()=>[u("form",{onSubmit:a[0]||(a[0]=z((...r)=>e.saveForm&&e.saveForm(...r),["prevent"])),class:"space-y-6 p-4"},[u("div",ue,[t(e.FormField,{name:"name"},{default:o(({componentField:r})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[7]||(a[7]=[n("Name",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,H(r,{placeholder:"Name ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:o(({componentField:r})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[8]||(a[8]=[n("Description",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,H(r,{placeholder:"Begin typing ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),a[10]||(a[10]=u("hr",{class:"border-border"},null,-1)),t(e.Button,{type:"submit",class:"w-full"},{default:o(()=>[...a[9]||(a[9]=[n(" Save Abx Medium ",-1)])]),_:1})],32)]),_:1})):B("",!0)],64)}const Me=R(ne,[["render",fe],["__scopeId","data-v-da4c25b6"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/microbiology/medium/AbxMedium.vue"]]);export{Me as default};
