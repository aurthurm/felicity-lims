const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-v7Q387fb.js","assets/index-c4lX_LAY.css"])))=>i.map(i=>d[i]);
import{a0 as P,f as U,a7 as u,h as I,a1 as L,a6 as O,_ as R,r as v,c as x,o as m,a as C,A as e,C as j,E as q,N as f,P as G,J,K,L as p,D as W,F as w,a2 as D}from"./index-v7Q387fb.js";import{u as z,v as H}from"./analyses.mutations-DwO9qbHD.js";import{u as Q}from"./analysis-xHaHOXP2.js";import{c as X,a as k,u as Y,b as A}from"./index.esm-D-THTBXR.js";const Z=P({__name:"CodingStandard",setup(F,{expose:t}){t();const _=L(()=>O(()=>import("./index-v7Q387fb.js").then(n=>n.cl),__vite__mapDeps([0,1]))),o=Q(),{withClientMutation:c}=U();let a=u(!1),l=u("");const r=u(!0),i=u(null),s=X({name:k().required("Name is required"),description:k().nullable()}),{handleSubmit:g,errors:M,resetForm:h,setValues:y}=Y({validationSchema:s,initialValues:{name:"",description:""}}),{value:N}=A("name"),{value:T}=A("description");o.fetchCodingStandards();const E=I(()=>o.getCodingStandards);function V(n,d={}){r.value=n,a.value=!0,l.value=(n?"CREATE":"EDIT")+" CODING STANDARD",n?(i.value=null,h({values:{name:"",description:""}})):(i.value=d.uid??null,y({name:d.name??"",description:d.description??""}))}const B=g(n=>{const d={name:n.name,description:n.description};if(r.value===!0&&c(z,{payload:d},"createCodingStandard").then(b=>o.addCodingStandard(b)),r.value===!1){if(!i.value)return;c(H,{uid:i.value,payload:d},"updateCodingStandard").then(b=>o.updateCodingStandard(b))}a.value=!1}),S={modal:_,analyisStore:o,withClientMutation:c,get showModal(){return a},set showModal(n){a=n},get formTitle(){return l},set formTitle(n){l=n},formAction:r,currentUid:i,formSchema:s,handleSubmit:g,errors:M,resetForm:h,setValues:y,name:N,description:T,codindStandards:E,FormManager:V,saveForm:B};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),$={class:"space-y-6"},ee={class:"rounded-lg border border-border bg-card p-6"},te={class:"overflow-x-auto"},oe={class:"w-full"},se={class:"divide-y divide-border"},ne={class:"px-4 py-3"},ie={class:"text-sm text-foreground"},re={class:"px-4 py-3"},de={class:"text-sm text-muted-foreground"},ae={class:"px-4 py-3 text-right"},le=["onClick"],ce={class:"text-lg font-semibold text-foreground"},ue={class:"space-y-4"},me={class:"space-y-2"},fe={class:"text-sm text-destructive"},pe={class:"space-y-2"};function ge(F,t,_,o,c,a){const l=v("fel-button"),r=v("fel-heading"),i=v("fel-modal");return m(),x("div",$,[C(r,{title:"Coding Standards"},{default:f(()=>[C(l,{onClick:t[0]||(t[0]=s=>o.FormManager(!0))},{default:f(()=>[...t[5]||(t[5]=[G("Add Coding Standard",-1)])]),_:1})]),_:1}),e("div",ee,[e("div",te,[e("table",oe,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"border-b border-border"},[e("th",{class:"px-4 py-3 text-left text-sm font-medium text-foreground"},"Standard"),e("th",{class:"px-4 py-3 text-left text-sm font-medium text-foreground"},"Description"),e("th",{class:"px-4 py-3 text-right text-sm font-medium text-foreground"},"Actions")])],-1)),e("tbody",se,[(m(!0),x(J,null,K(o.codindStandards,s=>(m(),x("tr",{key:s?.uid,class:"hover:bg-accent/50"},[e("td",ne,[e("div",ie,p(s?.name),1)]),e("td",re,[e("div",de,p(s?.description),1)]),e("td",ae,[e("button",{class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",onClick:g=>o.FormManager(!1,s)}," Edit ",8,le)])]))),128))])])])]),o.showModal?(m(),j(i,{key:0,onClose:t[4]||(t[4]=s=>o.showModal=!1),contentWidth:"w-2/6"},{header:f(()=>[e("h3",ce,p(o.formTitle),1)]),body:f(()=>[e("form",{class:"space-y-6",onSubmit:t[3]||(t[3]=W((...s)=>o.saveForm&&o.saveForm(...s),["prevent"]))},[e("div",ue,[e("label",me,[t[7]||(t[7]=e("span",{class:"text-sm font-medium text-foreground"},"Standard Name",-1)),w(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>o.name=s),placeholder:"Name ..."},null,512),[[D,o.name]]),e("div",fe,p(o.errors.name),1)]),e("label",pe,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),w(e("textarea",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]","onUpdate:modelValue":t[2]||(t[2]=s=>o.description=s),placeholder:"Description ..."},null,512),[[D,o.description]])])]),t[9]||(t[9]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"}," Save Form ")],-1))],32)]),_:1})):q("",!0)])}const he=R(Z,[["render",ge],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/coding/CodingStandard.vue"]]);export{he as default};
