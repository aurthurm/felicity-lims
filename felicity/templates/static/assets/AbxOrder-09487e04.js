import{P as C,e as V,Z as d,f as D,aa as N,o as i,c as m,b as t,F as _,D as E,E as c,L as M,a2 as o,x as T,K as v,A as B,V as I,a as L,z as P,a7 as U,J as F,X as y,Y as g,_ as K}from"./index-d30fd8e2.js";import{o as R,t as G,J,K as S}from"./microbiology.mutations-54cff9c3.js";const $={class:"w-full my-4"},z={class:"overflow-x-auto mt-4"},Q={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},X={class:"min-w-full"},Y={class:"bg-white"},Z={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},j={class:"flex items-center"},q={class:"text-sm leading-5 text-gray-800"},H={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},W={class:"flex items-center"},ee={class:"text-sm leading-5 text-gray-800"},te={action:"post",class:"p-1"},se={class:"grid grid-cols-2 gap-x-4 mb-4"},ae={class:"block col-span-1 mb-2"},oe={class:"block"},le=C({__name:"AbxOrder",setup(re){const h=y(()=>g(()=>import("./index-d30fd8e2.js").then(a=>a.cN),["assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),w=y(()=>g(()=>import("./vue-multiselect.esm-26d4ec41.js"),["assets/vue-multiselect.esm-26d4ec41.js","assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),{withClientMutation:b,withClientQuery:p}=V();let n=d(!1),A=d(""),l=D({});const f=d(!0),x=d([]),r=d([]);N(()=>{p(R,{},"abxOrderAll").then(a=>{a&&(r.value=a)}),p(G,{},"abxClassAll").then(a=>{a&&(x.value=a)})});function k(){const a={name:l.name,classUid:l.class_?.uid};f.value===!0&&b(J,{payload:a},"createAbxOrder").then(e=>{e&&r.value.unshift(e)}),f.value===!1&&b(S,{uid:l.uid,payload:a},"updateAbxOrder").then(e=>{if(e){const s=r.value.findIndex(u=>u.uid==e.uid);s>-1&&(r.value=[...r.value.map((u,O)=>O===s?e:u)])}}),n.value=!1}return(a,e)=>(i(),m(_,null,[t("div",$,[e[7]||(e[7]=t("hr",null,null,-1)),t("div",z,[t("div",Q,[t("table",X,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Name "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Class "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",Y,[(i(!0),m(_,null,E(r.value,s=>(i(),m("tr",{key:s?.uid},[t("td",Z,[t("div",j,[t("div",q,c(s?.name),1)])]),e[4]||(e[4]=M()),t("td",H,[t("div",W,[t("div",ee,c(s?.class_?.name),1)])]),e[5]||(e[5]=t("td",{class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},null,-1))]))),128))])])])])]),o(n)?(i(),T(o(h),{key:0,onClose:e[3]||(e[3]=s=>U(n)?n.value=!1:n=!1)},{header:v(()=>[t("h3",null,c(o(A)),1)]),body:v(()=>[t("form",te,[t("div",se,[t("label",ae,[e[8]||(e[8]=t("span",{class:"text-gray-700"},"Kindom Name",-1)),B(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[0]||(e[0]=s=>o(l).name=s),placeholder:"Name ..."},null,512),[[I,o(l).name]])]),t("label",oe,[e[9]||(e[9]=t("span",{class:"text-gray-700"},"Class",-1)),L(o(w),{modelValue:o(l).class_,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).class_=s),options:x.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e[10]||(e[10]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[2]||(e[2]=P(s=>k(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Order ")])]),_:1})):F("",!0)],64))}});const ie=K(le,[["__scopeId","data-v-49ba0efd"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrder.vue"]]);export{ie as default};
