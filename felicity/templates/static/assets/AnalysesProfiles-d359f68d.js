import{d as de,R as re,I as ce,r as g,n as O,p as k,o as i,c as d,b as e,F as m,C as y,w as V,G as S,f as l,t as r,i as T,g as D,z as b,A as I,e as p,ae as R,B as v,y as L,v as x,ad as B,j as A,_ as P,k as ue}from"./index-b31857b9.js";import{l as pe,m as me,n as _e,o as ge}from"./analyses.mutations-e540caf1.js";import{u as ye}from"./setup-2b9d21f6.js";import{u as fe}from"./analysis-52aa27f9.js";import"./_queries-c2472339.js";const he={class:""},be={class:"container w-full my-4"},ve=e("hr",null,null,-1),xe=e("hr",null,null,-1),ke=e("hr",null,null,-1),we={class:"grid grid-cols-12 gap-4 mt-2"},Ae={class:"col-span-3 overflow-y-scroll overscroll-contain max-h-[540px]"},Pe=["onClick"],Se={class:"cursor-pointer"},Ue={class:"flex-grow p-1"},Ce={class:"font-medium text-gray-500 hover:text-gray-700 flex justify-between"},Me=e("span",{class:"text-sm text-gray-500"},null,-1),Ee={key:0,class:"col-span-9"},Ve={class:"bg-white rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},Te={class:"grid grid-cols-12 gap-3"},De={class:"col-span-12 px-3 sm:px-0"},$e={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-gray-700 font-bold"},Fe=e("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),je=[Fe],Ne={class:"bg-white shadow-md mt-2"},Oe={class:"-mb-px flex justify-start"},Ie=["onClick"],Re={class:"mt-2 p-2 bg-white"},Le={key:0},Be=e("h3",null,"Analyses",-1),ze=e("hr",null,null,-1),Ke={class:"col-span-4 overflow-y-scroll overscroll-contain analyses-scroll bg-white p-1"},Ge={class:"grid grid-cols-6 gap-2 w-full"},Ye={class:"flex-grow p-1"},qe={class:S(["font-medium text-gray-500 hover:text-gray-700",{"text-gray-700 font-medium":!1}])},He=["id","onUpdate:modelValue"],Je=["for"],Qe=e("hr",null,null,-1),We={key:1},Xe={class:"flex justify-between items-center mb-2"},Ze=e("h3",null,"Concept Mappings",-1),et=e("hr",null,null,-1),tt={class:"overflow-x-auto mt-4"},st={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},ot={class:"min-w-full"},lt=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Coding Standard"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Name"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Code"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Description"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),nt={class:"bg-white"},it={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},at={class:"flex items-center"},dt={class:"text-sm leading-5 text-gray-800"},rt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ct={class:"text-sm leading-5 text-sky-800"},ut={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},pt={class:"text-sm leading-5 text-sky-800"},mt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},_t={class:"text-sm leading-5 text-sky-800"},gt={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},yt=["onClick"],ft={key:2},ht={action:"post",class:"p-1"},bt={class:"grid grid-cols-2 gap-x-4 mb-4"},vt={class:"block col-span-2 mb-2"},xt=e("span",{class:"text-gray-700"},"Analysis Profile Name",-1),kt={class:"block col-span-2 mb-2"},wt=e("span",{class:"text-gray-700"},"keyword",-1),At={class:"block col-span-2 mb-2"},Pt=e("span",{class:"text-gray-700"},"Sample Types",-1),St={class:"block col-span-2 mb-2"},Ut=e("span",{class:"text-gray-700"},"Description",-1),Ct={class:"block col-span-1 mb-2"},Mt=e("span",{class:"text-gray-700"},"Department",-1),Et=e("option",null,null,-1),Vt=["value"],Tt={for:"toggle",class:"text-xs text-gray-700 mr-4"},Dt={class:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in"},$t=e("label",{for:"toggle",class:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"},null,-1),Ft=e("hr",null,null,-1),jt={action:"post",class:"p-1"},Nt={class:"grid grid-cols-2 gap-x-4 mb-4"},Ot={class:"block col-span-2 mb-2"},It=e("span",{class:"text-gray-700"},"Coding Standard",-1),Rt=e("option",null,null,-1),Lt=["value"],Bt={class:"block col-span-2 mb-2"},zt=e("span",{class:"text-gray-700"},"Standard Name",-1),Kt={class:"block col-span-2 mb-2"},Gt=e("span",{class:"text-gray-700"},"Standard Code",-1),Yt={class:"block col-span-2 mb-2"},qt=e("span",{class:"text-gray-700"},"Standard Description",-1),Ht=e("hr",null,null,-1),Jt=de({__name:"AnalysesProfiles",setup(Qt){const z=A(()=>P(()=>import("./vue-multiselect.esm-347c338e.js"),["assets/vue-multiselect.esm-347c338e.js","assets/index-b31857b9.js","assets/index-c2286288.css"])),$=A(()=>P(()=>import("./FelModal-aa713485.js"),["assets/FelModal-aa713485.js","assets/index-b31857b9.js","assets/index-c2286288.css","assets/FelModal-780aeea9.css"])),K=A(()=>P(()=>import("./FelAccordion-4dd980c5.js"),["assets/FelAccordion-4dd980c5.js","assets/index-b31857b9.js","assets/index-c2286288.css"])),G=A(()=>P(()=>import("./Billing-66469c73.js"),["assets/Billing-66469c73.js","assets/index-b31857b9.js","assets/index-c2286288.css","assets/billing-afa342cb.js"])),c=fe(),Y=re(),q=ye(),{withClientMutation:w}=ce();let _=g("analyses-services");const H=["analyses-services","mappings","billing"];let f=g(!1),U=g("");const C=g(!0);let o=O({});const J=k(()=>Y.getSampleTypes),Q=k(()=>q.getDepartments);c.fetchAnalysesProfilesAndServices();const M=k(()=>c.getAnalysesServices),W=k(()=>c.getAnalysesProfiles);function X(){const n={name:o.name,keyword:o.keyword,description:o.description,departmentUid:o.departmentUid,sampleTypes:o.sampleTypes?.map(s=>s.uid),active:o.active};w(pe,{payload:n},"createProfile").then(s=>c.addAnalysisProfile(s))}function F(){const n={name:o.name,keyword:o.keyword,description:o.description,departmentUid:o.departmentUid,active:o.active,services:o.analyses?.map(s=>s.uid),sampleTypes:o.sampleTypes?.map(s=>s.uid)};w(me,{uid:o.uid,payload:n},"updateProfile").then(s=>c.updateAnalysesProfile(s))}function Z(n){Object.assign(o,{...n}),M.value?.forEach(s=>{s[1].forEach(t=>{t.checked=!1,t.profiles?.some(u=>u.uid===o.uid)&&(t.checked=!0)})}),c.fetchProfileMappings(n?.uid)}function ee(){const n=[];M.value?.forEach(s=>{s[1].forEach(t=>{t.checked&&n.push(t)})}),o.analyses=n,F()}function j(n,s={}){C.value=n,f.value=!0,U.value=(n?"CREATE":"EDIT")+" ANALYSES PROFILE",n?Object.assign(o,{}):Object.assign(o,{...s})}function te(){C.value===!0&&X(),C.value===!1&&F(),f.value=!1}c.fetchCodingStandards();const se=k(()=>c.profileMapings?.filter(n=>n.profileUid===o?.uid));let h=g(!1),oe=g("");const E=g(!0),a=O({uid:void 0,profileUid:void 0,codingStandardUid:void 0,name:"",code:"",description:""});function le(){const n={profileUid:o?.uid,codingStandardUid:a.codingStandardUid,name:a.name,code:a.code,description:a.description};w(_e,{payload:n},"createProfileMapping").then(s=>c.addProfileMapping(s))}function ne(){const n={profileUid:o?.uid,codingStandardUid:a.codingStandardUid,name:a.name,code:a.code,description:a.description};w(ge,{uid:a.uid,payload:n},"updateProfileMapping").then(s=>c.updateProfileMapping(s))}function N(n,s={}){E.value=n,h.value=!0,oe.value=(n?"CREATE":"EDIT")+" CONCEPT MAPPING",n?Object.assign(a,{}):Object.assign(a,{...s})}function ie(){E.value===!0&&le(),E.value===!1&&ne(),h.value=!1}return(n,s)=>(i(),d(m,null,[e("div",he,[e("div",be,[ve,e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:s[0]||(s[0]=t=>j(!0))}," Add Analyses Profile "),xe]),ke,e("div",we,[e("section",Ae,[e("ul",null,[(i(!0),d(m,null,y(W.value,t=>(i(),d("li",{key:t.uid,onClick:V(u=>Z(t),["prevent","stop"]),class:S(["bg-white w-full p-1 mb-1 rounded",{"border-gray-100 bg-emerald-200":t?.uid===l(o)?.uid}])},[e("a",Se,[e("div",Ue,[e("div",Ce,[e("span",null,r(t?.name),1),Me])])])],10,Pe))),128))])]),l(o)?.uid!==void 0?(i(),d("section",Ee,[e("div",Ve,[e("div",Te,[e("div",De,[e("div",$e,[e("span",null,r(l(o)?.name),1),e("div",null,[e("button",{onClick:s[1]||(s[1]=t=>j(!1)),class:"ml-4 inline-flex items-center justify-center w-8 h-8 mr-2 border-sky-800 border text-gray-900 transition-colors duration-150 bg-white rounded-full focus:outline-none hover:bg-gray-200"},[...je])])])])])]),e("nav",Ne,[e("div",Oe,[(i(),d(m,null,y(H,t=>e("a",{key:t,class:S(["no-underline text-gray-500 uppercase tracking-wide font-bold text-xs py-1 px-4 tab hover:bg-sky-600 hover:text-gray-200",{"tab-active":l(_)===t}]),onClick:u=>T(_)?_.value=t:_=t},r(t),11,Ie)),64))])]),e("section",Re,[l(_)==="analyses-services"?(i(),d("div",Le,[Be,ze,e("section",Ke,[e("div",Ge,[(i(!0),d(m,null,y(M.value,t=>(i(),d("div",{class:"col-span-2",key:t[0]},[D(l(K),null,{title:b(()=>[I(r(t[0]),1)]),body:b(()=>[e("div",null,[e("ul",null,[(i(!0),d(m,null,y(t[1],u=>(i(),d("li",{key:u?.uid,class:S(["cursor-pointer",[{"border-sky-800 bg-gray-200 underline pl-3":!1}]])},[e("div",Ye,[e("div",qe,[p(e("input",{type:"checkbox",id:`toggle-${u?.uid}`,class:"form-control","onUpdate:modelValue":ae=>u.checked=ae},null,8,He),[[R,u.checked]]),e("label",{for:`toggle-${u?.uid}`,class:"text-gray-700 ml-4"},r(u?.name),9,Je)])]),Qe]))),128))])])]),_:2},1024)]))),128))]),e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:s[2]||(s[2]=t=>ee())}," Update Analtsis Profile ")])])):v("",!0),l(_)=="mappings"?(i(),d("div",We,[e("div",Xe,[Ze,e("button",{onClick:s[3]||(s[3]=t=>N(!0)),class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Add Mapping")]),et,e("div",tt,[e("div",st,[e("table",ot,[lt,e("tbody",nt,[(i(!0),d(m,null,y(se.value,t=>(i(),d("tr",{key:t},[e("td",it,[e("div",at,[e("div",dt,r(t.codingStandard?.name),1)])]),e("td",rt,[e("div",ct,r(t.name),1)]),e("td",ut,[e("div",pt,r(t.code),1)]),e("td",mt,[e("div",_t,r(t.description),1)]),e("td",gt,[e("button",{onClick:u=>N(!1,t),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,yt)])]))),128))])])])])])):v("",!0),l(_)=="billing"?(i(),d("div",ft,[D(l(G),{target:"profile",targetUid:l(o).uid},null,8,["targetUid"])])):v("",!0)])])):v("",!0)])]),l(f)?(i(),L(l($),{key:0,onClose:s[11]||(s[11]=t=>T(f)?f.value=!1:f=!1)},{header:b(()=>[e("h3",null,r(l(U)),1)]),body:b(()=>[e("form",ht,[e("div",bt,[e("label",vt,[xt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[4]||(s[4]=t=>l(o).name=t),placeholder:"Name ..."},null,512),[[x,l(o).name]])]),e("label",kt,[wt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[5]||(s[5]=t=>l(o).keyword=t),placeholder:"Keyword ..."},null,512),[[x,l(o).keyword]])]),e("label",At,[Pt,D(l(z),{modelValue:l(o).sampleTypes,"onUpdate:modelValue":s[6]||(s[6]=t=>l(o).sampleTypes=t),options:J.value,multiple:!0,searchable:!0,label:"name","track-by":"uid"},null,8,["modelValue","options"])]),e("label",St,[Ut,p(e("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[7]||(s[7]=t=>l(o).description=t),placeholder:"Description ..."},null,512),[[x,l(o).description]])]),e("label",Ct,[Mt,p(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[8]||(s[8]=t=>l(o).departmentUid=t)},[Et,(i(!0),d(m,null,y(Q.value,t=>(i(),d("option",{key:t.uid,value:t?.uid},r(t.name),9,Vt))),128))],512),[[B,l(o).departmentUid]])]),e("label",Tt,[I("Active "),e("div",Dt,[p(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":s[9]||(s[9]=t=>l(o).active=t),class:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer outline-none"},null,512),[[R,l(o).active]]),$t])])]),Ft,e("button",{type:"button",onClick:s[10]||(s[10]=V(t=>te(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):v("",!0),l(h)?(i(),L(l($),{key:1,onClose:s[17]||(s[17]=t=>T(h)?h.value=!1:h=!1)},{header:b(()=>[e("h3",null,r(l(U)),1)]),body:b(()=>[e("form",jt,[e("div",Nt,[e("label",Ot,[It,p(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[12]||(s[12]=t=>a.codingStandardUid=t)},[Rt,(i(!0),d(m,null,y(l(c).codingStandards,t=>(i(),d("option",{key:t.uid,value:t?.uid},r(t.name),9,Lt))),128))],512),[[B,a.codingStandardUid]])]),e("label",Bt,[zt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[13]||(s[13]=t=>a.name=t),placeholder:"Keyword ..."},null,512),[[x,a.name]])]),e("label",Kt,[Gt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[14]||(s[14]=t=>a.code=t),placeholder:"Keyword ..."},null,512),[[x,a.code]])]),e("label",Yt,[qt,p(e("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[15]||(s[15]=t=>a.description=t),placeholder:"Description ..."},null,512),[[x,a.description]])])]),Ht,e("button",{type:"button",onClick:s[16]||(s[16]=V(t=>ie(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):v("",!0)],64))}}),ss=ue(Jt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/AnalysesProfiles.vue"]]);export{ss as default};
