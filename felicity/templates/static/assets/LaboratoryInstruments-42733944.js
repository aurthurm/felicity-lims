import{S as M,f as V,a0 as p,h as T,i as _,r as g,o as a,c as u,N as e,a as w,L as f,M as j,F as x,E as I,H as r,K as N,a5 as i,y as B,A as F,C as m,a2 as R,X as b,ad as O,_ as $}from"./index-3686e2f1.js";import{a as H,b as K}from"./instrument.mutations-efcbb4fd.js";import{u as X}from"./setup-613b4e8e.js";import"./_queries-d6963687.js";const Y={class:"space-y-6"},q={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},z={class:"relative w-full overflow-auto"},G={class:"w-full caption-bottom text-sm"},J={class:"[&_tr:last-child]:border-0"},P={class:"px-4 py-2 align-middle"},Q={class:"px-4 py-2 align-middle"},W={class:"px-4 py-2 align-middle text-primary"},Z={class:"px-4 py-2 align-middle text-primary"},ee={class:"px-4 py-2 align-middle text-primary"},te={class:"px-4 py-2 align-middle text-right"},oe=["onClick"],se={class:"text-lg font-semibold text-foreground"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-2"},re=["value"],de={class:"space-y-2"},le={class:"space-y-2"},ae={class:"space-y-2"},ue={class:"space-y-2"},me=M({__name:"LaboratoryInstruments",setup(fe){const d=X(),{withClientMutation:y}=V();let l=p(!1),v=p("");const c=p(!0);let o=T({});d.fetchInstruments(),d.fetchLaboratoryInstruments();const k=_(()=>d.getInstruments),D=_(()=>d.getLaboratoryInstruments);function C(){const n={labName:o.labName,serialNumber:o.serialNumber,dateCommissioned:o.dateCommissioned,dateDecommissioned:o.dateDecommissioned,instrumentUid:o.instrumentUid};y(H,{payload:n},"createLaboratoryInstrument").then(t=>d.addLaboratoryInstrument(t))}function L(){const n={labName:o.labName,serialNumber:o.serialNumber,dateCommissioned:o.dateCommissioned,dateDecommissioned:o.dateDecommissioned,instrumentUid:o.instrumentUid};y(K,{uid:o.uid,payload:n},"updateLaboratoryInstrument").then(t=>d.updateLaboratoryInstrument(t))}function h(n,t={}){c.value=n,l.value=!0,v.value=(n?"CREATE":"EDIT")+" LABORATORY INSTRUMENT",n?Object.assign(o,{}):Object.assign(o,{...t})}function U(){c.value===!0&&C(),c.value===!1&&L(),l.value=!1}return(n,t)=>{const S=g("fel-button"),E=g("fel-heading"),A=g("fel-modal");return a(),u(x,null,[e("div",Y,[w(E,{title:"Laboratory Instruments"},{default:f(()=>[w(S,{onClick:t[0]||(t[0]=s=>h(!0))},{default:f(()=>t[7]||(t[7]=[j(" Add Laboratory Instrument")])),_:1})]),_:1}),e("div",q,[e("div",z,[e("table",G,[t[8]||(t[8]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instrument"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Lab Name/ID"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Serial Number"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Commissioned"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Decommissioned"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",J,[(a(!0),u(x,null,I(D.value,s=>(a(),u("tr",{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",P,r(s?.instrument?.name),1),e("td",Q,r(s?.labName),1),e("td",W,r(s?.serialNumber),1),e("td",Z,r(s?.dateCommissioned),1),e("td",ee,r(s?.dateDecommissioned),1),e("td",te,[e("button",{onClick:be=>h(!1,s),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,oe)])]))),128))])])])])]),N(" Laboratory Instrument Form Modal "),i(l)?(a(),B(A,{key:0,onClose:t[6]||(t[6]=s=>O(l)?l.value=!1:l=!1)},{header:f(()=>[e("h3",se,r(i(v)),1)]),body:f(()=>[e("form",{onSubmit:F(U,["prevent"]),class:"space-y-6"},[e("div",ie,[e("div",ne,[t[10]||(t[10]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument ",-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).instrumentUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[9]||(t[9]=e("option",{value:""},"Select Instrument",-1)),(a(!0),u(x,null,I(k.value,s=>(a(),u("option",{key:s?.uid,value:s.uid},r(s?.name),9,re))),128))],512),[[R,i(o).instrumentUid]])]),e("div",de,[t[11]||(t[11]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Laboratory Name/ID ",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).labName=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter lab name or ID..."},null,512),[[b,i(o).labName]])]),e("div",le,[t[12]||(t[12]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Serial Number ",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i(o).serialNumber=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter serial number..."},null,512),[[b,i(o).serialNumber]])]),e("div",ae,[t[13]||(t[13]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Commissioned ",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=s=>i(o).dateCommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[b,i(o).dateCommissioned]])]),e("div",ue,[t[14]||(t[14]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Decommissioned ",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=s=>i(o).dateDecommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[b,i(o).dateDecommissioned]])])]),t[15]||(t[15]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ")],-1))],32)]),_:1})):N("v-if",!0)],64)}}}),ye=$(me,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/LaboratoryInstruments.vue"]]);export{ye as default};
