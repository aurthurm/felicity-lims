import{S as D,a6 as L,i as l,h as R,r as p,aj as $,o as f,c as v,C as s,N as e,H as n,M as B,a as x,D as r,_ as j}from"./index-54016222.js";import{u as N}from"./shipment-0c5c917e.js";import{u as O}from"./shipment-832587da.js";const E={class:"space-y-6"},U={class:"bg-background rounded-lg shadow-sm border border-border p-6 transition-all duration-200 hover:shadow-md"},V={class:"space-y-6"},A={class:"flex items-center justify-between"},F={class:"flex items-center space-x-6"},I={class:"text-lg font-semibold text-foreground"},T={class:"inline-flex items-center rounded-md bg-muted px-2 py-1 text-xs font-medium text-muted-foreground"},z={class:"relative"},H={class:"absolute right-0 mt-2 w-56 rounded-md bg-background shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button"},M={class:"py-1",role:"none"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-border"},G={class:"space-y-4"},J={class:"flex items-center"},K={class:"text-sm text-foreground"},P={class:"flex items-center"},Q={class:"text-sm text-foreground"},W={class:"flex items-center"},X={class:"text-sm text-foreground"},Y={class:"space-y-4"},Z={class:"flex items-start"},ee={class:"text-sm text-foreground"},te=D({__name:"Shipment",setup(oe){const g=L(),u=N(),{actionShipment:b}=O();u.fetchReferralLaboratories(),u.fetchShipmentByUid(g.params.shipmentUid);const o=l(()=>u.getShipment),d=R({dropdownOpen:!1}),c=l(()=>!!["due"].includes(o?.value?.state?.toLowerCase())),h=l(()=>!!["preperation"].includes(o?.value?.state?.toLowerCase())),_=l(()=>!!["preperation","ready"].includes(o?.value?.state?.toLowerCase())),w=l(()=>!!["ready"].includes(o?.value?.state?.toLowerCase())),y=l(()=>!!["failed"].includes(o?.value?.state?.toLowerCase())),i=m=>{if(!o.value?.incoming&&!(o.value?.laboratory?.url&&o.value?.laboratory?.password&&o.value?.laboratory?.username&&o.value?.courier)){alert("The External Laboratory has missing information or the courier missing");return}b(o.value?.uid,m)};return(m,t)=>{const C=p("font-awesome-icon"),k=p("router-view"),S=$("motion-slide-top");return f(),v("div",E,[s((f(),v("div",U,[e("div",V,[e("div",A,[e("div",F,[e("h3",I,n(o.value?.shipmentId),1),e("span",T,n(o.value?.incoming?"InBound":"OutBound"),1)]),e("div",z,[e("button",{onClick:t[0]||(t[0]=a=>d.dropdownOpen=!d.dropdownOpen),class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4"},[B(n(o.value?.state||"unknown")+" ",1),x(C,{icon:"chevron-down",class:"ml-2 h-4 w-4"})]),s(e("div",H,[e("div",M,[s(e("button",{onClick:t[1]||(t[1]=a=>i("reject")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Reject ",512),[[r,c.value]]),s(e("button",{onClick:t[2]||(t[2]=a=>i("receive")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Receive ",512),[[r,c.value]]),s(e("button",{onClick:t[3]||(t[3]=a=>i("finalise")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Finalise ",512),[[r,h.value]]),s(e("button",{onClick:t[4]||(t[4]=a=>i("dispatch")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Dispatch ",512),[[r,w.value]]),s(e("button",{onClick:t[5]||(t[5]=a=>i("dispatch-now")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Retry Notification ",512),[[r,y.value]]),s(e("button",{onClick:t[6]||(t[6]=a=>i("cancel")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Cancel ",512),[[r,_.value]])])],512),[[r,d.dropdownOpen]])])]),e("div",q,[e("div",G,[e("div",J,[t[7]||(t[7]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"External Laboratory",-1)),e("span",K,n(o.value?.laboratory?.name),1)]),e("div",P,[t[8]||(t[8]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Courier",-1)),e("span",Q,n(o.value?.courier),1)]),e("div",W,[t[9]||(t[9]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Assigned Count",-1)),e("span",X,n(o.value?.assignedCount),1)])]),e("div",Y,[e("div",Z,[t[10]||(t[10]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Comment",-1)),e("span",ee,n(o.value?.comment),1)])])])])])),[[S]]),x(k)])}}}),ie=j(te,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/shipment/_id/Shipment.vue"]]);export{ie as default};
