import{Y as H,u as N,a0 as v,a7 as A,aZ as U,a3 as D,_ as P,r as f,c as k,o as F,z as u,A as I,C as M,a as e,K as t,M as o,F as S,H as V,I as g,B as Y,a4 as _}from"./index-OdhKCqIc.js";import{c as O,f as h,a as x,u as q,F as z}from"./index.esm-BfHj8iGm.js";import{u as K,b as Z,E as G}from"./shipment-DcKVexkp.js";import{I as J}from"./Input-BEm5S0CJ.js";import{E as Q,a as W,b as X,c as j,d as $}from"./EmptyTitle-aCQRDpx3.js";import{F as ee,a as re,b as te}from"./FormMessage-CgXFMXx9.js";import{F as le}from"./FormLabel-DxP9wnWS.js";import{P as ae}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const oe=H({__name:"ReferralLaboratory",setup(B,{expose:l}){l();const c=K(),{withClientMutation:r}=N();let b=v(!1),y=v("");const d=v(!0),i=v(null),R=O({name:x().trim().required("Laboratory name is required"),code:x().trim().nullable(),url:x().trim().nullable().url("Enter a valid URL"),username:x().trim().nullable(),password:x().trim().nullable(),isReferral:h().default(!1),isReference:h().default(!1)}),{handleSubmit:s,resetForm:w,setValues:L}=q({validationSchema:R,initialValues:{name:"",code:"",url:"",username:"",password:"",isReferral:!1,isReference:!1}});c.fetchReferralLaboratories();const C=A(()=>c.getReferalLaboratories);function E(n,m={}){d.value=n,b.value=!0,y.value=(n?"CREATE":"EDIT")+" REFERRAL LABORATORY",n?(i.value=null,w({values:{name:"",code:"",url:"",username:"",password:"",isReferral:!1,isReference:!1}})):(i.value=m.uid??null,L({name:m.name??"",code:m.code??"",url:m.url??"",username:m.username??"",password:m.password??"",isReferral:m.isReferral??!1,isReference:m.isReference??!1}))}const a=s(n=>{const m={name:n.name,code:n.code??null,url:n.url??null,username:n.username??null,password:n.password??null,isReferral:n.isReferral,isReference:n.isReference};d.value===!0&&r(Z,{payload:m},"createReferralLaboratory").then(T=>c.addReferralLaboratory(T)),d.value===!1&&i.value&&r(G,{uid:i.value,payload:m},"updateReferralLaboratory").then(T=>c.updateReferralLaboratory(T)),b.value=!1}),p={shipmentStore:c,withClientMutation:r,get showModal(){return b},set showModal(n){b=n},get formTitle(){return y},set formTitle(n){y=n},formAction:d,currentUid:i,referralLabSchema:R,handleSubmit:s,resetForm:w,setValues:L,referralLaboratories:C,FormManager:E,saveForm:a,get Button(){return D},get Input(){return J},get Switch(){return U},get Empty(){return $},get EmptyContent(){return j},get EmptyDescription(){return X},get EmptyHeader(){return W},get EmptyTitle(){return Q},get FormControl(){return te},get FormField(){return z},get FormItem(){return re},get FormLabel(){return le},get FormMessage(){return ee},PageHeading:ae};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),ne={class:"mt-4"},de={class:"border border-border bg-card rounded-lg shadow-md"},se={class:"relative w-full overflow-auto"},me={class:"text-lg font-semibold text-card-foreground"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"};function fe(B,l,c,r,b,y){const d=f("TableHead"),i=f("TableRow"),R=f("TableHeader"),s=f("TableCell"),w=f("TableEmpty"),L=f("TableBody"),C=f("Table"),E=f("modal");return F(),k(S,null,[u("div",null,[e(r.PageHeading,{title:"Referral Labs"},{default:t(()=>[e(r.Button,{onClick:l[0]||(l[0]=a=>r.FormManager(!0))},{default:t(()=>[...l[3]||(l[3]=[o("Add Referral Laboratory",-1)])]),_:1})]),_:1}),u("div",ne,[u("div",de,[u("div",se,[e(C,{class:"w-full caption-bottom text-sm"},{default:t(()=>[e(R,{class:"[&_tr]:border-b"},{default:t(()=>[e(i,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:t(()=>[e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[4]||(l[4]=[o("Name",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[5]||(l[5]=[o("Code",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[6]||(l[6]=[o("URL",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[7]||(l[7]=[o("Is Referral",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[8]||(l[8]=[o("Is Reference",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[9]||(l[9]=[o("Has Username",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[10]||(l[10]=[o("Has Password",-1)])]),_:1}),e(d,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:t(()=>[...l[11]||(l[11]=[o("Actions",-1)])]),_:1})]),_:1})]),_:1}),e(L,{class:"[&_tr:last-child]:border-0"},{default:t(()=>[(F(!0),k(S,null,V(r.referralLaboratories,a=>(F(),I(i,{key:a?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:t(()=>[e(s,{class:"px-4 py-3 align-middle text-sm text-foreground wrap-break-word"},{default:t(()=>[o(g(a?.name),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground wrap-break-word"},{default:t(()=>[o(g(a?.code),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground wrap-break-word"},{default:t(()=>[o(g(a?.url),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground"},{default:t(()=>[o(g(a?.isReferral?"Yes":"No"),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground"},{default:t(()=>[o(g(a?.isReference?"Yes":"No"),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground"},{default:t(()=>[o(g(a?.username?"Yes":"No"),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-sm text-foreground"},{default:t(()=>[o(g(a?.password?"Yes":"No"),1)]),_:2},1024),e(s,{class:"px-4 py-3 align-middle text-right"},{default:t(()=>[e(r.Button,{variant:"outline",size:"sm",onClick:p=>r.FormManager(!1,a)},{default:t(()=>[...l[12]||(l[12]=[o(" Edit ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),!r.referralLaboratories||r.referralLaboratories.length===0?(F(),I(w,{key:0,colspan:8},{default:t(()=>[e(r.Empty,{class:"border-0 bg-transparent p-0"},{default:t(()=>[e(r.EmptyContent,null,{default:t(()=>[e(r.EmptyHeader,null,{default:t(()=>[e(r.EmptyTitle,null,{default:t(()=>[...l[13]||(l[13]=[o("No referral laboratories found",-1)])]),_:1}),e(r.EmptyDescription,null,{default:t(()=>[...l[14]||(l[14]=[o("Add a referral laboratory to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1})]),_:1})])])])]),r.showModal?(F(),I(E,{key:0,onClose:l[2]||(l[2]=a=>r.showModal=!1)},{header:t(()=>[u("h3",me,g(r.formTitle),1)]),body:t(()=>[u("form",{onSubmit:l[1]||(l[1]=Y((...a)=>r.saveForm&&r.saveForm(...a),["prevent"])),class:"p-4 space-y-6"},[u("div",ie,[e(r.FormField,{name:"name"},{default:t(({componentField:a})=>[e(r.FormItem,null,{default:t(()=>[e(r.FormLabel,null,{default:t(()=>[...l[15]||(l[15]=[o("Laboratory Name",-1)])]),_:1}),e(r.FormControl,null,{default:t(()=>[e(r.Input,_(a,{placeholder:"Name ..."}),null,16)]),_:2},1024),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"code"},{default:t(({componentField:a})=>[e(r.FormItem,null,{default:t(()=>[e(r.FormLabel,null,{default:t(()=>[...l[16]||(l[16]=[o("Code",-1)])]),_:1}),e(r.FormControl,null,{default:t(()=>[e(r.Input,_(a,{placeholder:"Code ..."}),null,16)]),_:2},1024),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"url"},{default:t(({componentField:a})=>[e(r.FormItem,{class:"md:col-span-2"},{default:t(()=>[e(r.FormLabel,null,{default:t(()=>[...l[17]||(l[17]=[o("URL",-1)])]),_:1}),e(r.FormControl,null,{default:t(()=>[e(r.Input,_(a,{type:"url",placeholder:"https://example.com ..."}),null,16)]),_:2},1024),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"username"},{default:t(({componentField:a})=>[e(r.FormItem,null,{default:t(()=>[e(r.FormLabel,null,{default:t(()=>[...l[18]||(l[18]=[o("Username",-1)])]),_:1}),e(r.FormControl,null,{default:t(()=>[e(r.Input,_(a,{placeholder:"Optional username ...",autocomplete:"off"}),null,16)]),_:2},1024),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"password"},{default:t(({componentField:a})=>[e(r.FormItem,null,{default:t(()=>[e(r.FormLabel,null,{default:t(()=>[...l[19]||(l[19]=[o("Password",-1)])]),_:1}),e(r.FormControl,null,{default:t(()=>[e(r.Input,_(a,{type:"password",placeholder:"Optional password ...",autocomplete:"new-password"}),null,16)]),_:2},1024),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"isReferral"},{default:t(({value:a,handleChange:p})=>[e(r.FormItem,{class:"flex items-center space-x-2"},{default:t(()=>[e(r.FormControl,null,{default:t(()=>[e(r.Switch,{checked:a,"onUpdate:checked":p},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(r.FormLabel,null,{default:t(()=>[...l[20]||(l[20]=[o("Is Referral",-1)])]),_:1}),e(r.FormMessage)]),_:2},1024)]),_:1}),e(r.FormField,{name:"isReference"},{default:t(({value:a,handleChange:p})=>[e(r.FormItem,{class:"flex items-center space-x-2"},{default:t(()=>[e(r.FormControl,null,{default:t(()=>[e(r.Switch,{checked:a,"onUpdate:checked":p},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(r.FormLabel,null,{default:t(()=>[...l[21]||(l[21]=[o("Is Reference",-1)])]),_:1}),e(r.FormMessage)]),_:2},1024)]),_:1})]),l[23]||(l[23]=u("hr",{class:"border-t border-border"},null,-1)),e(r.Button,{type:"submit",class:"w-full"},{default:t(()=>[...l[22]||(l[22]=[o(" Save Laboratory ",-1)])]),_:1})],32)]),_:1})):M("",!0)],64)}const Re=P(oe,[["render",fe],["__scopeId","data-v-f1975450"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/shipment/ReferralLaboratory.vue"]]);export{Re as default};
