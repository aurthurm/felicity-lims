import{a0 as C,f as M,a7 as u,g as D,ad as N,_ as F,r as b,c as v,o as c,A as e,C as T,E as B,a as y,N as p,P as E,J as w,K as S,L as A,D as V,F as j,a2 as O}from"./index-CNAOKjig.js";import{q as I,z as L,B as P}from"./microbiology.mutations-Sq_uOjPv.js";const U=C({__name:"AbxKingdom",setup(K,{expose:o}){o();const{withClientMutation:m,withClientQuery:s}=M();let l=u(!1),f=u(""),r=D({});const d=u(!0),i=u([]);N(()=>{s(I,{},"abxKingdomAll").then(t=>{t&&(i.value=t)})});function n(t,a={}){d.value=t,l.value=!0,f.value=(t?"Create":"Edit")+" kingdom",t?Object.assign(r,{}):Object.assign(r,{...a})}function x(){const t={name:r.name};d.value===!0&&m(L,{payload:t},"createAbxKingdom").then(a=>{a&&i.value.unshift(a)}),d.value===!1&&m(P,{uid:r.uid,payload:t},"updateAbxKingdom").then(a=>{if(a){const h=i.value.findIndex(g=>g.uid==a.uid);h>-1&&(i.value=[...i.value.map((g,k)=>k===h?a:g)])}}),l.value=!1}const _={withClientMutation:m,withClientQuery:s,get showModal(){return l},set showModal(t){l=t},get formTitle(){return f},set formTitle(t){f=t},get form(){return r},set form(t){r=t},formAction:d,abxKingdoms:i,FormManager:n,saveForm:x};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),q={class:"space-y-6"},z={class:"rounded-md border border-border shadow-sm bg-card p-6"},G={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-border"},Q={class:"divide-y divide-border bg-background"},H={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},R={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},W=["onClick"],X={class:"text-xl font-semibold text-foreground"},Y={class:"grid grid-cols-2 gap-4"},Z={class:"block"};function $(K,o,m,s,l,f){const r=b("fel-button"),d=b("fel-heading"),i=b("fel-modal");return c(),v(w,null,[e("div",q,[y(d,{title:"Kingdoms"},{default:p(()=>[y(r,{onClick:o[0]||(o[0]=n=>s.FormManager(!0))},{default:p(()=>[...o[3]||(o[3]=[E("Add Kingdom",-1)])]),_:1})]),_:1}),e("div",z,[e("div",G,[e("table",J,[o[4]||(o[4]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Q,[(c(!0),v(w,null,S(s.abxKingdoms,n=>(c(),v("tr",{key:n?.uid,class:"hover:bg-muted/50"},[e("td",H,A(n?.name),1),e("td",R,[e("button",{onClick:x=>s.FormManager(!1,n),class:"text-primary hover:text-primary/80"}," Edit ",8,W)])]))),128))])])])])]),s.showModal?(c(),T(i,{key:0,onClose:o[2]||(o[2]=n=>s.showModal=!1),"content-width":"w-1/2"},{header:p(()=>[e("h3",X,A(s.formTitle),1)]),body:p(()=>[e("form",{onSubmit:V(s.saveForm,["prevent"]),class:"space-y-6 p-4"},[e("div",Y,[e("label",Z,[o[5]||(o[5]=e("span",{class:"text-sm font-medium text-foreground"},"Kingdom Name",-1)),j(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":o[1]||(o[1]=n=>s.form.name=n),placeholder:"Name ..."},null,512),[[O,s.form.name]])])]),o[6]||(o[6]=e("hr",{class:"border-border"},null,-1)),o[7]||(o[7]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Kingdom ",-1))],32)]),_:1})):B("",!0)],64)}const te=F(U,[["render",$],["__scopeId","data-v-f35e5a63"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxKingdom.vue"]]);export{te as default};
