import{P as Y,e as Z,Z as u,f as S,h as b,aa as $,o as F,c as ee,b as e,a as p,K as x,a2 as a,x as se,E as oe,z as ae,A as i,V as d,W as le,a7 as te,J as ne,F as ie,X as v,Y as k,af as P,aT as de,aU as ue,_ as re}from"./index-fa13e788.js";import{o as me,p as ce,q as pe,r as fe,s as be,t as ge,a as he,u as _e,v as ye}from"./microbiology.mutations-652bcc63.js";const n=h=>(de("data-v-4d09f0a0"),h=h(),ue(),h),xe={class:"w-full my-4"},ve=n(()=>e("hr",null,null,-1)),ke={class:"mb-6"},Ce=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),Be={class:"grid grid-cols-2 gap-4"},Ae={class:"block"},Ge=n(()=>e("span",{class:"text-gray-700"},"Organism Name",-1)),Ve={class:"block"},Te=n(()=>e("span",{class:"text-gray-700"},"WHONET Code",-1)),Oe={class:"block"},we=n(()=>e("span",{class:"text-gray-700"},"Replaced By",-1)),Ue={class:"block"},Ie=n(()=>e("span",{class:"text-gray-700"},"Taxonomic Status",-1)),De={class:"mb-6"},Se=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),Fe={class:"grid grid-cols-2 gap-4"},Pe={class:"block"},Ee=n(()=>e("span",{class:"text-gray-700"},"Common",-1)),Me={class:"block"},Ne=n(()=>e("span",{class:"text-gray-700"},"Organism Type",-1)),Ke={class:"block"},Re=n(()=>e("span",{class:"text-gray-700"},"Anaerobe",-1)),Le={class:"block"},We=n(()=>e("span",{class:"text-gray-700"},"Morphology",-1)),qe={class:"mb-6"},ze=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Taxonomy",-1)),He={class:"grid grid-cols-2 gap-4"},je={class:"block"},Je=n(()=>e("span",{class:"text-gray-700"},"Subkingdom Code",-1)),Qe={class:"block"},Xe=n(()=>e("span",{class:"text-gray-700"},"Family Code",-1)),Ye={class:"block"},Ze=n(()=>e("span",{class:"text-gray-700"},"Genus Group",-1)),$e={class:"block"},es=n(()=>e("span",{class:"text-gray-700"},"Genus Code",-1)),ss={class:"block"},os=n(()=>e("span",{class:"text-gray-700"},"Species Group",-1)),as={class:"block"},ls=n(()=>e("span",{class:"text-gray-700"},"Serovar Group",-1)),ts={class:"mb-6"},ns=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),is={class:"grid grid-cols-2 gap-4"},ds={class:"block"},us=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxon ID",-1)),rs={class:"block"},ms=n(()=>e("span",{class:"text-gray-700"},"GBIF Dataset ID",-1)),cs={class:"block"},ps=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxonomic Status",-1)),fs={class:"mb-6"},bs=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),gs={class:"grid grid-cols-2 gap-4"},hs={class:"block"},_s=n(()=>e("span",{class:"text-gray-700"},"Kingdom",-1)),ys={class:"block"},xs=n(()=>e("span",{class:"text-gray-700"},"Phylum",-1)),vs={class:"grid grid-cols-2 gap-4"},ks={class:"block"},Cs=n(()=>e("span",{class:"text-gray-700"},"Class",-1)),Bs={class:"block"},As=n(()=>e("span",{class:"text-gray-700"},"Order",-1)),Gs={class:"grid grid-cols-2 gap-4"},Vs={class:"block"},Ts=n(()=>e("span",{class:"text-gray-700"},"Family",-1)),Os={class:"block"},ws=n(()=>e("span",{class:"text-gray-700"},"Genus",-1)),Us={class:"mb-6"},Is=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Comments",-1)),Ds={class:"block"},Ss=n(()=>e("span",{class:"text-gray-700"},"Additional Comments",-1)),Fs=n(()=>e("hr",{class:"my-6"},null,-1)),Ps=n(()=>e("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Organism ",-1)),Es=Y({__name:"AbxOrganism",setup(h){const E=v(()=>k(()=>import("./index-fa13e788.js").then(t=>t.cN),["assets/index-fa13e788.js","assets/index-ccc6a521.css"])),M=v(()=>k(()=>import("./FelDataTable-76696623.js"),["assets/FelDataTable-76696623.js","assets/index-fa13e788.js","assets/index-ccc6a521.css"])),f=v(()=>k(()=>import("./vue-multiselect.esm-d8a2873c.js"),["assets/vue-multiselect.esm-d8a2873c.js","assets/index-fa13e788.js","assets/index-ccc6a521.css"])),{withClientMutation:C,withClientQuery:c}=Z();let g=u(!1),N=u(""),s=S({});const B=u(!0),A=u(!1),m=u([]),G=u([]),V=u([]),K=b(()=>V.value.filter(t=>t.kingdomUid===s.kingdom?.uid)),T=u([]),R=b(()=>T.value.filter(t=>t.phylumUid===s.phylum?.uid)),O=u([]),L=b(()=>O.value.filter(t=>t.classUid===s.class?.uid)),w=u([]),W=b(()=>w.value.filter(t=>t.orderUid===s.order?.uid)),U=u([]),q=b(()=>U.value.filter(t=>t.familyUid===s.family?.uid));let r=S({first:50,after:"",text:"",sortBy:["name"],filterAction:!1});const I=u(0);let D=u({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const z=b(()=>m?.value?.length+" of "+I.value+" organisms"),H=u([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"whonetOrgCode",value:"whonetOrgCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"replacedBy",value:"replacedBy",sortable:!1,sortBy:"asc",hidden:!0},{name:"taxonomicStatus",value:"taxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"common",value:"common",sortable:!1,sortBy:"asc",hidden:!0},{name:"organismType",value:"organismType",sortable:!1,sortBy:"asc",hidden:!1},{name:"anaerobe",value:"anaerobe",sortable:!1,sortBy:"asc",hidden:!1},{name:"morphology",value:"morphology",sortable:!1,sortBy:"asc",hidden:!0},{name:"subkingdomCode",value:"subkingdomCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"familyCode",value:"familyCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusGroup",value:"genusGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusCode",value:"genusCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"speciesGroup",value:"speciesGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"serovarGroup",value:"serovarGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"msfGrpClin",value:"msfGrpClin",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctCode",value:"sctCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctText",value:"sctText",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonId",value:"gbifTaxonId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifDatasetId",value:"gbifDatasetId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonomicStatus",value:"gbifTaxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"kingdom",value:"kingdom.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"phylum",value:"phylum.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"class",value:"class_.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"order",value:"order.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"family",value:"family.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"genus",value:"genus.name",sortable:!1,sortBy:"asc",hidden:!1}]);function y(t){c(he,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(o=>{const l=o.abxOrganismAll,_=l.items;t.filterAction?(m.value=[],m.value=_):m.value=P(m.value,_,"uid"),I.value=l?.totalCount,D.value=l?.pageInfo}).finally(()=>{A.value=!1})}$(()=>{y(r),c(me,{},"abxOrderAll").then(t=>{t&&(O.value=t)}),c(ce,{},"abxFamilyAll").then(t=>{t&&(w.value=t)}),c(pe,{},"abxKingdomAll").then(t=>{t&&(G.value=t)}),c(fe,{},"abxPhylumAll").then(t=>{t&&(V.value=t)}),c(be,{},"abxGenusAll").then(t=>{t&&(U.value=t)}),c(ge,{},"abxClassAll").then(t=>{t&&(T.value=t)})});function j(t){r.first=100,r.after="",r.text=t.filterText,r.filterAction=!0,y(r)}function J(t){r.first=t.fetchCount,r.after=D?.value?.endCursor,r.text=t.filterText,r.filterAction=!1,y(r)}const Q=()=>Object.assign(s,{});function X(){const t={name:s?.name,whonetOrgCode:s?.whonetOrgCode,replacedBy:s?.replacedBy,taxonomicStatus:s?.taxonomicStatus,common:s?.common,organismType:s?.organismType,anaerobe:s?.anaerobe,morphology:s?.morphology,subkingdomCode:s?.subkingdomCode,familyCode:s?.familyCode,genusGroup:s?.genusGroup,genusCode:s?.genusCode,speciesGroup:s?.speciesGroup,serovarGroup:s?.serovarGroup,msfGrpClin:s?.msfGrpClin,sctCode:s?.sctCode,sctText:s?.sctText,gbifTaxonId:s?.gbifTaxonId,gbifDatasetId:s?.gbifDatasetId,gbifTaxonomicStatus:s?.gbifTaxonomicStatus,kingdomUid:s?.kingdom?.uid,phylumUid:s?.phylum?.uid,classUid:s?.class?.uid,orderUid:s?.order?.uid,familyUid:s?.family?.uid,genusUid:s?.genus?.uid,comments:s?.comments};B.value===!0&&C(_e,{payload:t},"createAbxOrganism").then(o=>{o&&(m.value=P(m.value,[o],"uid"))}),B.value===!1&&C(ye,{uid:s.uid,payload:t},"updateAbxOrganism").then(o=>{if(o){const l=m.value.findIndex(_=>_.uid==o.uid);m.value[l]=o}}),g.value=!1}return(t,o)=>(F(),ee(ie,null,[e("div",xe,[ve,p(a(M),{columns:H.value,data:m.value,toggleColumns:!0,loading:A.value,paginable:!0,pageMeta:{fetchCount:a(r).first,hasNextPage:!0,countNone:z.value},searchable:!0,filterable:!1,onOnSearchKeyUp:j,onOnSearchFocus:Q,onOnPaginate:J,selectable:!1},{footer:x(()=>[]),_:1},8,["columns","data","loading","pageMeta"])]),a(g)?(F(),se(a(E),{key:0,onClose:o[24]||(o[24]=l=>te(g)?g.value=!1:g=!1),"content-width":"w-1/2"},{header:x(()=>[e("h3",null,oe(a(N)),1)]),body:x(()=>[e("form",{onSubmit:ae(X,["prevent"]),class:"p-4"},[e("div",ke,[Ce,e("div",Be,[e("label",Ae,[Ge,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[0]||(o[0]=l=>a(s).name=l),placeholder:"Enter organism name"},null,512),[[d,a(s).name]])]),e("label",Ve,[Te,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=l=>a(s).whonetOrgCode=l),placeholder:"WHONET code"},null,512),[[d,a(s).whonetOrgCode]])]),e("label",Oe,[we,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[2]||(o[2]=l=>a(s).replacedBy=l),placeholder:"Replaced by"},null,512),[[d,a(s).replacedBy]])]),e("label",Ue,[Ie,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[3]||(o[3]=l=>a(s).taxonomicStatus=l),placeholder:"Taxonomic status"},null,512),[[d,a(s).taxonomicStatus]])])])]),e("div",De,[Se,e("div",Fe,[e("label",Pe,[Ee,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[4]||(o[4]=l=>a(s).common=l),placeholder:"Common"},null,512),[[d,a(s).common]])]),e("label",Me,[Ne,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[5]||(o[5]=l=>a(s).organismType=l),placeholder:"Organism type"},null,512),[[d,a(s).organismType]])]),e("label",Ke,[Re,i(e("input",{type:"checkbox",class:"form-checkbox mt-1","onUpdate:modelValue":o[6]||(o[6]=l=>a(s).anaerobe=l)},null,512),[[le,a(s).anaerobe]])]),e("label",Le,[We,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[7]||(o[7]=l=>a(s).morphology=l),placeholder:"Morphology"},null,512),[[d,a(s).morphology]])])])]),e("div",qe,[ze,e("div",He,[e("label",je,[Je,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[8]||(o[8]=l=>a(s).subkingdomCode=l),placeholder:"Subkingdom code"},null,512),[[d,a(s).subkingdomCode]])]),e("label",Qe,[Xe,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[9]||(o[9]=l=>a(s).familyCode=l),placeholder:"Family code"},null,512),[[d,a(s).familyCode]])]),e("label",Ye,[Ze,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[10]||(o[10]=l=>a(s).genusGroup=l),placeholder:"Genus group"},null,512),[[d,a(s).genusGroup]])]),e("label",$e,[es,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[11]||(o[11]=l=>a(s).genusCode=l),placeholder:"Genus code"},null,512),[[d,a(s).genusCode]])]),e("label",ss,[os,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[12]||(o[12]=l=>a(s).speciesGroup=l),placeholder:"Species group"},null,512),[[d,a(s).speciesGroup]])]),e("label",as,[ls,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[13]||(o[13]=l=>a(s).serovarGroup=l),placeholder:"Serovar group"},null,512),[[d,a(s).serovarGroup]])])])]),e("div",ts,[ns,e("div",is,[e("label",ds,[us,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[14]||(o[14]=l=>a(s).gbifTaxonId=l),placeholder:"GBIF Taxon ID"},null,512),[[d,a(s).gbifTaxonId]])]),e("label",rs,[ms,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[15]||(o[15]=l=>a(s).gbifDatasetId=l),placeholder:"GBIF Dataset ID"},null,512),[[d,a(s).gbifDatasetId]])]),e("label",cs,[ps,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[16]||(o[16]=l=>a(s).gbifTaxonomicStatus=l),placeholder:"GBIF Taxonomic Status"},null,512),[[d,a(s).gbifTaxonomicStatus]])])])]),e("div",fs,[bs,e("div",gs,[e("label",hs,[_s,p(a(f),{modelValue:a(s).kingdom,"onUpdate:modelValue":o[17]||(o[17]=l=>a(s).kingdom=l),options:G.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",ys,[xs,p(a(f),{modelValue:a(s).phylum,"onUpdate:modelValue":o[18]||(o[18]=l=>a(s).phylum=l),options:K.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",vs,[e("label",ks,[Cs,p(a(f),{modelValue:a(s).class_,"onUpdate:modelValue":o[19]||(o[19]=l=>a(s).class_=l),options:R.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Bs,[As,p(a(f),{modelValue:a(s).Order,"onUpdate:modelValue":o[20]||(o[20]=l=>a(s).Order=l),options:L.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",Gs,[e("label",Vs,[Ts,p(a(f),{modelValue:a(s).family,"onUpdate:modelValue":o[21]||(o[21]=l=>a(s).family=l),options:W.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Os,[ws,p(a(f),{modelValue:a(s).genus,"onUpdate:modelValue":o[22]||(o[22]=l=>a(s).genus=l),options:q.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),e("div",Us,[Is,e("label",Ds,[Ss,i(e("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":o[23]||(o[23]=l=>a(s).comments=l),rows:"3",placeholder:"Additional comments..."},null,512),[[d,a(s).comments]])])]),Fs,Ps],32)]),_:1})):ne("",!0)],64))}});const Ks=re(Es,[["__scopeId","data-v-4d09f0a0"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganism.vue"]]);export{Ks as default};
