import{S as f,f as g,a0 as r,W as y,i as b,a as t,M as s,F as o}from"./index-0c222abb.js";import{G as h,i as k}from"./inventory-3abd9616.js";import{p as l}from"./index-821b8b6e.js";const D=f({name:"product-detail",emits:["close"],props:{product:{type:Object}},setup(e,{emit:p}){const{withClientQuery:n}=g(),c=r([]),i=r([]);y(()=>e.product?.uid,async(d,v)=>{d&&(n(h,{productUid:d},"stockLots").then(a=>{c.value=a}),n(k,{first:25,after:"",text:"",sortBy:["-uid"],productUid:d},"stockAdjustmentAll").then(a=>{i.value=a.items||[]}))});const u=r("stock-lots"),x=r(["stock-lots","ledger"]),m=b(()=>"tab-"+u.value);return{currentTab:u,inventoryTabs:x,currentTabComponent:m,props:e,stockLots:c,stockAdjustments:i,emit:p}},render(){return t(o,null,[t("div",{class:"space-y-4"},[t("h3",{class:"text-lg font-medium text-foreground"},[s("Stock Item: "),this.props.product?.stockItem?.name]),t("p",{class:"text-sm text-muted-foreground"},[this.props.product?.stockItem?.description]),t("div",{class:"border-t border-border my-4"},null),t("h3",{class:"text-lg font-medium text-foreground"},[s("Stock Variant: "),this.props.product?.name]),t("p",{class:"text-sm text-muted-foreground"},[this.props.product?.description]),t("div",{class:"border-t border-border my-4"},null),t("nav",{class:"flex justify-between bg-background shadow-md rounded-md"},[t("div",{class:"flex justify-start"},[this.inventoryTabs?.map(e=>t("a",{key:e,class:["no-underline text-muted-foreground uppercase tracking-wide font-bold text-xs py-2 px-4 rounded-md transition-colors duration-200",{"bg-primary text-primary-foreground":this.currentTab===e,"hover:bg-muted":this.currentTab!==e}],onClick:()=>this.currentTab=e},[e]))])]),t("div",{class:"pt-4"},[this.currentTab==="stock-lots"&&t(o,null,[t("div",{class:"overflow-hidden bg-background shadow-md rounded-lg"},[t("table",{class:"min-w-full divide-y divide-border"},[t("thead",{class:"bg-muted"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Lot Number")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Quantity")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Expiry Date")])])]),t("tbody",{class:"bg-background divide-y divide-border"},[this.stockLots?.map(e=>t("tr",{key:e.uid,class:"hover:bg-muted transition-colors duration-150"},[t("td",{class:"px-4 py-3 text-sm text-foreground"},[e.lotNumber]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[e.quantity]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[l(e.expiryDate,!1)])]))])])])]),this.currentTab==="ledger"&&t(o,null,[t("div",{class:"overflow-hidden bg-background shadow-md rounded-lg"},[t("table",{class:"min-w-full divide-y divide-border"},[t("thead",{class:"bg-muted"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Date")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Lot")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Transaction Type")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("Quantity")]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-foreground uppercase tracking-wider"},[s("By")])])]),t("tbody",{class:"bg-background divide-y divide-border"},[this.stockAdjustments?.map(e=>t(o,null,[t("tr",{key:e.uid,class:"hover:bg-muted transition-colors duration-150"},[t("td",{class:"px-4 py-3 text-sm text-foreground"},[l(e?.adjustmentDate)]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[e?.stockLot?.lotNumber]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[e?.adjustmentType]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[e?.adjust]),t("td",{class:"px-4 py-3 text-sm text-foreground"},[e?.adjustmentBy?.firstName])])]))])])])])])])])}});export{D as ProductDetail,D as default};
