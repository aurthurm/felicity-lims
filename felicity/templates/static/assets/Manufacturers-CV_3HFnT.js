import{Y as D,u as H,a0 as M,a7 as N,a3 as V,_ as L,r as u,c as w,o as v,z as m,A as h,C as P,a as t,K as a,M as s,F as B,H as R,I as y,B as U,a4 as S}from"./index-OdhKCqIc.js";import{i as q,j as z}from"./instrument.mutations-BxEMyJNC.js";import{u as j}from"./setup-BcFG_bXr.js";import{c as K,a as I,u as O,F as Y}from"./index.esm-BfHj8iGm.js";import{I as G}from"./Input-BEm5S0CJ.js";import{T as J}from"./Textarea-T3VcJTEo.js";import{F as Q,a as W,b as X}from"./FormMessage-CgXFMXx9.js";import{F as Z}from"./FormLabel-DxP9wnWS.js";import{P as $}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const ee=D({name:"ManufacturersView",__name:"Manufacturers",setup(k,{expose:r}){r();const f=j(),{withClientMutation:e}=H();let p=M(!1),_=M("");const d=M(!0),i=M(null),g=K({name:I().required("Name is required"),description:I().nullable()}),{handleSubmit:c,resetForm:b,setValues:F}=O({validationSchema:g,initialValues:{name:"",description:""}});f.fetchManufacturers();const x=N(()=>f.getManufacturers);function o(n){e(q,{payload:n},"createManufacturer").then(l=>f.addManufacturer(l))}function T(n){i.value&&e(z,{uid:i.value,payload:n},"updateManufacturer").then(l=>f.updateManufacturer(l))}function A(n,l={}){d.value=n,p.value=!0,_.value=(n?"CREATE":"EDIT")+" MANUFACTURER",n?(i.value=null,b({values:{name:"",description:""}})):(i.value=l.uid??null,F({name:l.name??"",description:l.description??""}))}const E=c(n=>{const l={name:n.name,description:n.description};d.value===!0&&o(l),d.value===!1&&T(l),p.value=!1}),C={setupStore:f,withClientMutation:e,get showModal(){return p},set showModal(n){p=n},get formTitle(){return _},set formTitle(n){_=n},formAction:d,currentUid:i,formSchema:g,handleSubmit:c,resetForm:b,setValues:F,manufacturers:x,addManufacturer:o,editManufacturer:T,FormManager:A,saveForm:E,get Button(){return V},get Input(){return G},get Textarea(){return J},get FormControl(){return X},get FormField(){return Y},get FormItem(){return W},get FormLabel(){return Z},get FormMessage(){return Q},PageHeading:$};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),te={class:"space-y-6"},ae={class:"border border-border bg-card rounded-lg shadow-md"},re={class:"relative w-full overflow-auto"},oe={class:"text-lg font-semibold text-foreground"},ne={class:"space-y-4"},le={class:"flex justify-end"};function se(k,r,f,e,p,_){const d=u("TableHead"),i=u("TableRow"),g=u("TableHeader"),c=u("TableCell"),b=u("TableBody"),F=u("Table"),x=u("Modal");return v(),w(B,null,[m("div",te,[t(e.PageHeading,{title:"Manufacturers"},{default:a(()=>[t(e.Button,{onClick:r[0]||(r[0]=o=>e.FormManager(!0))},{default:a(()=>[...r[3]||(r[3]=[s(" Add Manufacturer",-1)])]),_:1})]),_:1}),m("div",ae,[m("div",re,[t(F,{class:"w-full caption-bottom text-sm"},{default:a(()=>[t(g,{class:"[&_tr]:border-b"},{default:a(()=>[t(i,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[t(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...r[4]||(r[4]=[s("Manufacturer",-1)])]),_:1}),t(d,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...r[5]||(r[5]=[s("Description",-1)])]),_:1}),t(d,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:a(()=>[...r[6]||(r[6]=[s("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(b,{class:"[&_tr:last-child]:border-0"},{default:a(()=>[(v(!0),w(B,null,R(e.manufacturers,o=>(v(),h(i,{key:o?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[t(c,{class:"px-4 py-3 align-middle text-sm"},{default:a(()=>[s(y(o?.name),1)]),_:2},1024),t(c,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:a(()=>[s(y(o?.description),1)]),_:2},1024),t(c,{class:"px-4 py-3 align-middle text-right"},{default:a(()=>[t(e.Button,{variant:"outline",size:"sm",onClick:T=>e.FormManager(!1,o)},{default:a(()=>[...r[7]||(r[7]=[s(" Edit ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),e.showModal?(v(),h(x,{key:0,onClose:r[2]||(r[2]=o=>e.showModal=!1)},{header:a(()=>[m("h3",oe,y(e.formTitle),1)]),body:a(()=>[m("form",{onSubmit:r[1]||(r[1]=U((...o)=>e.saveForm&&e.saveForm(...o),["prevent"])),class:"space-y-4"},[m("div",ne,[t(e.FormField,{name:"name"},{default:a(({componentField:o})=>[t(e.FormItem,null,{default:a(()=>[t(e.FormLabel,null,{default:a(()=>[...r[8]||(r[8]=[s("Name",-1)])]),_:1}),t(e.FormControl,null,{default:a(()=>[t(e.Input,S(o,{placeholder:"Enter manufacturer name..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:a(({componentField:o})=>[t(e.FormItem,null,{default:a(()=>[t(e.FormLabel,null,{default:a(()=>[...r[9]||(r[9]=[s("Description",-1)])]),_:1}),t(e.FormControl,null,{default:a(()=>[t(e.Textarea,S(o,{placeholder:"Enter manufacturer description..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),m("div",le,[t(e.Button,{type:"submit"},{default:a(()=>[...r[10]||(r[10]=[s("Save Changes",-1)])]),_:1})])],32)]),_:1})):P("",!0)],64)}const Fe=L(ee,[["render",se],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/suppliers/Manufacturers.vue"]]);export{Fe as default};
