import{P as M,e as A,Z as c,f as V,h as b,o as a,c as i,b as t,F as m,D as y,E as d,a2 as o,x as N,K as h,A as p,V as g,a4 as w,z as F,a7 as B,J as R,X as $,Y as L,_ as O}from"./index-66877f9a.js";import{c as P,d as j}from"./instrument.mutations-c5044b37.js";import{u as K}from"./user-dbd21878.js";import{u as Y}from"./setup-e3499a38.js";import"./_queries-6b94db9a.js";const z={class:""},J={class:"container w-full my-4"},X={class:"overflow-x-auto mt-4"},Z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},q={class:"min-w-full"},G={class:"bg-white"},H={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},Q={class:"text-sm leading-5 text-gray-800"},W={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},tt={class:"text-sm leading-5 text-gray-800"},et={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},st={class:"text-sm leading-5 text-sky-800"},nt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ot={class:"text-sm leading-5 text-sky-800"},lt={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},rt=["onClick"],at={action:"post",class:"p-1"},it={class:"grid grid-cols-3 gap-x-4 mb-4"},dt={class:"block col-span-2 mb-2"},ut={class:"block col-span-1 mb-2"},pt={class:"block col-span-1 mb-2"},mt={class:"w-full"},ct=["value"],bt={class:"block col-span-1 mb-2"},yt={class:"w-full"},ft=["value"],gt={class:"block col-span-1 mb-2"},wt={class:"w-full"},xt=["value"],vt={class:"block col-span-3 mb-2"},kt=M({__name:"Instruments",setup(ht){const _=$(()=>L(()=>import("./index-66877f9a.js").then(r=>r.cN),["assets/index-66877f9a.js","assets/index-78b87750.css"]));K();const l=Y(),{withClientMutation:x}=A();c("view");let u=c(!1),v=c("");const f=c(!0);let n=V({});l.fetchInstrumentTypes();const U=b(()=>l.getInstrumentTypes);l.fetchInstruments();const I=b(()=>l.getInstruments);l.fetchManufacturers();const T=b(()=>l.getManufacturers);l.fetchSuppliers();const S=b(()=>l.getSuppliers);function C(){const r={name:n.name,keyword:n.keyword,description:n.description,instrumentTypeUid:n.instrumentTypeUid,manufacturerUid:n.manufacturerUid,supplierUid:n.supplierUid};x(P,{payload:r},"createInstrument").then(e=>l.addInstrument(e))}function D(){const r={name:n.name,keyword:n.keyword,description:n.description,instrumentTypeUid:n.instrumentTypeUid,manufacturerUid:n.manufacturerUid,supplierUid:n.supplierUid};x(j,{uid:n.uid,payload:r},"updateInstrument").then(e=>l.updateInstrument(e))}function k(r,e={}){f.value=r,u.value=!0,v.value=(r?"CREATE":"EDIT")+" ANALYSES INSTRUMENT",r?Object.assign(n,{}):Object.assign(n,{...e})}function E(){f.value===!0&&C(),f.value===!1&&D(),u.value=!1}return(r,e)=>(a(),i(m,null,[t("div",z,[t("div",J,[e[9]||(e[9]=t("hr",null,null,-1)),t("button",{class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:e[0]||(e[0]=s=>k(!0))}," Add Instrument"),e[10]||(e[10]=t("hr",null,null,-1))]),e[12]||(e[12]=t("hr",null,null,-1)),t("div",X,[t("div",Z,[t("table",q,[e[11]||(e[11]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Name"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Type"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Manufacturer"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Supplier"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",G,[(a(!0),i(m,null,y(I.value,s=>(a(),i("tr",{key:s?.uid},[t("td",H,[t("div",Q,d(s?.name),1)]),t("td",W,[t("div",tt,d(s?.instrumentType?.name),1)]),t("td",et,[t("div",st,d(s?.manufacturer?.name),1)]),t("td",nt,[t("div",ot,d(s?.supplier?.name),1)]),t("td",lt,[t("button",{onClick:_t=>k(!1,s),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,rt)])]))),128))])])])])]),o(u)?(a(),N(o(_),{key:0,onClose:e[8]||(e[8]=s=>B(u)?u.value=!1:u=!1)},{header:h(()=>[t("h3",null,d(o(v)),1)]),body:h(()=>[t("form",at,[t("div",it,[t("label",dt,[e[13]||(e[13]=t("span",{class:"text-gray-700"},"Instrument Name",-1)),p(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[1]||(e[1]=s=>o(n).name=s),placeholder:"Name ..."},null,512),[[g,o(n).name]])]),t("label",ut,[e[14]||(e[14]=t("span",{class:"text-gray-700"},"keyword",-1)),p(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[2]||(e[2]=s=>o(n).keyword=s),placeholder:"Keyword ..."},null,512),[[g,o(n).keyword]])]),t("label",pt,[e[16]||(e[16]=t("span",{class:"text-gray-700 w-4/12"},"Instrument Type",-1)),t("div",mt,[p(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[3]||(e[3]=s=>o(n).instrumentTypeUid=s)},[e[15]||(e[15]=t("option",null,null,-1)),(a(!0),i(m,null,y(U.value,s=>(a(),i("option",{key:s?.uid,value:s.uid},d(s?.name),9,ct))),128))],512),[[w,o(n).instrumentTypeUid]])])]),t("label",bt,[e[18]||(e[18]=t("span",{class:"text-gray-700 w-4/12"},"Manufacturer",-1)),t("div",yt,[p(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[4]||(e[4]=s=>o(n).manufacturerUid=s)},[e[17]||(e[17]=t("option",null,null,-1)),(a(!0),i(m,null,y(T.value,s=>(a(),i("option",{key:s?.uid,value:s.uid},d(s?.name),9,ft))),128))],512),[[w,o(n).manufacturerUid]])])]),t("label",gt,[e[20]||(e[20]=t("span",{class:"text-gray-700 w-4/12"},"Supplier",-1)),t("div",wt,[p(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[5]||(e[5]=s=>o(n).supplierUid=s)},[e[19]||(e[19]=t("option",null,null,-1)),(a(!0),i(m,null,y(S.value,s=>(a(),i("option",{key:s?.uid,value:s.uid},d(s?.name),9,xt))),128))],512),[[w,o(n).supplierUid]])])]),t("label",vt,[e[21]||(e[21]=t("span",{class:"text-gray-700"},"Description",-1)),p(t("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[6]||(e[6]=s=>o(n).description=s),placeholder:"Description ..."},null,512),[[g,o(n).description]])])]),e[22]||(e[22]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[7]||(e[7]=F(s=>E(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):R("",!0)],64))}}),Dt=O(kt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Instruments.vue"]]);export{Dt as default};
