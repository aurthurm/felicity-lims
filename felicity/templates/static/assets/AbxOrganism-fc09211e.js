import{P as Q,e as X,Z as u,f as I,h as b,aa as Y,o as S,c as Z,b as s,a as p,K as x,a2 as o,x as $,E as ee,z as se,A as n,V as i,W as le,a7 as oe,J as ae,F as te,X as v,Y as k,af as F,_ as ne}from"./index-e1b11e1a.js";import{o as ie,p as ue,q as re,r as de,s as me,t as pe,a as fe,u as be,v as ge}from"./microbiology.mutations-738698d8.js";const ce={class:"w-full my-4"},ye={class:"mb-6"},xe={class:"grid grid-cols-2 gap-4"},ve={class:"block"},ke={class:"block"},Ce={class:"block"},Be={class:"block"},he={class:"mb-6"},Ae={class:"grid grid-cols-2 gap-4"},Ge={class:"block"},Ve={class:"block"},Oe={class:"block"},Te={class:"block"},we={class:"mb-6"},Ue={class:"grid grid-cols-2 gap-4"},De={class:"block"},Ie={class:"block"},Se={class:"block"},Fe={class:"block"},Pe={class:"block"},Ee={class:"block"},Me={class:"mb-6"},Ne={class:"grid grid-cols-2 gap-4"},Ke={class:"block"},Re={class:"block"},Le={class:"block"},_e={class:"mb-6"},We={class:"grid grid-cols-2 gap-4"},qe={class:"block"},ze={class:"block"},He={class:"grid grid-cols-2 gap-4"},je={class:"block"},Je={class:"block"},Qe={class:"grid grid-cols-2 gap-4"},Xe={class:"block"},Ye={class:"block"},Ze={class:"mb-6"},$e={class:"block"},es=Q({__name:"AbxOrganism",setup(ss){const P=v(()=>k(()=>import("./index-e1b11e1a.js").then(t=>t.cN),["assets/index-e1b11e1a.js","assets/index-78b87750.css"])),E=v(()=>k(()=>import("./FelDataTable-3747b614.js"),["assets/FelDataTable-3747b614.js","assets/index-e1b11e1a.js","assets/index-78b87750.css"])),f=v(()=>k(()=>import("./vue-multiselect.esm-0b4dedd5.js"),["assets/vue-multiselect.esm-0b4dedd5.js","assets/index-e1b11e1a.js","assets/index-78b87750.css"])),{withClientMutation:C,withClientQuery:m}=X();let g=u(!1),M=u(""),l=I({});const B=u(!0),h=u(!1),d=u([]),A=u([]),G=u([]),N=b(()=>G.value.filter(t=>t.kingdomUid===l.kingdom?.uid)),V=u([]),K=b(()=>V.value.filter(t=>t.phylumUid===l.phylum?.uid)),O=u([]),R=b(()=>O.value.filter(t=>t.classUid===l.class?.uid)),T=u([]),L=b(()=>T.value.filter(t=>t.orderUid===l.order?.uid)),w=u([]),_=b(()=>w.value.filter(t=>t.familyUid===l.family?.uid));let r=I({first:50,after:"",text:"",sortBy:["name"],filterAction:!1});const U=u(0);let D=u({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const W=b(()=>d?.value?.length+" of "+U.value+" organisms"),q=u([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"whonetOrgCode",value:"whonetOrgCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"replacedBy",value:"replacedBy",sortable:!1,sortBy:"asc",hidden:!0},{name:"taxonomicStatus",value:"taxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"common",value:"common",sortable:!1,sortBy:"asc",hidden:!0},{name:"organismType",value:"organismType",sortable:!1,sortBy:"asc",hidden:!1},{name:"anaerobe",value:"anaerobe",sortable:!1,sortBy:"asc",hidden:!1},{name:"morphology",value:"morphology",sortable:!1,sortBy:"asc",hidden:!0},{name:"subkingdomCode",value:"subkingdomCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"familyCode",value:"familyCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusGroup",value:"genusGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusCode",value:"genusCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"speciesGroup",value:"speciesGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"serovarGroup",value:"serovarGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"msfGrpClin",value:"msfGrpClin",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctCode",value:"sctCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctText",value:"sctText",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonId",value:"gbifTaxonId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifDatasetId",value:"gbifDatasetId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonomicStatus",value:"gbifTaxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"kingdom",value:"kingdom.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"phylum",value:"phylum.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"class",value:"class_.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"order",value:"order.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"family",value:"family.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"genus",value:"genus.name",sortable:!1,sortBy:"asc",hidden:!1}]);function y(t){m(fe,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(e=>{const a=e.abxOrganismAll,c=a.items;t.filterAction?(d.value=[],d.value=c):d.value=F(d.value,c,"uid"),U.value=a?.totalCount,D.value=a?.pageInfo}).finally(()=>{h.value=!1})}Y(()=>{y(r),m(ie,{},"abxOrderAll").then(t=>{t&&(O.value=t)}),m(ue,{},"abxFamilyAll").then(t=>{t&&(T.value=t)}),m(re,{},"abxKingdomAll").then(t=>{t&&(A.value=t)}),m(de,{},"abxPhylumAll").then(t=>{t&&(G.value=t)}),m(me,{},"abxGenusAll").then(t=>{t&&(w.value=t)}),m(pe,{},"abxClassAll").then(t=>{t&&(V.value=t)})});function z(t){r.first=100,r.after="",r.text=t.filterText,r.filterAction=!0,y(r)}function H(t){r.first=t.fetchCount,r.after=D?.value?.endCursor,r.text=t.filterText,r.filterAction=!1,y(r)}const j=()=>Object.assign(l,{});function J(){const t={name:l?.name,whonetOrgCode:l?.whonetOrgCode,replacedBy:l?.replacedBy,taxonomicStatus:l?.taxonomicStatus,common:l?.common,organismType:l?.organismType,anaerobe:l?.anaerobe,morphology:l?.morphology,subkingdomCode:l?.subkingdomCode,familyCode:l?.familyCode,genusGroup:l?.genusGroup,genusCode:l?.genusCode,speciesGroup:l?.speciesGroup,serovarGroup:l?.serovarGroup,msfGrpClin:l?.msfGrpClin,sctCode:l?.sctCode,sctText:l?.sctText,gbifTaxonId:l?.gbifTaxonId,gbifDatasetId:l?.gbifDatasetId,gbifTaxonomicStatus:l?.gbifTaxonomicStatus,kingdomUid:l?.kingdom?.uid,phylumUid:l?.phylum?.uid,classUid:l?.class?.uid,orderUid:l?.order?.uid,familyUid:l?.family?.uid,genusUid:l?.genus?.uid,comments:l?.comments};B.value===!0&&C(be,{payload:t},"createAbxOrganism").then(e=>{e&&(d.value=F(d.value,[e],"uid"))}),B.value===!1&&C(ge,{uid:l.uid,payload:t},"updateAbxOrganism").then(e=>{if(e){const a=d.value.findIndex(c=>c.uid==e.uid);d.value[a]=e}}),g.value=!1}return(t,e)=>(S(),Z(te,null,[s("div",ce,[e[26]||(e[26]=s("hr",null,null,-1)),p(o(E),{columns:q.value,data:d.value,toggleColumns:!0,loading:h.value,paginable:!0,pageMeta:{fetchCount:o(r).first,hasNextPage:!0,countNone:W.value},searchable:!0,filterable:!1,onOnSearchKeyUp:z,onOnSearchFocus:j,onOnPaginate:H,selectable:!1},{footer:x(()=>e[25]||(e[25]=[])),_:1},8,["columns","data","loading","pageMeta"])]),o(g)?(S(),$(o(P),{key:0,onClose:e[24]||(e[24]=a=>oe(g)?g.value=!1:g=!1),"content-width":"w-1/2"},{header:x(()=>[s("h3",null,ee(o(M)),1)]),body:x(()=>[s("form",{onSubmit:se(J,["prevent"]),class:"p-4"},[s("div",ye,[e[31]||(e[31]=s("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),s("div",xe,[s("label",ve,[e[27]||(e[27]=s("span",{class:"text-gray-700"},"Organism Name",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[0]||(e[0]=a=>o(l).name=a),placeholder:"Enter organism name"},null,512),[[i,o(l).name]])]),s("label",ke,[e[28]||(e[28]=s("span",{class:"text-gray-700"},"WHONET Code",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[1]||(e[1]=a=>o(l).whonetOrgCode=a),placeholder:"WHONET code"},null,512),[[i,o(l).whonetOrgCode]])]),s("label",Ce,[e[29]||(e[29]=s("span",{class:"text-gray-700"},"Replaced By",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[2]||(e[2]=a=>o(l).replacedBy=a),placeholder:"Replaced by"},null,512),[[i,o(l).replacedBy]])]),s("label",Be,[e[30]||(e[30]=s("span",{class:"text-gray-700"},"Taxonomic Status",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[3]||(e[3]=a=>o(l).taxonomicStatus=a),placeholder:"Taxonomic status"},null,512),[[i,o(l).taxonomicStatus]])])])]),s("div",he,[e[36]||(e[36]=s("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),s("div",Ae,[s("label",Ge,[e[32]||(e[32]=s("span",{class:"text-gray-700"},"Common",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[4]||(e[4]=a=>o(l).common=a),placeholder:"Common"},null,512),[[i,o(l).common]])]),s("label",Ve,[e[33]||(e[33]=s("span",{class:"text-gray-700"},"Organism Type",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[5]||(e[5]=a=>o(l).organismType=a),placeholder:"Organism type"},null,512),[[i,o(l).organismType]])]),s("label",Oe,[e[34]||(e[34]=s("span",{class:"text-gray-700"},"Anaerobe",-1)),n(s("input",{type:"checkbox",class:"form-checkbox mt-1","onUpdate:modelValue":e[6]||(e[6]=a=>o(l).anaerobe=a)},null,512),[[le,o(l).anaerobe]])]),s("label",Te,[e[35]||(e[35]=s("span",{class:"text-gray-700"},"Morphology",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[7]||(e[7]=a=>o(l).morphology=a),placeholder:"Morphology"},null,512),[[i,o(l).morphology]])])])]),s("div",we,[e[43]||(e[43]=s("h4",{class:"text-lg font-semibold mb-4"},"Taxonomy",-1)),s("div",Ue,[s("label",De,[e[37]||(e[37]=s("span",{class:"text-gray-700"},"Subkingdom Code",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[8]||(e[8]=a=>o(l).subkingdomCode=a),placeholder:"Subkingdom code"},null,512),[[i,o(l).subkingdomCode]])]),s("label",Ie,[e[38]||(e[38]=s("span",{class:"text-gray-700"},"Family Code",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[9]||(e[9]=a=>o(l).familyCode=a),placeholder:"Family code"},null,512),[[i,o(l).familyCode]])]),s("label",Se,[e[39]||(e[39]=s("span",{class:"text-gray-700"},"Genus Group",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[10]||(e[10]=a=>o(l).genusGroup=a),placeholder:"Genus group"},null,512),[[i,o(l).genusGroup]])]),s("label",Fe,[e[40]||(e[40]=s("span",{class:"text-gray-700"},"Genus Code",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[11]||(e[11]=a=>o(l).genusCode=a),placeholder:"Genus code"},null,512),[[i,o(l).genusCode]])]),s("label",Pe,[e[41]||(e[41]=s("span",{class:"text-gray-700"},"Species Group",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[12]||(e[12]=a=>o(l).speciesGroup=a),placeholder:"Species group"},null,512),[[i,o(l).speciesGroup]])]),s("label",Ee,[e[42]||(e[42]=s("span",{class:"text-gray-700"},"Serovar Group",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[13]||(e[13]=a=>o(l).serovarGroup=a),placeholder:"Serovar group"},null,512),[[i,o(l).serovarGroup]])])])]),s("div",Me,[e[47]||(e[47]=s("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),s("div",Ne,[s("label",Ke,[e[44]||(e[44]=s("span",{class:"text-gray-700"},"GBIF Taxon ID",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[14]||(e[14]=a=>o(l).gbifTaxonId=a),placeholder:"GBIF Taxon ID"},null,512),[[i,o(l).gbifTaxonId]])]),s("label",Re,[e[45]||(e[45]=s("span",{class:"text-gray-700"},"GBIF Dataset ID",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[15]||(e[15]=a=>o(l).gbifDatasetId=a),placeholder:"GBIF Dataset ID"},null,512),[[i,o(l).gbifDatasetId]])]),s("label",Le,[e[46]||(e[46]=s("span",{class:"text-gray-700"},"GBIF Taxonomic Status",-1)),n(s("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[16]||(e[16]=a=>o(l).gbifTaxonomicStatus=a),placeholder:"GBIF Taxonomic Status"},null,512),[[i,o(l).gbifTaxonomicStatus]])])])]),s("div",_e,[e[54]||(e[54]=s("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),s("div",We,[s("label",qe,[e[48]||(e[48]=s("span",{class:"text-gray-700"},"Kingdom",-1)),p(o(f),{modelValue:o(l).kingdom,"onUpdate:modelValue":e[17]||(e[17]=a=>o(l).kingdom=a),options:A.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),s("label",ze,[e[49]||(e[49]=s("span",{class:"text-gray-700"},"Phylum",-1)),p(o(f),{modelValue:o(l).phylum,"onUpdate:modelValue":e[18]||(e[18]=a=>o(l).phylum=a),options:N.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),s("div",He,[s("label",je,[e[50]||(e[50]=s("span",{class:"text-gray-700"},"Class",-1)),p(o(f),{modelValue:o(l).class_,"onUpdate:modelValue":e[19]||(e[19]=a=>o(l).class_=a),options:K.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),s("label",Je,[e[51]||(e[51]=s("span",{class:"text-gray-700"},"Order",-1)),p(o(f),{modelValue:o(l).Order,"onUpdate:modelValue":e[20]||(e[20]=a=>o(l).Order=a),options:R.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),s("div",Qe,[s("label",Xe,[e[52]||(e[52]=s("span",{class:"text-gray-700"},"Family",-1)),p(o(f),{modelValue:o(l).family,"onUpdate:modelValue":e[21]||(e[21]=a=>o(l).family=a),options:L.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),s("label",Ye,[e[53]||(e[53]=s("span",{class:"text-gray-700"},"Genus",-1)),p(o(f),{modelValue:o(l).genus,"onUpdate:modelValue":e[22]||(e[22]=a=>o(l).genus=a),options:_.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),s("div",Ze,[e[56]||(e[56]=s("h4",{class:"text-lg font-semibold mb-4"},"Comments",-1)),s("label",$e,[e[55]||(e[55]=s("span",{class:"text-gray-700"},"Additional Comments",-1)),n(s("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":e[23]||(e[23]=a=>o(l).comments=a),rows:"3",placeholder:"Additional comments..."},null,512),[[i,o(l).comments]])])]),e[57]||(e[57]=s("hr",{class:"my-6"},null,-1)),e[58]||(e[58]=s("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Organism ",-1))],32)]),_:1})):ae("",!0)],64))}});const as=ne(es,[["__scopeId","data-v-4d09f0a0"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganism.vue"]]);export{as as default};
