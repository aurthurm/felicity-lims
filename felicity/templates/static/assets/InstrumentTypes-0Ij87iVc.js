import{Y as N,u as A,a0 as v,ah as P,a7 as V,a3 as L,_ as R,r as i,c as w,o as y,z as u,A as E,C as h,a as t,K as n,M as l,F as B,H as U,I,B as q,a4 as S}from"./index-OdhKCqIc.js";import{c as z,a as D,u as Y,F as K}from"./index.esm-BfHj8iGm.js";import{A as O,E as j}from"./instrument.mutations-BxEMyJNC.js";import{u as G}from"./setup-BcFG_bXr.js";import{I as J}from"./Input-BEm5S0CJ.js";import{T as Q}from"./Textarea-T3VcJTEo.js";import{F as W,a as X,b as Z}from"./FormMessage-CgXFMXx9.js";import{F as $}from"./FormLabel-DxP9wnWS.js";import{E as ee,a as te,b as ne,c as re,d as oe}from"./EmptyTitle-aCQRDpx3.js";import{P as ae}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const le=N({__name:"InstrumentTypes",setup(k,{expose:r}){r();const p=G(),{withClientMutation:e}=A();let c=v(!1),_=v("");const m=v(!0),d=v(null),g=z({name:D().required("Name is required"),description:D().nullable()}),{handleSubmit:f,resetForm:T,setValues:b}=Y({validationSchema:g,initialValues:{name:"",description:""}});P(()=>{p.fetchInstrumentTypes()});const x=V(()=>p.getInstrumentTypes);function F(a){e(O,{payload:a},"createInstrumentType").then(s=>p.addInstrumentType(s))}function o(a){d.value&&e(j,{uid:d.value,payload:a},"updateInstrumentType").then(s=>p.updateInstrumentType(s))}function C(a,s={}){m.value=a,c.value=!0,_.value=(a?"CREATE":"EDIT")+" INSTRUMENT TYPE",a?(d.value=null,T({values:{name:"",description:""}})):(d.value=s.uid??null,b({name:s.name??"",description:s.description??""}))}const H=f(a=>{const s={name:a.name,description:a.description};m.value===!0&&F(s),m.value===!1&&o(s),c.value=!1}),M={setupStore:p,withClientMutation:e,get showModal(){return c},set showModal(a){c=a},get formTitle(){return _},set formTitle(a){_=a},formAction:m,currentUid:d,formSchema:g,handleSubmit:f,resetForm:T,setValues:b,instrumentTypes:x,addInstrumentType:F,editInstrumentType:o,FormManager:C,saveForm:H,get Button(){return L},get Input(){return J},get Textarea(){return Q},get FormControl(){return Z},get FormField(){return K},get FormItem(){return X},get FormLabel(){return $},get FormMessage(){return W},get Empty(){return oe},get EmptyContent(){return re},get EmptyDescription(){return ne},get EmptyHeader(){return te},get EmptyTitle(){return ee},PageHeading:ae};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),se={class:"space-y-6"},me={class:"border border-border bg-card rounded-lg shadow-md"},de={class:"relative w-full overflow-auto"},ie={class:"text-lg font-semibold text-foreground"},ue={class:"space-y-4"},pe={class:"flex justify-end"};function fe(k,r,p,e,c,_){const m=i("TableHead"),d=i("TableRow"),g=i("TableHeader"),f=i("TableCell"),T=i("TableEmpty"),b=i("TableBody"),x=i("Table"),F=i("Modal");return y(),w(B,null,[u("div",se,[t(e.PageHeading,{title:"Instrument Types"},{default:n(()=>[t(e.Button,{onClick:r[0]||(r[0]=o=>e.FormManager(!0))},{default:n(()=>[...r[3]||(r[3]=[l(" Add Instrument Type",-1)])]),_:1})]),_:1}),u("div",me,[u("div",de,[t(x,{class:"w-full caption-bottom text-sm"},{default:n(()=>[t(g,{class:"[&_tr]:border-b"},{default:n(()=>[t(d,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:n(()=>[t(m,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:n(()=>[...r[4]||(r[4]=[l("Name",-1)])]),_:1}),t(m,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:n(()=>[...r[5]||(r[5]=[l("Description",-1)])]),_:1}),t(m,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:n(()=>[...r[6]||(r[6]=[l("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(b,{class:"[&_tr:last-child]:border-0"},{default:n(()=>[(y(!0),w(B,null,U(e.instrumentTypes,o=>(y(),E(d,{key:o?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:n(()=>[t(f,{class:"px-4 py-3 align-middle text-sm"},{default:n(()=>[l(I(o?.name),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle text-sm text-primary"},{default:n(()=>[l(I(o?.description),1)]),_:2},1024),t(f,{class:"px-4 py-3 align-middle text-right"},{default:n(()=>[t(e.Button,{variant:"outline",size:"sm",onClick:C=>e.FormManager(!1,o)},{default:n(()=>[...r[7]||(r[7]=[l(" Edit ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),!e.instrumentTypes||e.instrumentTypes.length===0?(y(),E(T,{key:0,colspan:3},{default:n(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:n(()=>[t(e.EmptyContent,null,{default:n(()=>[t(e.EmptyHeader,null,{default:n(()=>[t(e.EmptyTitle,null,{default:n(()=>[...r[8]||(r[8]=[l("No instrument types found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:n(()=>[...r[9]||(r[9]=[l("Add an instrument type to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})])])]),e.showModal?(y(),E(F,{key:0,onClose:r[2]||(r[2]=o=>e.showModal=!1)},{header:n(()=>[u("h3",ie,I(e.formTitle),1)]),body:n(()=>[u("form",{onSubmit:r[1]||(r[1]=q((...o)=>e.saveForm&&e.saveForm(...o),["prevent"])),class:"space-y-4"},[u("div",ue,[t(e.FormField,{name:"name"},{default:n(({componentField:o})=>[t(e.FormItem,null,{default:n(()=>[t(e.FormLabel,null,{default:n(()=>[...r[10]||(r[10]=[l("Name",-1)])]),_:1}),t(e.FormControl,null,{default:n(()=>[t(e.Input,S(o,{placeholder:"Enter instrument type name..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:n(({componentField:o})=>[t(e.FormItem,null,{default:n(()=>[t(e.FormLabel,null,{default:n(()=>[...r[11]||(r[11]=[l("Description",-1)])]),_:1}),t(e.FormControl,null,{default:n(()=>[t(e.Textarea,S(o,{placeholder:"Enter description..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),u("div",pe,[t(e.Button,{type:"submit"},{default:n(()=>[...r[12]||(r[12]=[l("Save Changes",-1)])]),_:1})])],32)]),_:1})):h("",!0)],64)}const Ce=R(le,[["render",fe],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/instruments/InstrumentTypes.vue"]]);export{Ce as default};
