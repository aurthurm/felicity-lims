import{Y as N,u as k,a0 as g,ah as L,a3 as P,_ as V,r as m,c as C,o as _,z as f,A as T,C as O,a as t,K as o,M as r,F as M,H as q,I as E,B as R,a4 as B}from"./index-OdhKCqIc.js";import{c as U,a as z,u as G,F as K}from"./index.esm-BfHj8iGm.js";import{a5 as Q,ac as Y,ad as J}from"./microbiology.mutations-cVAbKt4K.js";import{E as W,a as X,b as Z,c as j,d as $}from"./EmptyTitle-aCQRDpx3.js";import{I as ee}from"./Input-BEm5S0CJ.js";import{F as te,a as oe,b as ne}from"./FormMessage-CgXFMXx9.js";import{F as ae}from"./FormLabel-DxP9wnWS.js";import{P as le}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const re=N({__name:"AbxSiteOfInfection",setup(D,{expose:n}){n();const{withClientMutation:x,withClientQuery:e}=k();let b=g(!1),y=g("");const i=g(!0),s=g(null),v=U({name:z().trim().required("Name is required")}),{handleSubmit:u,resetForm:F,setValues:I}=G({validationSchema:v,initialValues:{name:"",description:""}}),d=g([]);L(()=>{e(Q,{},"abxSiteOfInfectionAll").then(a=>{a&&(d.value=a)})});function S(a,c={}){i.value=a,b.value=!0,y.value=(a?"Create":"Edit")+" Abx SiteOfInfection",a?(s.value=null,F()):(s.value=c.uid??null,I({name:c.name??"",description:c.description??""}))}const l=u(a=>{const c={name:a.name,description:a.description};i.value===!0&&x(Y,{payload:c},"createAbxSiteOfInfection").then(p=>{p&&d.value.unshift(p)}),i.value===!1&&s.value&&x(J,{uid:s.value,payload:c},"updateAbxSiteOfInfection").then(p=>{if(p){const A=d.value.findIndex(w=>w.uid==p.uid);A>-1&&(d.value=[...d.value.map((w,H)=>H===A?p:w)])}}),b.value=!1}),h={withClientMutation:x,withClientQuery:e,get showModal(){return b},set showModal(a){b=a},get formTitle(){return y},set formTitle(a){y=a},formAction:i,currentUid:s,siteOfInfectionSchema:v,handleSubmit:u,resetForm:F,setValues:I,abxSiteOfInfections:d,FormManager:S,saveForm:l,get Empty(){return $},get EmptyContent(){return j},get EmptyDescription(){return Z},get EmptyHeader(){return X},get EmptyTitle(){return W},get Button(){return P},get Input(){return ee},get FormControl(){return ne},get FormField(){return K},get FormItem(){return oe},get FormLabel(){return ae},get FormMessage(){return te},PageHeading:le};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),ie={class:"space-y-6"},se={class:"border border-border bg-card rounded-lg shadow-md"},de={class:"relative w-full overflow-auto"},me={class:"text-xl font-semibold text-foreground"},fe={class:"grid grid-cols-2 gap-4"};function ue(D,n,x,e,b,y){const i=m("TableHead"),s=m("TableRow"),v=m("TableHeader"),u=m("TableCell"),F=m("TableEmpty"),I=m("TableBody"),d=m("Table"),S=m("Modal");return _(),C(M,null,[f("div",ie,[t(e.PageHeading,{title:"Site of Infection"}),f("div",se,[f("div",de,[t(d,{class:"w-full caption-bottom text-sm"},{default:o(()=>[t(v,{class:"[&_tr]:border-b"},{default:o(()=>[t(s,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...n[2]||(n[2]=[r("Name",-1)])]),_:1}),t(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...n[3]||(n[3]=[r("Description",-1)])]),_:1}),t(i,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...n[4]||(n[4]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(I,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[(_(!0),C(M,null,q(e.abxSiteOfInfections,l=>(_(),T(s,{key:l?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(u,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[r(E(l?.name),1)]),_:2},1024),t(u,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[r(E(l?.description),1)]),_:2},1024),t(u,{class:"px-4 py-3 align-middle text-right text-sm"})]),_:2},1024))),128)),!e.abxSiteOfInfections||e.abxSiteOfInfections.length===0?(_(),T(F,{key:0,colspan:3},{default:o(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:o(()=>[t(e.EmptyContent,null,{default:o(()=>[t(e.EmptyHeader,null,{default:o(()=>[t(e.EmptyTitle,null,{default:o(()=>[...n[5]||(n[5]=[r("No sites of infection found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:o(()=>[...n[6]||(n[6]=[r("Add a site to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0)]),_:1})]),_:1})])])]),e.showModal?(_(),T(S,{key:0,onClose:n[1]||(n[1]=l=>e.showModal=!1)},{header:o(()=>[f("h3",me,E(e.formTitle),1)]),body:o(()=>[f("form",{onSubmit:n[0]||(n[0]=R((...l)=>e.saveForm&&e.saveForm(...l),["prevent"])),class:"space-y-6 p-4"},[f("div",fe,[t(e.FormField,{name:"name"},{default:o(({componentField:l})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...n[7]||(n[7]=[r("Name",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,B(l,{placeholder:"Name ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:o(({componentField:l})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...n[8]||(n[8]=[r("Description",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,B(l,{placeholder:"Begin typing ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),n[10]||(n[10]=f("hr",{class:"border-border"},null,-1)),t(e.Button,{type:"submit",class:"w-full"},{default:o(()=>[...n[9]||(n[9]=[r(" Save Abx SiteOfInfection ",-1)])]),_:1})],32)]),_:1})):O("",!0)],64)}const Ie=V(re,[["render",ue],["__scopeId","data-v-575af280"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxSiteOfInfection.vue"]]);export{Ie as default};
