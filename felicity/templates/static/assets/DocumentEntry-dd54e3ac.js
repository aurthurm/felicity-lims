import{e as T,d as te,a3 as B,P as A,Z as D,h as C,r as oe,o as i,c as u,b as o,z as $,x as y,aC as G,a2 as c,a1 as L,E as j,a as v,A as E,J as O,F as U,D as q,_ as I,V as z,L as S,b5 as K,Q as ne,b6 as se,R as ie,aa as X}from"./index-f86d8273.js";import{G as le,a as re,A as de,b as ue}from"./document.mutations-b0086f55.js";import{b as ae}from"./_isIterateeCall-3ed5658a.js";import{t as Q}from"./toFinite-9ff521fb.js";var ce=Math.floor,me=Math.random;function fe(e,t){return e+ce(me()*(t-e+1))}var pe=parseFloat,ve=Math.min,he=Math.random;function be(e,t,n){if(n&&typeof n!="boolean"&&ae(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Q(e),t===void 0?(t=e,e=0):t=Q(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var d=he();return ve(e+d*(t-e+pe("1e-"+((d+"").length-1))),t)}return fe(e,t)}const{withClientQuery:J}=T(),V=te("documents",{state:()=>({documents:[],folders:[],currentFolder:null,selectedDocument:null,isPreviewOpen:!1,recentDocuments:[].sort((e,t)=>t.updatedAt?.getTime()-e.updatedAt?.getTime()).slice(0,25)}),actions:{fetchDocuments(e,t=!1){J(le,{first:100,text:"",sortBy:["-created_at"],...e},"documentAll").then(n=>{this.documents=n?.items,t&&(this.recentDocuments=this.documents.slice(0,25))})},addDocument(e){this.documents.push(e),this.recentDocuments=[e,...this.recentDocuments].slice(0,5)},updateDocument(e){const t={...e,updatedAt:new Date};this.documents=this.documents.map(n=>n.uid===e.uid?t:n),this.recentDocuments=[t,...this.recentDocuments.filter(n=>n.uid!==e.uid)].slice(0,5)},deleteDocument(e){this.documents=this.documents.filter(t=>t.uid!==e),this.recentDocuments=this.recentDocuments.filter(t=>t.uid!==e)},duplicateDocument(e){const t=this.documents.find(l=>l.uid===e);if(!t)return;const n={...t,uid:be(1e3,9999).toString(),name:`${t.name} (Copy)`,createdAt:new Date,updatedAt:new Date};this.documents.push(n),this.recentDocuments=[n,...this.recentDocuments].slice(0,5)},setCurrentFolder(e){this.currentFolder=e,this.fetchDocuments({folderUid:e})},getFolders(){J(re,{},"documentFolderAll").then(e=>{this.folders=e?.items})},addFolder(e){this.folders.push(e)},deleteFolder(e){this.folders=this.folders.filter(t=>t.uid!==e),this.documents=this.documents.filter(t=>t.folderUid!==e)},updateFolder(e){this.folders=this.folders.map(t=>t.uid===e.uid?e:t)},setSelectedDocument(e){this.selectedDocument=e},togglePreview(e){this.isPreviewOpen=e},toggleFolderExpanded(e){this.folders=this.folders.map(t=>t.uid===e?{...t,expanded:!t.expanded}:t)}},getters:{getChildFolders:e=>t=>e.folders?.filter(n=>n.parentUid===t),getDocumentsInFolder:e=>t=>e.documents.filter(n=>n.folderUid===t)}});/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=({size:e,strokeWidth:t=2,absoluteStrokeWidth:n,color:l,iconNode:d,name:s,class:m,...a},{slots:h})=>B("svg",{...R,width:e||R.width,height:e||R.height,stroke:l||R.stroke,"stroke-width":n?Number(t)*24/Number(e):t,class:["lucide",`lucide-${ge(s??"icon")}`],...a},[...d.map(x=>B(...x)),...h.default?[h.default()]:[]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(e,t)=>(n,{slots:l})=>B(ye,{...n,iconNode:t,name:e},l);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=k("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=k("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=k("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=k("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=k("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=k("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=k("FolderPlusIcon",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=k("FolderIcon",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=k("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=k("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=k("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),je={key:1,class:"w-4"},Ae={class:"mr-2 text-muted-foreground"},Ie={class:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Me={class:"relative"},Oe={key:0,class:"absolute right-0 mt-1 w-48 rounded-md border bg-white p-1 text-popover-foreground shadow-md z-10"},Ne={key:0,class:"mt-1 ml-1 pl-1 border-l border-border"},Ve=A({__name:"FolderItem",props:{folder:{type:Object,required:!0},level:{type:Number,default:0}},emits:["add-subfolder"],setup(e,{emit:t}){const n=e,l=V(),d=D(!1),s=C(()=>l.getChildFolders(n.folder.uid)),m=C(()=>l.currentFolder===n.folder.uid),a=C(()=>!!n.folder.expanded);function h(){l.setCurrentFolder(n.folder.uid)}function x(){l.toggleFolderExpanded(n.folder.uid)}function _(){const r=s.value.length>0,p=l.documents.some(F=>F.folderUid===n.folder.uid);r||p?window.confirm("Delete this folder and all its contents?")&&l.deleteFolder(n.folder.uid):l.deleteFolder(n.folder.uid),d.value=!1}const b={mounted(r,p){r._clickOutside=F=>{r===F.target||r.contains(F.target)||p.value(F)},document.addEventListener("click",r._clickOutside)},unmounted(r){document.removeEventListener("click",r._clickOutside)}};return(r,p)=>{const F=oe("FolderItem",!0);return i(),u("div",null,[o("div",{class:L(["flex justify-start items-center p-2 rounded-md cursor-pointer group transition-colors duration-200",e.level>0&&"ml-6"]),onClick:h},[o("div",{class:"flex items-center mr-2",onClick:$(x,["stop"])},[s.value.length>0?(i(),y(G(s.value.length>0?a.value?c(Y):c(we):"div"),{key:0,class:"w-4 h-4 text-muted-foreground"})):(i(),u("div",je))]),o("div",Ae,[(i(),y(G(a.value?c(_e):c(H)),{class:L(["w-[18px] h-[18px]",m.value&&"text-sky-600"])},null,8,["class"]))]),o("div",{class:L(["flex-1 truncate",m.value&&"text-sky-600"])},j(e.folder.name),3),o("div",Ie,[o("button",{onClick:p[0]||(p[0]=$(M=>r.$emit("add-subfolder",e.folder.uid),["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[v(c(N),{class:"text-muted-foreground w-4 h-4"})]),o("div",Me,[o("button",{onClick:p[1]||(p[1]=$(M=>d.value=!d.value,["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[v(c(De),{class:"text-muted-foreground w-4 h-4"})]),d.value?E((i(),u("div",Oe,[o("button",{onClick:$(_,["stop"]),class:"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground text-destructive w-full text-left"},[v(c($e),{class:"mr-2 w-4 h-4"}),p[3]||(p[3]=o("span",null,"Delete Folder",-1))])])),[[b,()=>d.value=!1]]):O("",!0)])])],2),a.value&&s.value.length>0?(i(),u("div",Ne,[(i(!0),u(U,null,q(s.value,M=>(i(),y(F,{key:M.uid,folder:M,level:e.level+1,onAddSubfolder:p[2]||(p[2]=P=>r.$emit("add-subfolder",P))},null,8,["folder","level"]))),128))])):O("",!0)])}}}),Ee=I(Ve,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderItem.vue"]]),Se={class:"h-full overflow-hidden flex flex-col"},Ue={class:"px-4 py-3 flex items-center justify-between"},qe={class:"flex-1 overflow-auto"},Pe={class:"px-2 py-1"},Re={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},ze={class:"text-lg font-medium mb-4"},Le={class:"mb-4"},Be={class:"flex justify-end gap-2"},Te=A({__name:"FolderNavigation",setup(e){const{withClientMutation:t}=T(),n=V(),l=D(!1),d=D(""),s=D(null),m=C(()=>n.getChildFolders(null));function a(b){s.value=b,l.value=!0}function h(){l.value=!1,d.value=""}function x(){if(d.value.trim()){if(t(de,{payload:{name:d.value,parentUid:s.value}},"createDocumentFolder").then(b=>n.addFolder(b)),s.value){const b=n.folders.find(r=>r.uid===s.value);b&&!b.expanded&&n.toggleFolderExpanded(s.value)}d.value="",l.value=!1}}function _(b){return n.folders.find(r=>r.uid===b)}return(b,r)=>(i(),u("div",Se,[o("div",Ue,[r[3]||(r[3]=o("h2",{class:"font-semibold text-sm"},"Folders",-1)),o("button",{onClick:r[0]||(r[0]=p=>a(null)),class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none hover:bg-accent hover:text-accent-foreground h-8 w-8"},[v(c(N),{class:"w-4 h-4"})])]),o("div",qe,[o("div",Pe,[(i(!0),u(U,null,q(m.value,p=>(i(),y(Ee,{key:p.uid,folder:p,onAddSubfolder:a},null,8,["folder"]))),128))])]),(i(),y(K,{to:"body"},[l.value?(i(),u("div",Re,[o("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",onClick:r[2]||(r[2]=$(()=>{},["stop"]))},[o("h3",ze,j(s.value?`Add subfolder to ${_(s.value)?.name}`:"Add new folder"),1),o("div",Le,[r[4]||(r[4]=o("label",{for:"folderName",class:"block text-sm font-medium mb-1"},"Folder Name",-1)),E(o("input",{id:"folderName","onUpdate:modelValue":r[1]||(r[1]=p=>d.value=p),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",placeholder:"Enter folder name"},null,512),[[z,d.value]])]),o("div",Be,[o("button",{onClick:h,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),o("button",{onClick:x,class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(Fe),{class:"w-4 h-4 mr-2"}),r[5]||(r[5]=S(" Add Folder "))])])])])):O("",!0)]))]))}}),He=I(Te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderNavigation.vue"]]),Ze={class:"document-card animate-scale-in group"},Ge={class:"relative mb-4 rounded-lg overflow-hidden bg-gray-50 aspect-[3/4] flex items-center justify-center"},Qe={key:0,class:"w-full h-full"},Je=["src","alt"],Ke={class:"absolute inset-0 flex items-center justify-center gap-x-2 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},Xe={class:"h-12 w-12 rounded-full bg-white/90 flex items-center justify-center"},Ye={class:"flex flex-col"},We=["title"],et={class:"text-xs text-muted-foreground mt-1"},tt=A({__name:"DocumentCard",props:{document:{type:Object,required:!0}},setup(e){const t=e,n=ne();function l(){n.push({name:"document-editor",params:{documentVersionUid:t.document?.latestVersion?.uid}})}function d(s){return se(new Date(s),"MMM d, yyyy")}return(s,m)=>(i(),u("div",Ze,[o("div",Ge,[s.document?.latestVersion?.thumbnail?(i(),u("div",Qe,[o("img",{src:`data:image/png;base64,${s.document?.latestVersion?.thumbnail}`,alt:s.document.name,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,Je),m[0]||(m[0]=o("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))])):(i(),y(c(ke),{key:1,class:"text-gray-400 w-12 h-12"})),o("div",Ke,[o("button",{onClick:$(l,["stop"])},[o("div",Xe,[v(c(Ce),{class:"text-gray-900 w-5 h-5"})])])])]),o("div",Ye,[o("h3",{class:"font-medium text-sm truncate",title:s.document.name},j(s.document.name),9,We),o("p",et,j(d(s.document.updatedAt)),1)])]))}}),W=I(tt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/DocumentCard.vue"]]),ot={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},nt={class:"space-y-4"},st={class:"relative"},it={key:0,class:"absolute top-full left-0 z-10 mt-1 w-full rounded-md border bg-white shadow-md"},lt={class:"max-h-[200px] overflow-auto p-1"},rt=["onClick"],dt={key:1,class:"mr-2 w-4"},ut={class:"flex justify-end gap-2 mt-6"},at=["disabled"],ct=A({__name:"CreateDocumentDialog",props:{isOpen:{type:Boolean,required:!0},initialFolderId:{type:[String,null],required:!1}},emits:["update:isOpen"],setup(e,{emit:t}){const{withClientMutation:n}=T(),l=e,d=t,s=V(),m=D(""),a=D(""),h=D(""),x=D(!1),_=D("");ie(()=>l.initialFolderId,g=>{g&&(a.value=g)},{immediate:!0});const b=C(()=>{if(!_.value)return s.folders;const g=_.value.toLowerCase();return s.folders.filter(f=>f.name.toLowerCase().includes(g))}),r=C(()=>{const g=s.folders.find(f=>f.uid===a.value);return g?g.name:"Select folder"}),p=C(()=>m.value.trim()!==""&&a.value!=="");function F(g){a.value=g,x.value=!1}function M(){p.value&&(n(ue,{payload:{name:m.value,folderUid:a.value,documentId:h.value}},"createDocument").then(g=>{s.addDocument(g)}),Z(),P())}function P(){Z(),d("update:isOpen",!1)}function Z(){m.value="",x.value=!1,_.value=""}return(g,f)=>(i(),y(K,{to:"body"},[g.isOpen?(i(),u("div",ot,[o("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",onClick:f[4]||(f[4]=$(()=>{},["stop"]))},[f[8]||(f[8]=o("h3",{class:"text-lg font-medium mb-4"},"Create new document",-1)),o("div",nt,[o("div",null,[f[5]||(f[5]=o("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document Name",-1)),E(o("input",{id:"name","onUpdate:modelValue":f[0]||(f[0]=w=>m.value=w),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document name"},null,512),[[z,m.value]])]),o("div",null,[f[6]||(f[6]=o("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document ID",-1)),E(o("input",{id:"docu","onUpdate:modelValue":f[1]||(f[1]=w=>h.value=w),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document id"},null,512),[[z,h.value]])]),o("div",null,[f[7]||(f[7]=o("label",{for:"folder",class:"block text-sm font-medium mb-1"},"Folder X",-1)),o("div",st,[o("button",{id:"folder",type:"button",onClick:f[2]||(f[2]=w=>x.value=!x.value),class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[S(j(r.value)+" ",1),v(c(Y),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),x.value?(i(),u("div",it,[o("div",lt,[E(o("input",{"onUpdate:modelValue":f[3]||(f[3]=w=>_.value=w),class:"flex h-8 w-full rounded-sm border-0 bg-white px-3 py-1 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring mb-1",placeholder:"Search folders..."},null,512),[[z,_.value]]),(i(!0),u(U,null,q(b.value,w=>(i(),u("button",{key:w.uid,onClick:Vt=>F(w.uid),class:"flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent text-left"},[w.uid===a.value?(i(),y(c(xe),{key:0,class:"mr-2 h-4 w-4"})):(i(),u("span",dt)),S(" "+j(w.name),1)],8,rt))),128))])])):O("",!0)])])]),o("div",ut,[o("button",{onClick:P,class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),o("button",{onClick:M,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",disabled:!p.value}," Create ",8,at)])])])):O("",!0)]))}}),ee=I(ct,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/CreateDocumentDialog.vue"]]),mt={class:"animate-fade-in"},ft={class:"flex items-center justify-between mb-6"},pt={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},vt={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},ht={class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4"},bt=A({__name:"RecentDocuments",setup(e){const t=V(),n=D(!1);function l(){n.value=!0}return X(()=>t.fetchDocuments({first:25,sortBy:["-updated_at"]},!0)),(d,s)=>(i(),u("div",mt,[o("div",ft,[s[2]||(s[2]=o("h1",{class:"text-2xl font-medium"},"Recent Documents",-1)),o("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(N),{class:"w-4 h-4"}),s[1]||(s[1]=S(" New Document "))])]),c(t).recentDocuments.length>0?(i(),u("div",pt,[(i(!0),u(U,null,q(c(t).recentDocuments,m=>(i(),y(W,{key:m.id,document:m},null,8,["document"]))),128))])):(i(),u("div",vt,[o("div",ht,[v(c(N),{class:"text-muted-foreground w-8 h-8"})]),s[3]||(s[3]=o("h3",{class:"text-lg font-medium mb-2"},"No recent documents",-1)),s[4]||(s[4]=o("p",{class:"text-muted-foreground max-w-md mb-6"}," Start creating documents to see them appear here. ",-1)),o("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),v(ee,{isOpen:n.value,"onUpdate:isOpen":s[0]||(s[0]=m=>n.value=m)},null,8,["isOpen"])]))}}),gt=I(bt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/RecentDocuments.vue"]]),yt={class:"animate-fade-in"},xt={key:0,class:"flex items-center justify-between mb-6"},wt={class:"flex items-center"},Dt={class:"text-2xl font-medium"},kt={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},_t={key:2,class:"flex flex-col items-center justify-center py-12 text-center"},Ft=A({__name:"FolderDocuments",setup(e){const t=V(),n=D(!1),l=C(()=>t.currentFolder?t.getDocumentsInFolder(t.currentFolder):[]),d=C(()=>t.folders.find(m=>m.uid===t.currentFolder));function s(){n.value=!0}return(m,a)=>(i(),u("div",yt,[d.value?(i(),u("div",xt,[o("div",wt,[v(c(H),{class:"mr-2 text-muted-foreground w-5 h-5"}),o("h1",Dt,j(d.value.name),1)]),o("button",{onClick:s,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(N),{class:"w-4 h-4"}),a[1]||(a[1]=S(" New Document "))])])):O("",!0),l.value.length>0?(i(),u("div",kt,[(i(!0),u(U,null,q(l.value,h=>(i(),y(W,{key:h.id,document:h},null,8,["document"]))),128))])):(i(),u("div",_t,[o("div",{class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4",onClick:s},[v(c(N),{class:"text-muted-foreground w-8 h-8"})]),a[2]||(a[2]=o("h3",{class:"text-lg font-medium mb-2"},"No documents in this folder",-1)),a[3]||(a[3]=o("p",{class:"text-muted-foreground max-w-md mb-6"}," Create a new document in this folder. ",-1)),o("button",{onClick:s,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),v(ee,{isOpen:n.value,"onUpdate:isOpen":a[0]||(a[0]=h=>n.value=h),initialFolderId:c(t).currentFolder},null,8,["isOpen","initialFolderId"])]))}}),Ct=I(Ft,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderDocuments.vue"]]),$t={class:"flex h-screen overflow-hidden bg-background"},jt={class:"fixed inset-y-0 left-0 z-20 w-64 transform bg-doc-folder border-r border-border transition-transform duration-300 ease-in-out -translate-x-full lg:relative lg:translate-x-0"},At={class:"flex-1 overflow-hidden"},It={class:"lg:hidden p-4 flex items-center"},Mt={class:"mr-4 border border-border rounded-md p-2"},Ot={class:"h-full overflow-auto p-6"},Nt=A({__name:"DocumentEntry",setup(e){const t=V();return X(()=>{t.getFolders()}),(n,l)=>(i(),u("div",$t,[o("div",jt,[v(He)]),o("div",At,[o("div",It,[o("button",Mt,[v(c(H),{class:"h-5 w-5"})]),l[0]||(l[0]=o("h1",{class:"text-xl font-medium"},"Document Manager",-1))]),o("div",Ot,[c(t).currentFolder?(i(),y(Ct,{key:1})):(i(),y(gt,{key:0}))])])]))}}),Pt=I(Nt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/document/DocumentEntry.vue"]]);export{Pt as default};
