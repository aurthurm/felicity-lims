import{Y as E,u as D,ag as k,ah as M,a0 as m,_ as U,r as x,c as v,o as u,z as t,A as T,C as A,a as f,I as s,D as I,E as B,K as S,F as N}from"./index-OdhKCqIc.js";import{A as P,E as V}from"./clients.mutations-B0cLk_GK.js";import{u as j}from"./location-zigt6URg.js";import{u as L}from"./client-BNZY_Y1e.js";import{S as R}from"./Spinner-Bl8RfjFA.js";import{C as z}from"./ClientForm-Du5SJdtG.js";import{s as q}from"./index-DJJ2wcNX.js";import"./index.esm-BfHj8iGm.js";import"./FormMessage-CgXFMXx9.js";import"./FormLabel-DxP9wnWS.js";import"./Label-CS46LzLb.js";import"./Input-BEm5S0CJ.js";import"./SelectValue-Ds0cfAgl.js";import"./useNonce-B4v0IDPb.js";import"./chevron-down-Dqf-ptA3.js";import"./useFocusGuards-Bjb6OG0k.js";import"./PopperContent-BfyCnGUj.js";const K=E({name:"ClientView",__name:"Client",setup(w,{expose:o}){o();const _=j(),{withClientMutation:e}=D(),p=k(),l=L();M(()=>{l.fetchClientByUid(p.query.clientUid),_.fetchCountries()});const i=m(!1),r=m(!1),c=m(""),d=m({});function b(n,a={}){r.value=n,c.value=`${n?"CREATE":"EDIT"} CLIENT`,i.value=!0,d.value=n?{}:a}function g(n){e(P,{payload:{name:n.name,code:n.code,districtUid:n.districtUid}},"createClient").then(a=>l.addClient(a))}function C(n){e(V,{uid:d.value?.uid,payload:{name:n.name,code:n.code,districtUid:n.districtUid}},"updateClient").then(a=>l.updateClient(a))}function F(n){r.value?g(n):C(n),i.value=!1,d.value={}}function y(){i.value=!1}const h={locationStore:_,withClientMutation:e,route:p,clientStore:l,showClientModal:i,createItem:r,formTitle:c,form:d,FormManager:b,addClient:g,editClient:C,onFormSubmit:F,onFormClose:y,get Spinner(){return R},ClientForm:z,get shield(){return q}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),O={class:"grid grid-cols-12 gap-4 mt-2 mb-4"},Y={class:"col-span-12"},G={class:"bg-background rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},H={key:0,class:"py-4 text-center"},J={class:"inline-flex items-center gap-2"},Q={key:1,class:"grid grid-cols-12 gap-3"},W={class:"col-span-12 px-3 sm:px-0"},X={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-foreground font-bold"},Z={class:"grid grid-cols-2 mt-2"},$={class:"col-span-1"},tt={class:"flex"},et={class:"text-foreground text-sm md:text-md"},ot={class:"flex"},nt={class:"text-foreground text-sm md:text-md"},st={class:"flex"},it={class:"text-foreground text-sm md:text-md"},lt={class:"col-span-1"},rt={class:"flex"},dt={class:"text-foreground text-sm md:text-md"},at={class:"flex"},ct={class:"text-foreground text-sm md:text-md"};function mt(w,o,_,e,p,l){const i=x("font-awesome-icon"),r=x("router-view"),c=x("Modal");return u(),v(N,null,[t("div",null,[t("div",O,[t("section",Y,[t("div",G,[e.clientStore.fetchingClient?(u(),v("div",H,[t("span",J,[f(e.Spinner,{class:"size-4"}),o[1]||(o[1]=t("span",{class:"text-sm"},"Fetching client metadata ...",-1))])])):(u(),v("div",Q,[t("div",W,[t("div",X,[t("span",null,s(e.clientStore.client?.name),1),t("div",null,[I(t("button",{onClick:o[0]||(o[0]=d=>e.FormManager(!1,e.clientStore.client)),class:"p-1 ml-2 rounded-sm text-muted-foreground text-md transition duration-300 hover:text-primary focus:outline-none"},[f(i,{icon:"fa-edit"})],512),[[B,e.shield.hasRights(e.shield.actions.UPDATE,e.shield.objects.CLIENT)]])])]),o[7]||(o[7]=t("hr",null,null,-1)),t("div",Z,[t("div",$,[t("div",tt,[o[2]||(o[2]=t("span",{class:"text-foreground text-sm font-medium w-16"},"Province:",-1)),t("span",et,s(e.clientStore.client?.district?.province?.name),1)]),t("div",ot,[o[3]||(o[3]=t("span",{class:"text-foreground text-sm font-medium w-16"},"District:",-1)),t("span",nt,s(e.clientStore.client?.district?.name),1)]),t("div",st,[o[4]||(o[4]=t("span",{class:"text-foreground text-sm font-medium w-16"},"Code:",-1)),t("span",it,s(e.clientStore.client?.code),1)])]),t("div",lt,[t("div",rt,[o[5]||(o[5]=t("span",{class:"text-foreground text-sm font-medium w-16"},"Email:",-1)),t("span",dt,s(e.clientStore.client?.email),1)]),t("div",at,[o[6]||(o[6]=t("span",{class:"text-foreground text-sm font-medium w-16"},"Mobile:",-1)),t("span",ct,s(e.clientStore.client?.mobilePhone),1)])])])])]))])])]),f(r)]),e.showClientModal?(u(),T(c,{key:0,onClose:e.onFormClose},{header:S(()=>[t("h3",null,s(e.formTitle),1)]),body:S(()=>[f(e.ClientForm,{client:e.form,create:e.createItem,onSubmit:e.onFormSubmit,onClose:e.onFormClose},null,8,["client","create"])]),_:1})):A("",!0)],64)}const Mt=U(K,[["render",mt],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/client/_id/Client.vue"]]);export{Mt as default};
