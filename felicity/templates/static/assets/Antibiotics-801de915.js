import{P as J,e as X,Z as r,f as O,h as z,a3 as b,aa as K,o as B,c as $,b as e,a as U,K as g,a2 as o,x as q,E as Q,A as n,V as i,W as L,z as Y,a7 as Z,J as _,F as ll,X as v,Y as x,af as V,_ as el}from"./index-03a7f0eb.js";import{i as sl,j as tl,g as ol,k as al,l as nl,E as il}from"./microbiology.mutations-c3b684a3.js";const dl={class:"w-full my-4"},ul={action:"post",class:"p-4"},rl={class:"mb-6"},cl={class:"grid grid-cols-2 gap-4"},ml={class:"block"},bl={class:"block"},pl={class:"mb-6"},fl={class:"grid grid-cols-3 gap-4"},Cl={class:"block"},yl={class:"block"},gl={class:"block"},vl={class:"block"},xl={class:"block"},Al={class:"block"},kl={class:"mb-6"},wl={class:"grid grid-cols-2 gap-4"},Il={class:"block"},Nl={class:"block"},Ol={class:"block"},Bl={class:"block"},Ul={class:"mb-6"},Ll={class:"grid grid-cols-2 gap-4"},Vl={class:"block"},hl={class:"block"},Tl={class:"block"},El={class:"mb-6"},Dl={class:"grid grid-cols-2 gap-4"},Sl={class:"flex items-center"},Gl={class:"flex items-center"},Ml={class:"block col-span-2"},Pl={class:"mb-6"},Fl={class:"grid grid-cols-2 gap-4"},Hl={class:"block"},Wl={class:"block"},jl={class:"block"},Rl={class:"block"},Jl={class:"block"},Xl={class:"block"},zl={class:"block"},Kl={class:"block"},$l={class:"block"},ql={class:"mb-6"},Ql={class:"block"},Yl=J({__name:"Antibiotics",setup(Zl){const h=v(()=>x(()=>import("./index-03a7f0eb.js").then(a=>a.cN),["assets/index-03a7f0eb.js","assets/index-81d3252e.css"])),T=v(()=>x(()=>import("./FelDataTable-16a5936f.js"),["assets/FelDataTable-16a5936f.js","assets/index-03a7f0eb.js","assets/index-81d3252e.css"])),E=v(()=>x(()=>import("./vue-multiselect.esm-e5326598.js"),["assets/vue-multiselect.esm-e5326598.js","assets/index-03a7f0eb.js","assets/index-81d3252e.css"])),{withClientMutation:p,withClientQuery:f}=X();let c=r(!1),D=r(""),s=O({});const A=r(!0),k=r(!1),u=r([]),C=r([]),w=r([]);let d=O({first:50,after:"",text:"",sortBy:["-name"],filterAction:!1});const I=r(0);let N=r({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const S=z(()=>u?.value?.length+" of "+I.value+" antibiotics");function G(a){const l={CLSI:"#E3F2FD",EUCAST:"#F1F8E9",WHO:"#FFF3E0",default:"#F5F5F5"};return l[a]||l.default}function M(a){const l={CLSI:"#1565C0",EUCAST:"#2E7D32",WHO:"#E65100",default:"#616161"};return l[a]||l.default}const P=r([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Guidelines",value:"guidelines",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(a,l){return b("div",{class:"flex flex-wrap gap-2"},[a.guidelines?.map(t=>b("span",{class:"px-2 py-1 text-sm rounded-md font-medium",style:{backgroundColor:G(t.name),color:M(t.name)}},t.name))])}},{name:"WHONET Code",value:"whonetAbxCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"WHO Code",value:"whoCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"DIN Code",value:"dinCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"JAC Code",value:"jacCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"EUCAST Code",value:"eucastCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"User Code",value:"userCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"ABX Number",value:"abxNumber",sortable:!1,sortBy:"asc",hidden:!1},{name:"Potency",value:"potency",sortable:!1,sortBy:"asc",hidden:!1},{name:"ATC Code",value:"atcCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"Class",value:"class",sortable:!1,sortBy:"asc",hidden:!1},{name:"Subclass",value:"subclass",sortable:!1,sortBy:"asc",hidden:!0},{name:"Professional Class",value:"profClass",sortable:!1,sortBy:"asc",hidden:!0},{name:"CIA Category",value:"ciaCategory",sortable:!1,sortBy:"asc",hidden:!1},{name:"CLSI Order",value:"clsiOrder",sortable:!1,sortBy:"asc",hidden:!1},{name:"EUCAST Order",value:"eucastOrder",sortable:!1,sortBy:"asc",hidden:!1},{name:"Human Use",value:"human",sortable:!1,sortBy:"asc",hidden:!1},{name:"Veterinary Use",value:"veterinary",sortable:!1,sortBy:"asc",hidden:!1},{name:"Animal Group",value:"animalGp",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC Comp",value:"loinccomp",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC Gen",value:"loincgen",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC Disk",value:"loincdisk",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC MIC",value:"loincmic",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC E-Test",value:"loincetest",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC Slow",value:"loincslow",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC AFB",value:"loincafb",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC SBT",value:"loincsbt",sortable:!1,sortBy:"asc",hidden:!0},{name:"LOINC MLC",value:"loincmlc",sortable:!1,sortBy:"asc",hidden:!0},{name:"Comments",value:"comments",sortable:!1,sortBy:"asc",hidden:!0},{name:"",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(a,l){return C.value.find(t=>t.uid==a.uid)?b("button",{type:"button",class:"bg-red-800 text-white py-1 px-2 rounded-sm leading-none",innerHTML:"in use",disabled:!0},[]):b("button",{type:"button",class:"bg-sky-800 text-white py-1 px-2 rounded-sm leading-none",innerHTML:"use",onClick:()=>F(a)},[])}}]);function F(a){p(sl,{uid:a.uid},"useAbxAntibiotic").then(l=>{l&&C.value.push(l)})}function y(a){f(al,{text:a.text,pageSize:a.first,sortBy:a.sortBy},void 0).then(l=>{const t=l.abxAntibioticAll,m=t.items;a.filterAction?(u.value=[],u.value=m):u.value=V(u.value,m,"uid"),I.value=t?.totalCount,N.value=t?.pageInfo}).finally(()=>{k.value=!1})}K(()=>{f(tl,{},"abxGuidelinesAll").then(a=>{a&&(w.value=a)}),y(d),f(ol,{},"abxLaboratoryAntibiotics").then(a=>{a&&(C.value=a)})});function H(a){d.first=100,d.after="",d.text=a.filterText,d.filterAction=!0,y(d)}function W(a){d.first=a.fetchCount,d.after=N?.value?.endCursor,d.text=a.filterText,d.filterAction=!1,y(d)}const j=()=>Object.assign(s,{});function R(){const a={name:s?.name,guidelines:s.guidelines?.map(l=>l.uid),whonetAbxCode:s?.whonetAbxCode,whoCode:s?.whoCode,dinCode:s?.dinCode,jacCode:s?.jacCode,eucastCode:s?.eucastCode,userCode:s?.userCode,abxNumber:s?.abxNumber,potency:s?.potency,atcCode:s?.atcCode,class:s?.class,subclass:s?.subclass,profClass:s?.profClass,ciaCategory:s?.ciaCategory,clsiOrder:s?.clsiOrder,eucastOrder:s?.eucastOrder,human:s?.human,veterinary:s?.veterinary,animalGp:s?.animalGp,loinccomp:s?.loinccomp,loincgen:s?.loincgen,loincdisk:s?.loincdisk,loincmic:s?.loincmic,loincetest:s?.loincetest,loincslow:s?.loincslow,loincafb:s?.loincafb,loincsbt:s?.loincsbt,loincmlc:s?.loincmlc,comments:s?.comments};A.value===!0&&p(nl,{payload:a},"createAbxAntibiotic").then(l=>{l&&(u.value=V(u.value,[l],"uid"))}),A.value===!1&&p(il,{uid:s.uid,payload:a},"updateAbxAntibiotic").then(l=>{if(l){const t=u.value.findIndex(m=>m.uid==l.uid);u.value[t]=l}}),c.value=!1}return(a,l)=>(B(),$(ll,null,[e("div",dl,[l[31]||(l[31]=e("hr",null,null,-1)),U(o(T),{columns:P.value,data:u.value,toggleColumns:!0,loading:k.value,paginable:!0,pageMeta:{fetchCount:o(d).first,hasNextPage:!0,countNone:S.value},searchable:!0,filterable:!1,onOnSearchKeyUp:H,onOnSearchFocus:j,onOnPaginate:W,selectable:!1},{footer:g(()=>l[30]||(l[30]=[])),_:1},8,["columns","data","loading","pageMeta"])]),o(c)?(B(),q(o(h),{key:0,onClose:l[29]||(l[29]=t=>Z(c)?c.value=!1:c=!1),"content-width":"w-1/2"},{header:g(()=>[e("h3",null,Q(o(D)),1)]),body:g(()=>[e("form",ul,[e("div",rl,[l[34]||(l[34]=e("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),e("div",cl,[e("label",ml,[l[32]||(l[32]=e("span",{class:"text-gray-700"},"Antibiotic Name",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[0]||(l[0]=t=>o(s).name=t),placeholder:"Enter antibiotic name"},null,512),[[i,o(s).name]])]),e("label",bl,[l[33]||(l[33]=e("span",{class:"text-gray-700"},"Guidelines",-1)),U(o(E),{modelValue:o(s).guidelines,"onUpdate:modelValue":l[1]||(l[1]=t=>o(s).guidelines=t),options:w.value,multiple:!0,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),l[67]||(l[67]=e("div",{class:"mb-6"},null,-1)),e("div",pl,[l[41]||(l[41]=e("h4",{class:"text-lg font-semibold mb-4"},"Coding Systems",-1)),e("div",fl,[e("label",Cl,[l[35]||(l[35]=e("span",{class:"text-gray-700"},"WHONET Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[2]||(l[2]=t=>o(s).whonetAbxCode=t),placeholder:"WHONET code"},null,512),[[i,o(s).whonetAbxCode]])]),e("label",yl,[l[36]||(l[36]=e("span",{class:"text-gray-700"},"WHO Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[3]||(l[3]=t=>o(s).whoCode=t),placeholder:"WHO code"},null,512),[[i,o(s).whoCode]])]),e("label",gl,[l[37]||(l[37]=e("span",{class:"text-gray-700"},"DIN Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[4]||(l[4]=t=>o(s).dinCode=t),placeholder:"DIN code"},null,512),[[i,o(s).dinCode]])]),e("label",vl,[l[38]||(l[38]=e("span",{class:"text-gray-700"},"JAC Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[5]||(l[5]=t=>o(s).jacCode=t),placeholder:"JAC code"},null,512),[[i,o(s).jacCode]])]),e("label",xl,[l[39]||(l[39]=e("span",{class:"text-gray-700"},"EUCAST Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[6]||(l[6]=t=>o(s).eucastCode=t),placeholder:"EUCAST code"},null,512),[[i,o(s).eucastCode]])]),e("label",Al,[l[40]||(l[40]=e("span",{class:"text-gray-700"},"User Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[7]||(l[7]=t=>o(s).userCode=t),placeholder:"User code"},null,512),[[i,o(s).userCode]])])])]),e("div",kl,[l[46]||(l[46]=e("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),e("div",wl,[e("label",Il,[l[42]||(l[42]=e("span",{class:"text-gray-700"},"Class",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[8]||(l[8]=t=>o(s).class=t),placeholder:"Antibiotic class"},null,512),[[i,o(s).class]])]),e("label",Nl,[l[43]||(l[43]=e("span",{class:"text-gray-700"},"Subclass",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[9]||(l[9]=t=>o(s).subclass=t),placeholder:"Antibiotic subclass"},null,512),[[i,o(s).subclass]])]),e("label",Ol,[l[44]||(l[44]=e("span",{class:"text-gray-700"},"Professional Class",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[10]||(l[10]=t=>o(s).profClass=t),placeholder:"Professional class"},null,512),[[i,o(s).profClass]])]),e("label",Bl,[l[45]||(l[45]=e("span",{class:"text-gray-700"},"CIA Category",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[11]||(l[11]=t=>o(s).ciaCategory=t),placeholder:"CIA category"},null,512),[[i,o(s).ciaCategory]])])])]),e("div",Ul,[l[50]||(l[50]=e("h4",{class:"text-lg font-semibold mb-4"},"Technical Details",-1)),e("div",Ll,[e("label",Vl,[l[47]||(l[47]=e("span",{class:"text-gray-700"},"ABX Number",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[12]||(l[12]=t=>o(s).abxNumber=t),placeholder:"ABX number"},null,512),[[i,o(s).abxNumber]])]),e("label",hl,[l[48]||(l[48]=e("span",{class:"text-gray-700"},"Potency",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[13]||(l[13]=t=>o(s).potency=t),placeholder:"Potency"},null,512),[[i,o(s).potency]])]),e("label",Tl,[l[49]||(l[49]=e("span",{class:"text-gray-700"},"ATC Code",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[14]||(l[14]=t=>o(s).atcCode=t),placeholder:"ATC code"},null,512),[[i,o(s).atcCode]])])])]),e("div",El,[l[54]||(l[54]=e("h4",{class:"text-lg font-semibold mb-4"},"Usage",-1)),e("div",Dl,[e("div",Sl,[n(e("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":l[15]||(l[15]=t=>o(s).human=t)},null,512),[[L,o(s).human]]),l[51]||(l[51]=e("span",{class:"ml-2 text-gray-700"},"Human Use",-1))]),e("div",Gl,[n(e("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":l[16]||(l[16]=t=>o(s).veterinary=t)},null,512),[[L,o(s).veterinary]]),l[52]||(l[52]=e("span",{class:"ml-2 text-gray-700"},"Veterinary Use",-1))]),e("label",Ml,[l[53]||(l[53]=e("span",{class:"text-gray-700"},"Animal Group",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[17]||(l[17]=t=>o(s).animalGp=t),placeholder:"Animal group"},null,512),[[i,o(s).animalGp]])])])]),e("div",Pl,[l[64]||(l[64]=e("h4",{class:"text-lg font-semibold mb-4"},"LOINC Codes",-1)),e("div",Fl,[e("label",Hl,[l[55]||(l[55]=e("span",{class:"text-gray-700"},"LOINC Comp",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[18]||(l[18]=t=>o(s).loinccomp=t),placeholder:"LOINC comp"},null,512),[[i,o(s).loinccomp]])]),e("label",Wl,[l[56]||(l[56]=e("span",{class:"text-gray-700"},"LOINC Gen",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[19]||(l[19]=t=>o(s).loincgen=t),placeholder:"LOINC gen"},null,512),[[i,o(s).loincgen]])]),e("label",jl,[l[57]||(l[57]=e("span",{class:"text-gray-700"},"LOINC Disk",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[20]||(l[20]=t=>o(s).loincdisk=t),placeholder:"LOINC disk"},null,512),[[i,o(s).loincdisk]])]),e("label",Rl,[l[58]||(l[58]=e("span",{class:"text-gray-700"},"LOINC MIC",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[21]||(l[21]=t=>o(s).loincmic=t),placeholder:"LOINC MIC"},null,512),[[i,o(s).loincmic]])]),e("label",Jl,[l[59]||(l[59]=e("span",{class:"text-gray-700"},"LOINC E-Test",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[22]||(l[22]=t=>o(s).loincetest=t),placeholder:"LOINC E-test"},null,512),[[i,o(s).loincetest]])]),e("label",Xl,[l[60]||(l[60]=e("span",{class:"text-gray-700"},"LOINC Slow",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[23]||(l[23]=t=>o(s).loincslow=t),placeholder:"LOINC slow"},null,512),[[i,o(s).loincslow]])]),e("label",zl,[l[61]||(l[61]=e("span",{class:"text-gray-700"},"LOINC AFB",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[24]||(l[24]=t=>o(s).loincafb=t),placeholder:"LOINC AFB"},null,512),[[i,o(s).loincafb]])]),e("label",Kl,[l[62]||(l[62]=e("span",{class:"text-gray-700"},"LOINC SBT",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[25]||(l[25]=t=>o(s).loincsbt=t),placeholder:"LOINC SBT"},null,512),[[i,o(s).loincsbt]])]),e("label",$l,[l[63]||(l[63]=e("span",{class:"text-gray-700"},"LOINC MLC",-1)),n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[26]||(l[26]=t=>o(s).loincmlc=t),placeholder:"LOINC MLC"},null,512),[[i,o(s).loincmlc]])])])]),e("div",ql,[l[66]||(l[66]=e("h4",{class:"text-lg font-semibold mb-4"},"Additional Information",-1)),e("label",Ql,[l[65]||(l[65]=e("span",{class:"text-gray-700"},"Comments",-1)),n(e("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":l[27]||(l[27]=t=>o(s).comments=t),rows:"3",placeholder:"Additional comments..."},null,512),[[i,o(s).comments]])])]),l[68]||(l[68]=e("hr",{class:"my-6"},null,-1)),e("button",{type:"button",onClick:l[28]||(l[28]=Y(t=>R(),["prevent"])),class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Antibiotic ")])]),_:1})):_("",!0)],64))}});const ee=el(Yl,[["__scopeId","data-v-1fcbdb88"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/antibiotics/Antibiotics.vue"]]);export{ee as default};
