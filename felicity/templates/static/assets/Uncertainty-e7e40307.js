import{_ as F,A as Y,t as L,bl as j,bm as B,w as O}from"./shipment-53265c2d.js";import{f as $,G as q,T as P,r as _,c as G,w as W,d as A,h as a,k as r,x as t,F as p,ak as h,D as i,u as n,y as I,j as z,A as M,ag as u,i as H,_ as J}from"./_plugin-vue_export-helper-dacf3d65.js";import{d as S,v as x,a as K}from"./runtime-dom.esm-bundler-98433118.js";const Q=t("hr",null,null,-1),X={class:"overflow-x-auto mt-4"},Z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},tt={class:"min-w-full"},et=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Intrument"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Method"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Min"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Max"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Variance (+/-)"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),st={class:"bg-white"},nt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ot={class:"flex items-center"},lt={class:"text-sm leading-5 text-gray-800"},at={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},it={class:"text-sm leading-5 text-sky-800"},rt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},dt={class:"text-sm leading-5 text-sky-800"},ut={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ct={class:"text-sm leading-5 text-sky-800"},pt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},mt={class:"text-sm leading-5 text-sky-800"},yt={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},bt=["onClick"],_t={action:"post",class:"p-1"},ht={class:"grid grid-cols-5 gap-x-4 mb-4"},xt={class:"block col-span-1 mb-2"},ft=t("span",{class:"text-gray-700 w-4/12"},"Instrument",-1),gt={class:"w-full"},vt=t("option",null,null,-1),wt=["value"],kt={class:"block col-span-1 mb-2"},Ut=t("span",{class:"text-gray-700 w-4/12"},"Method",-1),At={class:"w-full"},It=t("option",null,null,-1),Mt=["value"],St={class:"block col-span-1 mb-2"},Ct=t("span",{class:"text-gray-700"},"Min",-1),Nt={class:"block col-span-1 mb-2"},Tt=t("span",{class:"text-gray-700"},"Max",-1),Vt={class:"block col-span-1 mb-2"},Et=t("span",{class:"text-gray-700"},"Variance +/-",-1),Dt=t("hr",null,null,-1),Rt=$({__name:"Uncertainty",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(C){const f=C,N=q(()=>F(()=>import("./SimpleModal-9e28c074.js"),["assets/SimpleModal-9e28c074.js","assets/_plugin-vue_export-helper-dacf3d65.js","assets/runtime-dom.esm-bundler-98433118.js","assets/SimpleModal-f645a074.css"])),g=Y(),c=L(),{withClientMutation:v}=O(),{analysis:w}=P(f);let d=_(!1),k=_(""),o=G({});const m=_(!0);W(()=>f.analysisUid,(l,s)=>{}),c.fetchInstruments();const y=A(()=>c.getInstruments);c.fetchMethods();const b=A(()=>c.getMethods);function T(){const l={...o,analysisUid:w?.value?.uid};v(j,{payload:l},"createAnalysisUncertainty").then(s=>g.addAnalysisUncertainty(s))}function V(){const l={...o};delete l.uid,delete l.__typename,v(B,{uid:o.uid,payload:l},"updateAnalysisUncertainty").then(s=>g.updateAnalysisUncertainty(s))}function U(l,s={}){m.value=l,d.value=!0,k.value=(l?"CREATE":"EDIT")+" ANALYSIS UNCERTAINTY",l?Object.assign(o,{min:null,max:null,value:null,instrumentUid:null,methodUid:null}):Object.assign(o,{...s})}function E(){m.value===!0&&T(),m.value===!1&&V(),d.value=!1}const D=l=>{const s=y?.value?.findIndex(e=>e.uid===l);return y?.value[s]?.name||"unknown"},R=l=>{const s=b?.value?.findIndex(e=>e.uid===l);return b?.value[s]?.name||"unknown"};return(l,s)=>(a(),r(p,null,[t("button",{class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:s[0]||(s[0]=e=>U(!0))},"Add Uncertainty"),Q,t("div",X,[t("div",Z,[t("table",tt,[et,t("tbody",st,[(a(!0),r(p,null,h(n(w)?.uncertainties,e=>(a(),r("tr",{key:e?.uid},[t("td",nt,[t("div",ot,[t("div",null,[t("div",lt,i(D(e?.instrumentUid)),1)])])]),t("td",at,[t("div",it,i(R(e?.instrumentUid)),1)]),t("td",rt,[t("div",dt,i(e.min),1)]),t("td",ut,[t("div",ct,i(e.max),1)]),t("td",pt,[t("div",mt,i(e.value),1)]),t("td",yt,[t("button",{onClick:Ft=>U(!1,e),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,bt)])]))),128))])])])]),I(" Uncertainty Form Modal "),n(d)?(a(),z(n(N),{key:0,onClose:s[7]||(s[7]=e=>H(d)?d.value=!1:d=!1),contentWidth:"w-2/4"},{header:M(()=>[t("h3",null,i(n(k)),1)]),body:M(()=>[t("form",_t,[t("div",ht,[t("label",xt,[ft,t("div",gt,[u(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":s[1]||(s[1]=e=>n(o).instrumentUid=e)},[vt,(a(!0),r(p,null,h(n(y),e=>(a(),r("option",{key:e?.uid,value:e.uid},i(e?.name),9,wt))),128))],512),[[S,n(o).instrumentUid]])])]),t("label",kt,[Ut,t("div",At,[u(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":s[2]||(s[2]=e=>n(o).methodUid=e)},[It,(a(!0),r(p,null,h(n(b),e=>(a(),r("option",{key:e?.uid,value:e.uid},i(e?.name),9,Mt))),128))],512),[[S,n(o).methodUid]])])]),t("label",St,[Ct,u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[3]||(s[3]=e=>n(o).min=e),placeholder:"Value ..."},null,512),[[x,n(o).min]])]),t("label",Nt,[Tt,u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[4]||(s[4]=e=>n(o).max=e),placeholder:"Value ..."},null,512),[[x,n(o).max]])]),t("label",Vt,[Et,u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[5]||(s[5]=e=>n(o).value=e),placeholder:"Value ..."},null,512),[[x,n(o).value]])])]),Dt,t("button",{type:"button",onClick:s[6]||(s[6]=K(e=>E(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):I("v-if",!0)],64))}}),Bt=J(Rt,[["__file","/home/aurthurm/Development/felicity-lims/webapp/views/admin/analyses/services/Uncertainty.vue"]]);export{Bt as default};
