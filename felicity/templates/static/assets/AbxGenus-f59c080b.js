import{P as V,e as D,Z as r,f as N,aa as C,o as d,c as m,b as t,F as y,D as F,E as p,L as E,a2 as o,x as M,K as _,A as T,V as B,a as I,z as L,a7 as P,J as U,X as v,Y as g,_ as O}from"./index-66877f9a.js";import{s as R,p as K,N as S,O as $}from"./microbiology.mutations-3f2e0736.js";const z={class:"w-full my-4"},J={class:"overflow-x-auto mt-4"},Q={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},X={class:"min-w-full"},Y={class:"bg-white"},Z={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},j={class:"flex items-center"},q={class:"text-sm leading-5 text-gray-800"},H={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},W={class:"flex items-center"},ee={class:"text-sm leading-5 text-gray-800"},te={action:"post",class:"p-1"},se={class:"grid grid-cols-2 gap-x-4 mb-4"},ae={class:"block col-span-1 mb-2"},oe={class:"block"},le=V({__name:"AbxGenus",setup(ne){const h=v(()=>g(()=>import("./index-66877f9a.js").then(a=>a.cN),["assets/index-66877f9a.js","assets/index-78b87750.css"])),w=v(()=>g(()=>import("./vue-multiselect.esm-c75711a1.js"),["assets/vue-multiselect.esm-c75711a1.js","assets/index-66877f9a.js","assets/index-78b87750.css"])),{withClientMutation:b,withClientQuery:c}=D();let i=r(!1),A=r(""),l=N({});const f=r(!0),n=r([]),x=r([]);C(()=>{c(R,{},"abxGenusAll").then(a=>{a&&(n.value=a)}),c(K,{},"abxFamilyAll").then(a=>{a&&(x.value=a)})});function k(){const a={name:l.name,familyUid:l.family?.uid};f.value===!0&&b(S,{payload:a},"createAbxGenus").then(e=>{e&&n.value.unshift(e)}),f.value===!1&&b($,{uid:l.uid,payload:a},"updateAbxGenus").then(e=>{if(e){const s=n.value.findIndex(u=>u.uid==e.uid);s>-1&&(n.value=[...n.value.map((u,G)=>G===s?e:u)])}}),i.value=!1}return(a,e)=>(d(),m(y,null,[t("div",z,[e[7]||(e[7]=t("hr",null,null,-1)),t("div",J,[t("div",Q,[t("table",X,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Name "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Family "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",Y,[(d(!0),m(y,null,F(n.value,s=>(d(),m("tr",{key:s?.uid},[t("td",Z,[t("div",j,[t("div",q,p(s?.name),1)])]),e[4]||(e[4]=E()),t("td",H,[t("div",W,[t("div",ee,p(s?.family?.name),1)])]),e[5]||(e[5]=t("td",{class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},null,-1))]))),128))])])])])]),o(i)?(d(),M(o(h),{key:0,onClose:e[3]||(e[3]=s=>P(i)?i.value=!1:i=!1)},{header:_(()=>[t("h3",null,p(o(A)),1)]),body:_(()=>[t("form",te,[t("div",se,[t("label",ae,[e[8]||(e[8]=t("span",{class:"text-gray-700"},"Kindom Name",-1)),T(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[0]||(e[0]=s=>o(l).name=s),placeholder:"Name ..."},null,512),[[B,o(l).name]])]),t("label",oe,[e[9]||(e[9]=t("span",{class:"text-gray-700"},"Family",-1)),I(o(w),{modelValue:o(l).family,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).family=s),options:x.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e[10]||(e[10]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[2]||(e[2]=L(s=>k(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Genus ")])]),_:1})):U("",!0)],64))}});const de=O(le,[["__scopeId","data-v-d18a9f06"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxGenus.vue"]]);export{de as default};
