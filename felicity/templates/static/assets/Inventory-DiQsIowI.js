const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InvAdjustments-CJ0V5WWm.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/inventory-CcBllciv.js","assets/inventory.queries-Bx-sCQu8.js","assets/DataTable-DLBrhw2Z.js","assets/TooltipTrigger-BWIYwmnQ.js","assets/PopperContent-BfyCnGUj.js","assets/Input-BEm5S0CJ.js","assets/SelectValue-Ds0cfAgl.js","assets/useNonce-B4v0IDPb.js","assets/chevron-down-Dqf-ptA3.js","assets/useFocusGuards-Bjb6OG0k.js","assets/Spinner-Bl8RfjFA.js","assets/InvListing-CrQOUREd.js","assets/index-CXV6PIcj.js","assets/vue-multiselect.esm-Cvm3ZCjW.js","assets/index.esm-BfHj8iGm.js","assets/storage-CAZM5V7o.js","assets/setup-BcFG_bXr.js","assets/user-DYsgscqA.js","assets/EmptyTitle-aCQRDpx3.js","assets/InvListing-BWqIQfq_.css","assets/InvOrders-Cp6TpRFa.js","assets/index-DJJ2wcNX.js"])))=>i.map(i=>d[i]);
import{Y as B,u as H,a0 as I,a7 as v,a5 as b,a8 as D,a6 as f,a9 as O,aa as A,ab as P,ac as R,ad as U,ae as V,af as L,_ as N,c as T,o as i,a as o,K as r,z as n,M as s,A as x,C as j,F as q,H as F,I as k}from"./index-OdhKCqIc.js";import{u as M,A as z}from"./inventory-CcBllciv.js";import{u as K}from"./storage-CAZM5V7o.js";import{u as Q}from"./setup-BcFG_bXr.js";import{u as Y}from"./user-DYsgscqA.js";import{E as G,a as J,b as W,c as X,d as Z}from"./EmptyTitle-aCQRDpx3.js";import $ from"./TabsNav-4Lm62OiP.js";import{P as ee}from"./PageHeading-Czi_4opS.js";import"./inventory.queries-Bx-sCQu8.js";import"./TabsTrigger-D8hXW_BI.js";const te=B({name:"InventoryView",__name:"Inventory",setup(w,{expose:t}){t();const u=b(()=>f(()=>import("./InvAdjustments-CJ0V5WWm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),e=b(()=>f(()=>import("./InvListing-CrQOUREd.js"),__vite__mapDeps([14,1,2,3,4,15,5,6,7,8,9,10,11,12,13,16,17,18,19,20,21,22]))),m=b(()=>f(()=>import("./InvOrders-Cp6TpRFa.js"),__vite__mapDeps([23,1,2,3,4,19,21,24,5,6,7,8,9,10,11,12,13]))),{withClientMutation:c}=H(),a=M(),l=Q(),p=K(),g=Y();a.fetchItems({first:1e4,after:"",text:"",sortBy:["-uid"]}),g.fetchUsers({}),l.fetchSuppliers(),l.fetchDepartments({}),a.fetchCategories(),a.fetchHazards(),p.fetchStoreRooms(),a.fetchUnits();const y=I(!1),E=v(()=>a.getBasket),h=v(()=>[{id:"orders",label:"orders",component:m},{id:"products",label:"products",component:e},{id:"ledger",label:"ledger",component:u}]);function S(){const C=a.getBasket;c(z,{payload:{orderProducts:C.map(d=>({productUid:d.product.uid,stockLotUid:d.stockLotUid,quantity:d.quantity,remarks:""})),departmentUid:void 0}},"createStockOrder").then(d=>{a.addStockOrder(d?.stockOrder),a.clearBasket(),y.value=!1})}const _={InventoryAdjustments:u,InventoryListing:e,InventoryOrders:m,withClientMutation:c,inventoryStore:a,setupStore:l,storageStore:p,userStore:g,viewBasket:y,basket:E,tabs:h,createOrder:S,get Table(){return L},get TableBody(){return V},get TableCell(){return U},get TableEmpty(){return R},get TableHead(){return P},get TableHeader(){return A},get TableRow(){return O},get Empty(){return Z},get EmptyContent(){return X},get EmptyDescription(){return W},get EmptyHeader(){return J},get EmptyTitle(){return G},TabsNav:$,Drawer:D,PageHeading:ee};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),re={class:"space-y-4"},oe={class:"space-y-4"},ae={class:"flex items-center justify-between"},se={class:"border border-border bg-card rounded-lg shadow-md"},ne={class:"relative w-full overflow-auto"},de=["onClick"];function le(w,t,u,e,m,c){return i(),T("div",re,[o(e.PageHeading,{title:"Inventory Management"}),o(e.TabsNav,{tabs:e.tabs,"initial-tab":"products",class:"rounded-lg"},null,8,["tabs"]),o(e.Drawer,{show:e.viewBasket,class:"w-96",onClose:t[1]||(t[1]=a=>e.viewBasket=!1)},{header:r(()=>[...t[2]||(t[2]=[s("Order Basket",-1)])]),body:r(()=>[n("div",oe,[n("div",ae,[t[3]||(t[3]=n("h3",{class:"text-lg font-medium text-foreground"},"Products",-1)),n("button",{type:"button",class:"rounded-md border border-transparent bg-primary px-3 py-1.5 text-sm font-medium text-primary-foreground shadow-sm transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",onClick:t[0]||(t[0]=a=>e.createOrder())}," Submit Order ")]),n("div",se,[n("div",ne,[o(e.Table,{class:"w-full caption-bottom text-sm"},{default:r(()=>[o(e.TableHeader,{class:"[&_tr]:border-b"},{default:r(()=>[o(e.TableRow,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:r(()=>[o(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:r(()=>[...t[4]||(t[4]=[s("Product",-1)])]),_:1}),o(e.TableHead,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:r(()=>[...t[5]||(t[5]=[s("Quantity",-1)])]),_:1}),o(e.TableHead,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:r(()=>[...t[6]||(t[6]=[s("Actions",-1)])]),_:1})]),_:1})]),_:1}),o(e.TableBody,{class:"[&_tr:last-child]:border-0"},{default:r(()=>[e.basket.length===0?(i(),x(e.TableEmpty,{key:0,colspan:3},{default:r(()=>[o(e.Empty,{class:"border-0 bg-transparent p-0"},{default:r(()=>[o(e.EmptyContent,null,{default:r(()=>[o(e.EmptyHeader,null,{default:r(()=>[o(e.EmptyTitle,null,{default:r(()=>[...t[7]||(t[7]=[s("No products in the basket",-1)])]),_:1}),o(e.EmptyDescription,null,{default:r(()=>[...t[8]||(t[8]=[s("Add products to submit a new order.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):j("",!0),(i(!0),T(q,null,F(e.basket,a=>(i(),x(e.TableRow,{key:a.product.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:r(()=>[o(e.TableCell,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:r(()=>[s(k(a.product.name),1)]),_:2},1024),o(e.TableCell,{class:"px-4 py-3 align-middle text-right text-sm text-foreground"},{default:r(()=>[s(k(a.quantity),1)]),_:2},1024),o(e.TableCell,{class:"px-4 py-3 align-middle text-right"},{default:r(()=>[n("button",{type:"button",class:"text-destructive transition-colors duration-200 hover:text-destructive/80",onClick:l=>e.inventoryStore.removeFromBasket(a.product.uid)}," Remove ",8,de)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:1},8,["show"])])}const ve=N(te,[["render",le],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/inventory/Inventory.vue"]]);export{ve as default};
