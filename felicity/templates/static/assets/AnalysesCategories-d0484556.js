import{W as T,f as F,a2 as m,h as B,i as _,r as f,o as d,c as l,a as C,M as u,N as O,O as e,F as g,H as h,J as c,a7 as r,z as $,D as b,Z as A,a4 as L,C as R,af as j,L as Y,_ as z}from"./index-93739211.js";import{k as G,E as H}from"./analyses.mutations-e3a0ff1f.js";import{u as I}from"./setup-e711c708.js";import{u as J}from"./analysis-689a99f8.js";import"./_queries-2ba61825.js";const W={class:"overflow-x-auto mt-4"},Z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},q={class:"min-w-full"},K={class:"bg-card"},P={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Q={class:"text-sm text-foreground"},X={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ee={class:"text-sm text-foreground"},te={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},oe=["onClick"],se={class:"text-lg font-bold text-foreground"},ne={action:"post",class:"p-6 space-y-6"},re={class:"space-y-4"},ae={class:"grid grid-cols-2 gap-4"},de={class:"col-span-2 space-y-2"},le={class:"col-span-1 space-y-2"},ie=["value"],ue={class:"col-span-2 space-y-2"},ce={class:"pt-4"},pe=T({__name:"AnalysesCategories",setup(me){const i=J(),w=I(),{withClientMutation:y}=F();let a=m(!1),x=m(""),o=B({});const p=m(!0),k=_(()=>w.getDepartments);i.fetchAnalysesCategories();const D=_(()=>i.getAnalysesCategories);function S(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(G,{payload:n},"createAnalysisCategory").then(t=>i.addAnalysisCategory(t))}function U(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(H,{uid:o.uid,payload:n},"updateAnalysisCategory").then(t=>i.updateAnalysisCategory(t))}function v(n,t){p.value=n,a.value=!0,x.value=(n?"CREATE":"EDIT")+" ANALYSES CATEGORY",n?Object.assign(o,{}):Object.assign(o,{...t})}function E(){p.value===!0&&S(),p.value===!1&&U(),a.value=!1}return(n,t)=>{const N=f("fel-button"),M=f("fel-heading"),V=f("fel-modal");return d(),l(g,null,[C(M,{title:"Analyses Categories"},{default:u(()=>[C(N,{onClick:t[0]||(t[0]=s=>v(!0,null))},{default:u(()=>t[6]||(t[6]=[O("Add Analyses Category")])),_:1})]),_:1}),e("div",W,[e("div",Z,[e("table",q,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Category Name"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Department"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",K,[(d(!0),l(g,null,h(D.value,s=>(d(),l("tr",{key:s?.uid,class:"hover:bg-accent/50"},[e("td",P,[e("div",Q,c(s?.name),1)]),e("td",X,[e("div",ee,c(s?.department?.name),1)]),e("td",te,[e("button",{onClick:fe=>v(!1,s),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"}," Edit ",8,oe)])]))),128))])])])]),r(a)?(d(),$(V,{key:0,onClose:t[5]||(t[5]=s=>j(a)?a.value=!1:a=!1)},{header:u(()=>[e("h3",se,c(r(x)),1)]),body:u(()=>[e("form",ne,[e("div",re,[e("div",ae,[e("label",de,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Category Name",-1)),b(e("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=s=>r(o).name=s),placeholder:"Name ..."},null,512),[[A,r(o).name]])]),e("label",le,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Department",-1)),b(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).departmentUid=s)},[t[9]||(t[9]=e("option",{value:""},"Select Department",-1)),(d(!0),l(g,null,h(k.value,s=>(d(),l("option",{key:s.uid,value:s?.uid},c(s.name),9,ie))),128))],512),[[L,r(o).departmentUid]])]),e("label",ue,[t[11]||(t[11]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),b(e("textarea",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[A,r(o).description]])])])]),e("div",ce,[e("button",{type:"button",onClick:t[4]||(t[4]=R(s=>E(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):Y("",!0)],64)}}}),_e=z(pe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/AnalysesCategories.vue"]]);export{_e as default};
