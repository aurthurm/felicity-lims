import{d as N,I as R,J as q,q as $,r as p,m as D,o as a,c,b as t,y as v,f as o,g,t as d,e as f,L as j,z,A as E,v as M,i as y,F as h,C,ad as b,w as J,aA as O,j as G,_ as H,k as K}from"./index-fc86f1fc.js";import{A as Q,E as W}from"./clients.mutations-0455b564.js";import{u as X}from"./location-e3bae4c4.js";import{u as Y}from"./client-b8c54b8b.js";import{h as Z,o as tt,a as et}from"./constants-3670b8e1.js";const st={class:""},ot={class:"grid grid-cols-12 gap-4 mt-2"},nt={class:"col-span-12"},lt={class:"bg-white rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},it={key:0,class:"py-4 text-center"},at={key:1,class:"grid grid-cols-12 gap-3"},dt={class:"col-span-12 px-3 sm:px-0"},ct={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-gray-700 font-bold"},rt=t("hr",null,null,-1),ut={class:"grid grid-cols-2 mt-2"},mt={class:"col-span-1"},_t={class:"flex"},pt=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Province:",-1),vt={class:"text-gray-600 text-sm md:text-md"},ft={class:"flex"},ht=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"District:",-1),xt={class:"text-gray-600 text-sm md:text-md"},gt={class:"flex"},yt=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Code:",-1),Ct={class:"text-gray-600 text-sm md:text-md"},bt={class:"col-span-1"},wt={class:"flex"},kt=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Email:",-1),Ut={class:"text-gray-600 text-sm md:text-md"},Dt={class:"flex"},Et=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Mobile:",-1),Mt={class:"text-gray-600 text-sm md:text-md"},At={action:"post",class:"p-1"},Lt={class:"grid grid-cols-2 gap-x-4 mb-4"},Pt={class:"block col-span-1 mb-2"},St=t("span",{class:"text-gray-700"},"Name",-1),Vt={class:"block col-span-1 mb-2"},Tt=t("span",{class:"text-gray-700"},"Code",-1),Bt={class:"grid grid-cols-3 gap-x-4 mb-4"},Ft={class:"block col-span-1 mb-2"},It=t("span",{class:"text-gray-700"},"Country",-1),Nt=t("option",null,null,-1),Rt=["value"],qt={class:"block col-span-1 mb-2"},$t=t("span",{class:"text-gray-700"},"Province",-1),jt=t("option",null,null,-1),zt=["value"],Jt={class:"block col-span-1 mb-2"},Ot=t("span",{class:"text-gray-700"},"District",-1),Gt=t("option",null,null,-1),Ht=["value"],Kt=t("hr",null,null,-1),Qt=N({__name:"Client",setup(Wt){const A=G(()=>H(()=>import("./FelLoadingMessage-50e7808b.js"),["assets/FelLoadingMessage-50e7808b.js","assets/index-fc86f1fc.js","assets/index-246842b1.css"])),r=X(),{withClientMutation:w}=R(),k=q(),l=Y();$(()=>{console.log("route.query.clientUid!",k.query.clientUid),l.fetchClientByUid(k.query.clientUid),r.fetchCountries()});let u=p(!1),x=p(!1),U=p(""),n=p({}),m=p(),_=p();function L(i){r.filterProvincesByCountry(m.value)}function P(i){r.filterDistrictsByProvince(_.value)}function S(i,s={}){x.value=i,U.value=`${i?"CREATE":"EDIT"} CLIENT`,u.value=!0,i?n.value={}:(m.value=s?.district?.province?.countryUid,_.value=s?.district?.provinceUid,n.value=s)}function V(){w(Q,{payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"createClient").then(i=>l.addClient(i))}function T(){w(W,{uid:n?.value?.uid,payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"updateClient").then(i=>l.updateClient(i))}function B(){x.value&&V(),x.value||T(),u.value=!1,n.value={}}return(i,s)=>{const F=D("font-awesome-icon"),I=D("router-view");return a(),c(h,null,[t("div",st,[t("div",ot,[t("section",nt,[v(" Listing Item Card "),t("div",lt,[o(l).fetchingClient?(a(),c("div",it,[g(o(A),{message:"Fetching client metadata ..."})])):(a(),c("div",at,[v(" Summary Column "),t("div",dt,[t("div",ct,[t("span",null,d(o(l).client?.name),1),t("div",null,[f(t("button",{onClick:s[0]||(s[0]=e=>S(!1,o(l).client)),class:"p-1 ml-2 border-white border text-gray-500 text-md rounded-sm transition duration-300 hover:text-sky-800 focus:outline-none"},[g(F,{icon:"fa-edit"})],512),[[j,Z(et.UPDATE,tt.CLIENT)]])])]),rt,t("div",ut,[t("div",mt,[v(" Client Details "),t("div",_t,[pt,t("span",vt,d(o(l).client?.name),1)]),t("div",ft,[ht,t("span",xt,d(o(l).client?.district?.name),1)]),t("div",gt,[yt,t("span",Ct,d(o(l).client?.code),1)])]),t("div",bt,[v(" Communication Details "),t("div",wt,[kt,t("span",Ut,d(o(l).client?.email),1)]),t("div",Dt,[Et,t("span",Mt,d(o(l).client?.mobilePhone),1)])])])])]))])])]),g(I)]),v(" Location Edit Form Modal "),o(u)?(a(),z(O,{key:0,onClose:s[9]||(s[9]=e=>y(u)?u.value=!1:u=!1)},{header:E(()=>[t("h3",null,d(o(U)),1)]),body:E(()=>[t("form",At,[t("div",Lt,[t("label",Pt,[St,f(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[1]||(s[1]=e=>o(n).name=e),placeholder:"Name ..."},null,512),[[M,o(n).name]])]),t("label",Vt,[Tt,f(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[2]||(s[2]=e=>o(n).code=e),placeholder:"Code ..."},null,512),[[M,o(n).code]])])]),t("div",Bt,[t("label",Ft,[It,f(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[3]||(s[3]=e=>y(m)?m.value=e:m=e),onChange:s[4]||(s[4]=e=>L(e))},[Nt,(a(!0),c(h,null,C(o(r).countries,e=>(a(),c("option",{key:e.uid,value:e.uid},d(e.name),9,Rt))),128))],544),[[b,o(m)]])]),t("label",qt,[$t,f(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[5]||(s[5]=e=>y(_)?_.value=e:_=e),onChange:s[6]||(s[6]=e=>P(e))},[jt,(a(!0),c(h,null,C(o(r).provinces,e=>(a(),c("option",{key:e.uid,value:e.uid},d(e.name),9,zt))),128))],544),[[b,o(_)]])]),t("label",Jt,[Ot,f(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[7]||(s[7]=e=>o(n).districtUid=e)},[Gt,(a(!0),c(h,null,C(o(r).districts,e=>(a(),c("option",{key:e.uid,value:e.uid},d(e.name),9,Ht))),128))],512),[[b,o(n).districtUid]])])]),Kt,t("button",{type:"button",onClick:s[8]||(s[8]=J(e=>B(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):v("v-if",!0)],64)}}}),se=K(Qt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/client/_id/Client.vue"]]);export{se as default};
