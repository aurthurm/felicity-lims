const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CNAOKjig.js","assets/index-vawJu9QC.css"])))=>i.map(i=>d[i]);
import{a0 as D,f as j,a7 as u,g as V,ad as E,a1 as F,a6 as N,_ as T,r as x,c as g,o as c,a as C,A as e,C as S,E as B,N as f,P as O,J as P,K as U,L as m,D as I,F as y,a2 as _}from"./index-CNAOKjig.js";import{i as L,m as q,n as J}from"./microbiology.mutations-Sq_uOjPv.js";const K=D({__name:"AbxGuideline",setup(h,{expose:o}){o();const w=F(()=>N(()=>import("./index-CNAOKjig.js").then(s=>s.de),__vite__mapDeps([0,1]))),{withClientMutation:i,withClientQuery:b}=j();let l=u(!1),a=u(""),n=V({});const d=u(!0),t=u([]);E(()=>{b(L,{},"abxGuidelinesAll").then(s=>{s&&(t.value=s)})});function p(s,r={}){d.value=s,l.value=!0,a.value=(s?"Create":"Edit")+" Abx Guideline",s?Object.assign(n,{}):Object.assign(n,{...r})}function G(){const s={name:n.name,code:n.code,description:n.description};d.value===!0&&i(q,{payload:s},"createAbxGuideline").then(r=>{r&&t.value.unshift(r)}),d.value===!1&&i(J,{uid:n.uid,payload:s},"updateAbxGuideline").then(r=>{if(r){const A=t.value.findIndex(v=>v.uid==r.uid);A>-1&&(t.value=[...t.value.map((v,M)=>M===A?r:v)])}}),l.value=!1}const k={modal:w,withClientMutation:i,withClientQuery:b,get showModal(){return l},set showModal(s){l=s},get formTitle(){return a},set formTitle(s){a=s},get form(){return n},set form(s){n=s},formAction:d,abxGuidelines:t,FormManager:p,saveForm:G};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),Q={class:"space-y-6"},R={class:"border shadow-sm rounded-lg bg-card p-6"},z={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-border"},W={class:"divide-y divide-border bg-background"},X={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Y={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},$={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ee=["onClick"],oe=["onClick"],te={class:"text-lg font-semibold text-foreground"},ie={class:"space-y-2"},se={class:"space-y-2"},ne={class:"space-y-2"},re={class:"flex justify-end space-x-2"};function de(h,o,w,i,b,l){const a=x("fel-button"),n=x("fel-heading"),d=x("fel-modal");return c(),g("div",Q,[C(n,{title:"Antibiotic Guidelines"},{default:f(()=>[C(a,{onClick:o[0]||(o[0]=t=>i.FormManager(!0))},{default:f(()=>[...o[6]||(o[6]=[O("Add Guideline",-1)])]),_:1})]),_:1}),e("div",R,[e("div",z,[e("table",H,[o[7]||(o[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Description"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Code"),e("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",W,[(c(!0),g(P,null,U(i.abxGuidelines,t=>(c(),g("tr",{key:t?.uid,class:"hover:bg-muted/50"},[e("td",X,m(t?.name),1),e("td",Y,m(t?.description),1),e("td",Z,m(t?.code),1),e("td",$,[e("button",{onClick:p=>i.FormManager(!1,t),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 mr-2"}," Edit ",8,ee),e("button",{onClick:p=>h.deleteGuideline(t),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-destructive bg-background text-destructive hover:bg-destructive hover:text-destructive-foreground h-9 px-4 py-2"}," Delete ",8,oe)])]))),128))])])])]),i.showModal?(c(),S(d,{key:0,onClose:o[5]||(o[5]=t=>i.showModal=!1)},{header:f(()=>[e("h3",te,m(i.formTitle),1)]),body:f(()=>[e("form",{onSubmit:I(i.saveForm,["prevent"]),class:"space-y-4"},[e("div",ie,[o[8]||(o[8]=e("label",{for:"name",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Name",-1)),y(e("input",{id:"name","onUpdate:modelValue":o[1]||(o[1]=t=>i.form.name=t),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",required:""},null,512),[[_,i.form.name]])]),e("div",se,[o[9]||(o[9]=e("label",{for:"description",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Description",-1)),y(e("textarea",{id:"description","onUpdate:modelValue":o[2]||(o[2]=t=>i.form.description=t),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",rows:"3"},null,512),[[_,i.form.description]])]),e("div",ne,[o[10]||(o[10]=e("label",{for:"code",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Code",-1)),y(e("input",{id:"code","onUpdate:modelValue":o[3]||(o[3]=t=>i.form.code=t),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",required:""},null,512),[[_,i.form.code]])]),e("div",re,[e("button",{type:"button",onClick:o[4]||(o[4]=t=>i.showModal=!1),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"}," Cancel "),o[11]||(o[11]=e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"}," Save ",-1))])],32)]),_:1})):B("",!0)])}const ue=T(K,[["render",de],["__scopeId","data-v-cb02f4a4"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/antibiotics/AbxGuideline.vue"]]);export{ue as default};
