import{h as le,Y as ne,Q as ae,P as ie,u as de,a0 as E,a7 as h,av as q,bx as me,by as ue,aZ as pe,a3 as ce,_ as fe,r as D,c as n,o as l,z as o,A as O,C as k,a as i,K as m,M as p,F as g,H as w,N as T,B as F,I as u,D as x,aG as _}from"./index-OdhKCqIc.js";import{u as ge}from"./analysis-PB9AMevg.js";import{u as ve}from"./setup-BcFG_bXr.js";import{E as we,a as ye,b as ke,c as be,d as he}from"./EmptyTitle-aCQRDpx3.js";import{I as Te}from"./Input-BEm5S0CJ.js";import{L as Se}from"./Label-CS46LzLb.js";import{P as xe}from"./PageHeading-Czi_4opS.js";const _e=le("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Ce=ne({__name:"WorkSheetsAdmin",setup(H,{expose:t}){t();const S=ae(),e=ge(),W=ie(),V=ve(),{withClientMutation:C}=de();let U=E("preview");const s=["preview"];let d=h(()=>"tab-"+U.value),f=E(!1),c=E(null),r=q({}),L=E(""),M=q({first:void 0,after:"",text:"",sortBy:["name"]});e.fetchAnalysesServices(M),W.fetchSampleTypes(),V.fetchInstruments(),e.fetchQCTemplates(),e.fetchQCLevels(),S.fetchWorkSheetTemplates();const A=h(()=>e.getQCTemplates),z=h(()=>S.getWorkSheetTemplates);function B(){const a={name:r.name,sampleTypeUid:r.sampleTypeUid,instrumentUid:r.instrumentUid,description:r.description,qcTemplateUid:r.qcTemplateUid,reserved:r.reserved,numberOfSamples:+r.numberOfSamples,worksheetType:r.worksheetType,cols:r.cols,rows:r.rows,rowWise:r.rowWise,analysisUid:r.analysisUid};C(me,{payload:a},"createWorksheetTemplate").then(v=>S.addWorksheetTemplate(v))}function Q(){const a={name:r.name,sampleTypeUid:r.sampleTypeUid,instrumentUid:r.instrumentUid,description:r.description,qcTemplateUid:r.qcTemplateUid,reserved:r.reserved,numberOfSamples:r.numberOfSamples,worksheetType:r.worksheetType,cols:r.cols,rows:r.rows,rowWise:r.rowWise,analysisUid:r.analysisUid};C(ue,{uid:r.uid,payload:a},"updateWorksheetTemplate").then(v=>S.updateWorksheetTemplate(v))}function R(a){let v=[];const y=(a?.numberOfSamples??0)+(a?.reserved?.length??0);if(y<=0)return v;const se=new Set((a?.reserved??[]).map(b=>Number(b.position)).filter(b=>!Number.isNaN(b)&&b>=1));for(let b=1;b<=y;b++){const re=se.has(b);v.push({position:b,row:1,col:1,name:re?"control":"sample",sampleUid:void 0})}return v}function P(){r.worksheetType=="grid"&&(r.rows=Math.ceil((r?.numberOfSamples+(r.reserved?.length|0))/r?.cols))}function j(a){Object.assign(r,a)}const K=h(()=>r?.uid?R(r):[]);function G(){r.reserved||(r.reserved=[]);const a=r.reserved.length+1;r.reserved.push({position:a}),P()}function Y(a){r.reserved?.splice(a,1)}function Z(){if(r.reserved=[],!r.qcTemplateUid)return;A.value?.find(v=>v.uid===r.qcTemplateUid)?.qcLevels.forEach((v,y)=>{r.reserved?.push({position:y+1,levelUid:v.uid})}),P()}function J(a){a.target.value=="flat"&&(r.cols=void 0,r.rows=void 0)}function X(a,v={}){if(c.value=a,L.value=(a?"CREATE":"EDIT")+" WOKKSHEET TEMPLATE",f.value=!0,a){let y={};y.instrument={},y.sampleType={},y.analysis={},Object.assign(r,{...y})}else j(v)}function I(){c.value&&B(),c.value||Q(),f.value=!1}const $=h(()=>V.getInstruments),ee=h(()=>e.getAnalysesServicesSimple?.filter(y=>y?.category?.name!=="Quality Control")),te=h(()=>e.getQCLevels),oe=h(()=>W.getSampleTypes),N={worksheetStore:S,analysisStore:e,sampleStore:W,setupStore:V,withClientMutation:C,get currentTab(){return U},set currentTab(a){U=a},tabs:s,get currentTabComponent(){return d},set currentTabComponent(a){d=a},get showModal(){return f},set showModal(a){f=a},get createItem(){return c},set createItem(a){c=a},get workSheetTemplate(){return r},set workSheetTemplate(a){r=a},get formTitle(){return L},set formTitle(a){L=a},get analysesParams(){return M},set analysesParams(a){M=a},qcTemplates:A,workSheetTemplates:z,addWorksheetTemplate:B,editWorksheetTemplate:Q,generatePreview:R,calculateRows:P,selectWorkSheetTemplate:j,layoutPreview:K,addReserved:G,removeReserved:Y,appyQCTemplate:Z,changeWorkSheetType:J,FormManager:X,saveForm:I,instruments:$,services:ee,qcLevels:te,sampleTypes:oe,get Empty(){return he},get EmptyContent(){return be},get EmptyDescription(){return ke},get EmptyHeader(){return ye},get EmptyTitle(){return we},get Button(){return ce},get Input(){return Te},get Label(){return Se},get Switch(){return pe},get Trash2(){return _e},PageHeading:xe};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),Ue={class:"grid grid-cols-12 gap-4 mt-2"},We={class:"col-span-12 md:col-span-4 lg:col-span-3"},Ve={class:"overflow-y-scroll overscroll-contain scroll-section pr-2 space-y-1"},Ee=["onClick"],Le=["onClick"],Me={key:0,class:"col-span-12 md:col-span-8 lg:col-span-9 overflow-y-scroll overscroll-contain scroll-section pl-2"},Pe={class:"bg-card text-card-foreground rounded-lg shadow-md p-4 sm:p-6"},Ae={class:"space-y-4"},Be={class:"flex justify-between items-center"},Qe={class:"text-lg font-semibold text-card-foreground"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm"},je={class:"flex"},Ne={class:"text-foreground"},qe={class:"flex"},De={class:"text-foreground"},Oe={class:"flex"},Fe={class:"text-foreground"},He={class:"flex"},ze={class:"text-foreground"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm"},Ge={class:"flex"},Ye={class:"text-foreground"},Ze={key:0,class:"flex"},Je={class:"text-foreground"},Xe={key:0},Ie={class:"flex"},$e={class:"text-foreground"},et={class:"flex"},tt={class:"text-foreground"},ot={class:"mt-6"},st={key:0,class:"space-y-1"},rt={class:"col-span-1 my-1 text-xs text-muted-foreground text-right pr-1"},lt={key:0,class:"opacity-80"},nt={key:1},at={key:0},it={key:0,class:"opacity-80"},dt={key:1,class:"my-1 p-1 rounded-md flex justify-center items-center min-h-[28px] border border-dashed border-muted-foreground/30 bg-muted/30","aria-hidden":"true"},mt={key:0,class:"opacity-80"},ut={key:1,class:"p-1 rounded-md flex justify-center items-center min-h-[28px] border border-dashed border-muted-foreground/30 bg-muted/30","aria-hidden":"true"},pt={key:1,class:"col-span-12 md:col-span-8 lg:col-span-9 p-10 text-center"},ct={class:"text-lg font-semibold text-card-foreground"},ft={action:"post",class:"p-6 space-y-6"},gt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},vt={class:"space-y-2"},wt={class:"space-y-2"},yt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end"},kt={class:"space-y-2"},bt={class:"space-y-2"},ht={class:"space-y-2"},Tt={class:"flex items-center gap-2 pb-2"},St={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},xt={class:"space-y-2"},_t=["value"],Ct={class:"space-y-2"},Ut=["value"],Wt={class:"space-y-2"},Vt=["value"],Et={id:"samples",class:"space-y-4"},Lt={class:"grid grid-cols-1 sm:grid-cols-12 gap-4 items-end"},Mt={class:"sm:col-span-8 space-y-2"},Pt=["value"],At={class:"sm:col-span-2"},Bt={class:"sm:col-span-2"},Qt={class:"sm:col-span-4 space-y-2"},Rt={class:"sm:col-span-6 space-y-2"},jt=["onUpdate:modelValue"],Nt=["value"],qt={class:"sm:col-span-2 flex justify-end"};function Dt(H,t,S,e,W,V){const C=D("font-awesome-icon"),U=D("modal");return l(),n(g,null,[o("div",null,[i(e.PageHeading,{title:"WorkSheet Templates"},{default:m(()=>[i(e.Button,{onClick:t[0]||(t[0]=s=>e.FormManager(!0))},{default:m(()=>[...t[18]||(t[18]=[p("Add Template",-1)])]),_:1})]),_:1}),t[35]||(t[35]=o("hr",{class:"my-4 border-t border-border"},null,-1)),o("div",Ue,[o("section",We,[o("div",Ve,[(l(!0),n(g,null,w(e.workSheetTemplates,s=>(l(),n("div",{key:s.uid,class:T(["w-full flex justify-between items-center p-2 rounded-lg border shadow-sm transition-colors",e.workSheetTemplate?.uid===s.uid?"border-primary bg-primary/10":"border-border bg-card hover:bg-muted/50"])},[o("a",{href:"#",onClick:F(d=>e.selectWorkSheetTemplate(s),["prevent","stop"]),class:T(["font-medium cursor-pointer",e.workSheetTemplate?.uid===s.uid?"text-primary":"text-card-foreground"])},[o("span",null,u(s.name),1)],10,Ee),o("a",{href:"#",onClick:F(d=>e.FormManager(!1,s),["prevent","stop"]),class:"px-2 cursor-pointer text-muted-foreground hover:text-accent-foreground"},[i(C,{icon:"pen"})],8,Le)],2))),128)),!e.workSheetTemplates||e.workSheetTemplates.length===0?(l(),O(e.Empty,{key:0,class:"p-4 border-0 bg-transparent"},{default:m(()=>[i(e.EmptyContent,null,{default:m(()=>[i(e.EmptyHeader,null,{default:m(()=>[i(e.EmptyTitle,null,{default:m(()=>[...t[19]||(t[19]=[p("No templates found",-1)])]),_:1}),i(e.EmptyDescription,null,{default:m(()=>[...t[20]||(t[20]=[p("Create a worksheet template to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)])]),e.workSheetTemplate?.uid?(l(),n("div",Me,[o("div",Pe,[o("div",Ae,[o("div",Be,[o("span",Qe,u(e.workSheetTemplate.name),1),o("div",null,[o("button",{onClick:t[1]||(t[1]=s=>e.FormManager(!1,e.workSheetTemplate)),class:"ml-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Edit Template"},[...t[21]||(t[21]=[o("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])])])]),t[30]||(t[30]=o("hr",{class:"border-t border-border"},null,-1)),o("div",Re,[o("div",null,[o("div",je,[t[22]||(t[22]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Instrument:",-1)),o("span",Ne,u(e.workSheetTemplate.instrument?.name||"N/A"),1)]),o("div",qe,[t[23]||(t[23]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Analysis Service:",-1)),o("span",De,u(e.workSheetTemplate.analysis?.name||"N/A"),1)])]),o("div",null,[o("div",Oe,[t[24]||(t[24]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Samples:",-1)),o("span",Fe,u(e.workSheetTemplate.numberOfSamples),1)]),o("div",He,[t[25]||(t[25]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Reserved:",-1)),o("span",ze,u(e.workSheetTemplate.reserved?.length??0),1)])])]),t[31]||(t[31]=o("hr",{class:"border-t border-border"},null,-1)),o("div",Ke,[o("div",null,[o("div",Ge,[t[26]||(t[26]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"WorkSheet type:",-1)),o("span",Ye,u(e.workSheetTemplate.worksheetType),1)]),e.workSheetTemplate.worksheetType=="grid"?(l(),n("div",Ze,[t[27]||(t[27]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Direction:",-1)),o("span",Je,u(e.workSheetTemplate.rowWise?"row-wise":"column-wise"),1)])):k("",!0)]),e.workSheetTemplate.worksheetType=="grid"?(l(),n("div",Xe,[o("div",Ie,[t[28]||(t[28]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Rows:",-1)),o("span",$e,u(e.workSheetTemplate.rows),1)]),o("div",et,[t[29]||(t[29]=o("span",{class:"w-1/2 shrink-0 font-medium text-muted-foreground"},"Columns:",-1)),o("span",tt,u(e.workSheetTemplate.cols),1)])])):k("",!0)])])]),o("div",ot,[t[32]||(t[32]=o("h3",{class:"text-lg font-semibold text-foreground"},"WorkSheet Layout Preview",-1)),t[33]||(t[33]=o("hr",{class:"my-2 border-t border-border"},null,-1)),e.workSheetTemplate.worksheetType=="flat"?(l(),n("div",st,[(l(!0),n(g,null,w(e.layoutPreview,(s,d)=>(l(),n("div",{class:"grid grid-cols-6 gap-x-2 items-center",key:`flat-${d}`},[o("span",rt,u(s.position)+":",1),o("span",{class:T(["col-span-5 my-1 p-1.5 rounded-md flex justify-center items-center gap-1 text-xs font-medium border",s.name!=="sample"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200 border-emerald-300 dark:border-emerald-700":"bg-primary text-primary-foreground border-primary/50"])},[s.name!=="sample"?(l(),n("span",lt,"QC")):k("",!0),p(" "+u(s.name!=="sample"?"Control":"Sample"),1)],2)]))),128))])):k("",!0),e.workSheetTemplate.worksheetType=="grid"?(l(),n("div",nt,[e.workSheetTemplate.rowWise?(l(),n("div",at,[(l(!0),n(g,null,w(e.workSheetTemplate.rows,(s,d)=>(l(),n("div",{key:`row-${d}`,class:T(["grid gap-2 mb-1",`grid-cols-${e.workSheetTemplate.cols}`])},[(l(!0),n(g,null,w(e.workSheetTemplate.cols,(f,c)=>(l(),n("div",{key:`row-${d}-col-${c}`,class:"col-span-1 w-full"},[e.layoutPreview[d*e.workSheetTemplate.cols+c]?(l(),n("span",{key:0,class:T(["my-1 p-1 rounded-md flex justify-center items-center gap-1 text-xs font-medium border",e.layoutPreview[d*e.workSheetTemplate.cols+c]?.name!=="sample"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200 border-emerald-300 dark:border-emerald-700":"bg-primary text-primary-foreground border-primary/50"])},[e.layoutPreview[d*e.workSheetTemplate.cols+c]?.name!=="sample"?(l(),n("span",it,"QC")):k("",!0),p(" ("+u(d*e.workSheetTemplate.cols+c+1)+") "+u(e.layoutPreview[d*e.workSheetTemplate.cols+c]?.name!=="sample"?"Control":"Sample"),1)],2)):(l(),n("span",dt," "))]))),128))],2))),128))])):(l(),n("div",{key:1,class:T(["grid gap-2",`grid-cols-${e.workSheetTemplate.cols}`])},[(l(!0),n(g,null,w(e.workSheetTemplate.cols,(s,d)=>(l(),n("div",{class:"col-span-1 space-y-1",key:`col-${d}`},[(l(!0),n(g,null,w(e.workSheetTemplate.rows,(f,c)=>(l(),n("div",{key:`col-${d}-row-${c}`},[e.layoutPreview[d*e.workSheetTemplate.rows+c]?(l(),n("span",{key:0,class:T(["p-1 rounded-md flex justify-center items-center gap-1 text-xs font-medium border",e.layoutPreview[d*e.workSheetTemplate.rows+c]?.name!=="sample"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200 border-emerald-300 dark:border-emerald-700":"bg-primary text-primary-foreground border-primary/50"])},[e.layoutPreview[d*e.workSheetTemplate.rows+c]?.name!=="sample"?(l(),n("span",mt,"QC")):k("",!0),p(" ("+u(d*e.workSheetTemplate.rows+c+1)+") "+u(e.layoutPreview[d*e.workSheetTemplate.rows+c]?.name!=="sample"?"Control":"Sample"),1)],2)):(l(),n("span",ut," "))]))),128))]))),128))],2))])):k("",!0)])])):(l(),n("div",pt,[...t[34]||(t[34]=[o("p",{class:"text-muted-foreground"},"Select a template from the left to view details.",-1)])]))])]),e.showModal?(l(),O(U,{key:0,onClose:t[17]||(t[17]=s=>e.showModal=!1),"content-width":"max-w-4xl"},{header:m(()=>[o("h3",ct,u(e.formTitle),1)]),body:m(()=>[o("form",ft,[o("div",gt,[o("div",vt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[36]||(t[36]=[p("Template Name",-1)])]),_:1}),i(e.Input,{class:"w-full",modelValue:e.workSheetTemplate.name,"onUpdate:modelValue":t[2]||(t[2]=s=>e.workSheetTemplate.name=s),placeholder:"Name ..."},null,8,["modelValue"])]),o("div",wt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[37]||(t[37]=[p("Samples (excl. reserved)",-1)])]),_:1}),i(e.Input,{class:"w-full",modelValue:e.workSheetTemplate.numberOfSamples,"onUpdate:modelValue":t[3]||(t[3]=s=>e.workSheetTemplate.numberOfSamples=s),modelModifiers:{number:!0},placeholder:"Count ...",type:"number"},null,8,["modelValue"])])]),o("div",yt,[o("div",kt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[38]||(t[38]=[p("Template Type",-1)])]),_:1}),x(o("select",{class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",onChange:t[4]||(t[4]=s=>e.changeWorkSheetType(s)),"onUpdate:modelValue":t[5]||(t[5]=s=>e.workSheetTemplate.worksheetType=s)},[...t[39]||(t[39]=[o("option",{value:"flat"},"Single Column / Flat",-1),o("option",{value:"grid"},"GRID",-1)])],544),[[_,e.workSheetTemplate.worksheetType]])]),e.workSheetTemplate.worksheetType==="grid"?(l(),n(g,{key:0},[o("div",bt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[40]||(t[40]=[p("Cols",-1)])]),_:1}),i(e.Input,{modelValue:e.workSheetTemplate.cols,"onUpdate:modelValue":t[6]||(t[6]=s=>e.workSheetTemplate.cols=s),modelModifiers:{number:!0},onKeyup:t[7]||(t[7]=s=>e.calculateRows()),type:"number",class:"w-full"},null,8,["modelValue"])]),o("div",ht,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[41]||(t[41]=[p("Rows",-1)])]),_:1}),i(e.Input,{modelValue:e.workSheetTemplate.rows,"onUpdate:modelValue":t[8]||(t[8]=s=>e.workSheetTemplate.rows=s),modelModifiers:{number:!0},type:"number",disabled:"",class:"w-full bg-muted"},null,8,["modelValue"])]),o("div",Tt,[i(e.Switch,{checked:e.workSheetTemplate.rowWise,"onUpdate:checked":t[9]||(t[9]=s=>e.workSheetTemplate.rowWise=s)},null,8,["checked"]),i(e.Label,{class:"text-sm font-medium text-foreground cursor-pointer"},{default:m(()=>[...t[42]||(t[42]=[p("Row Wise",-1)])]),_:1})])],64)):k("",!0)]),o("div",St,[o("div",xt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[43]||(t[43]=[p("Instrument",-1)])]),_:1}),x(o("select",{class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","onUpdate:modelValue":t[10]||(t[10]=s=>e.workSheetTemplate.instrumentUid=s)},[t[44]||(t[44]=o("option",{value:""},"Select Instrument",-1)),(l(!0),n(g,null,w(e.instruments,s=>(l(),n("option",{key:s.uid,value:s.uid},u(s.name),9,_t))),128))],512),[[_,e.workSheetTemplate.instrumentUid]])]),o("div",Ct,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[45]||(t[45]=[p("Sample Type",-1)])]),_:1}),x(o("select",{class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","onUpdate:modelValue":t[11]||(t[11]=s=>e.workSheetTemplate.sampleTypeUid=s)},[t[46]||(t[46]=o("option",{value:""},"Select Sample Type",-1)),(l(!0),n(g,null,w(e.sampleTypes,s=>(l(),n("option",{key:s.uid,value:s.uid},u(s.name),9,Ut))),128))],512),[[_,e.workSheetTemplate.sampleTypeUid]])]),o("div",Wt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[47]||(t[47]=[p("Analysis Service",-1)])]),_:1}),x(o("select",{class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","onUpdate:modelValue":t[12]||(t[12]=s=>e.workSheetTemplate.analysisUid=s)},[t[48]||(t[48]=o("option",{value:""},"Select Service",-1)),(l(!0),n(g,null,w(e.services,s=>(l(),n("option",{key:s.uid,value:s.uid},u(s.name),9,Vt))),128))],512),[[_,e.workSheetTemplate.analysisUid]])])]),o("section",Et,[t[57]||(t[57]=o("hr",{class:"border-t border-border"},null,-1)),t[58]||(t[58]=o("h5",{class:"text-sm font-semibold text-foreground"},"Reserved Positions",-1)),o("div",Lt,[o("div",Mt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[49]||(t[49]=[p("QC Template",-1)])]),_:1}),x(o("select",{class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","onUpdate:modelValue":t[13]||(t[13]=s=>e.workSheetTemplate.qcTemplateUid=s)},[t[50]||(t[50]=o("option",{value:""},"Select QC Template",-1)),(l(!0),n(g,null,w(e.qcTemplates,s=>(l(),n("option",{key:s.uid,value:s.uid},u(s.name),9,Pt))),128))],512),[[_,e.workSheetTemplate.qcTemplateUid]])]),o("div",At,[i(e.Button,{type:"button",variant:"outline",size:"sm",class:"w-full",onClick:t[14]||(t[14]=s=>e.appyQCTemplate())},{default:m(()=>[...t[51]||(t[51]=[p(" Apply ",-1)])]),_:1})]),o("div",Bt,[i(e.Button,{type:"button",variant:"outline",size:"sm",class:"w-full",onClick:t[15]||(t[15]=s=>e.addReserved())},{default:m(()=>[...t[52]||(t[52]=[p(" + Slot ",-1)])]),_:1})])]),e.workSheetTemplate.reserved?.length>0?(l(),n(g,{key:0},[t[56]||(t[56]=o("hr",{class:"border-t border-border"},null,-1)),(l(!0),n(g,null,w(e.workSheetTemplate.reserved,(s,d)=>(l(),n("div",{key:d,class:"grid grid-cols-1 sm:grid-cols-12 gap-4 items-end"},[o("div",Qt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[53]||(t[53]=[p("Position",-1)])]),_:1}),i(e.Input,{modelValue:s.position,"onUpdate:modelValue":f=>s.position=f,modelModifiers:{number:!0},type:"number",min:"1",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",Rt,[i(e.Label,{class:"text-sm font-medium text-foreground"},{default:m(()=>[...t[54]||(t[54]=[p("Blank/Control Level",-1)])]),_:1}),x(o("select",{"onUpdate:modelValue":f=>s.levelUid=f,class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"},[t[55]||(t[55]=o("option",{value:""},"Select Level",-1)),(l(!0),n(g,null,w(e.qcLevels,f=>(l(),n("option",{key:f.uid,value:f.uid},u(f.level),9,Nt))),128))],8,jt),[[_,s.levelUid]])]),o("div",qt,[i(e.Button,{type:"button",variant:"outline",size:"icon-sm",class:"shrink-0 text-destructive border-destructive hover:bg-destructive hover:text-white",onClick:f=>e.removeReserved(d),"aria-label":"Remove slot"},{default:m(()=>[i(e.Trash2,{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128))],64)):k("",!0)]),t[60]||(t[60]=o("hr",{class:"border-t border-border"},null,-1)),i(e.Button,{type:"button",class:"w-full",onClick:t[16]||(t[16]=s=>e.saveForm())},{default:m(()=>[...t[59]||(t[59]=[p(" Save Form ",-1)])]),_:1})])]),_:1})):k("",!0)],64)}const Zt=fe(Ce,[["render",Dt],["__scopeId","data-v-548ca798"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/worksheets/WorkSheetsAdmin.vue"]]);export{Zt as default};
