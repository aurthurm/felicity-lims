import{P as L,e as I,a9 as R,aa as $,Z as v,r as U,o as a,c as r,b as e,a2 as o,a as y,E as d,A as f,C as q,x as z,K as h,V as D,a7 as _,F as x,D as b,a4 as C,z as J,al as K,J as O,X,Y,_ as Z}from"./index-03a7f0eb.js";import{A as j,E as G}from"./clients.mutations-f7f61adc.js";import{u as H}from"./location-ddfa2664.js";import{u as Q}from"./client-519834e4.js";import{h as W,o as tt,a as et}from"./constants-1e14befe.js";const st={class:""},ot={class:"grid grid-cols-12 gap-4 mt-2"},lt={class:"col-span-12"},nt={class:"bg-white rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},it={key:0,class:"py-4 text-center"},at={key:1,class:"grid grid-cols-12 gap-3"},dt={class:"col-span-12 px-3 sm:px-0"},rt={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-gray-700 font-bold"},ut={class:"grid grid-cols-2 mt-2"},mt={class:"col-span-1"},ct={class:"flex"},pt={class:"text-gray-600 text-sm md:text-md"},vt={class:"flex"},ft={class:"text-gray-600 text-sm md:text-md"},xt={class:"flex"},gt={class:"text-gray-600 text-sm md:text-md"},yt={class:"col-span-1"},_t={class:"flex"},bt={class:"text-gray-600 text-sm md:text-md"},Ct={class:"flex"},wt={class:"text-gray-600 text-sm md:text-md"},kt={action:"post",class:"p-1"},Ut={class:"grid grid-cols-2 gap-x-4 mb-4"},ht={class:"block col-span-1 mb-2"},Dt={class:"block col-span-1 mb-2"},Et={class:"grid grid-cols-3 gap-x-4 mb-4"},Pt={class:"block col-span-1 mb-2"},Vt=["value"],Mt={class:"block col-span-1 mb-2"},At=["value"],St={class:"block col-span-1 mb-2"},Tt=["value"],Bt=L({__name:"Client",setup(Nt){const E=X(()=>Y(()=>import("./FelLoadingMessage-343c7df3.js"),["assets/FelLoadingMessage-343c7df3.js","assets/index-03a7f0eb.js","assets/index-81d3252e.css"])),u=H(),{withClientMutation:w}=I(),P=R(),n=Q();$(()=>{n.fetchClientByUid(P.query.clientUid),u.fetchCountries()});let m=v(!1),g=v(!1),k=v(""),l=v({}),c=v(),p=v();function V(i){u.filterProvincesByCountry(c.value)}function M(i){u.filterDistrictsByProvince(p.value)}function A(i,t={}){g.value=i,k.value=`${i?"CREATE":"EDIT"} CLIENT`,m.value=!0,i?l.value={}:(c.value=t?.district?.province?.countryUid,p.value=t?.district?.provinceUid,l.value=t)}function S(){w(j,{payload:{name:l?.value?.name,code:l?.value?.code,districtUid:l?.value?.districtUid}},"createClient").then(i=>n.addClient(i))}function T(){w(G,{uid:l?.value?.uid,payload:{name:l?.value?.name,code:l?.value?.code,districtUid:l?.value?.districtUid}},"updateClient").then(i=>n.updateClient(i))}function B(){g.value&&S(),g.value||T(),m.value=!1,l.value={}}return(i,t)=>{const N=U("font-awesome-icon"),F=U("router-view");return a(),r(x,null,[e("div",st,[e("div",ot,[e("section",lt,[e("div",nt,[o(n).fetchingClient?(a(),r("div",it,[y(o(E),{message:"Fetching client metadata ..."})])):(a(),r("div",at,[e("div",dt,[e("div",rt,[e("span",null,d(o(n).client?.name),1),e("div",null,[f(e("button",{onClick:t[0]||(t[0]=s=>A(!1,o(n).client)),class:"p-1 ml-2 border-white border text-gray-500 text-md rounded-sm transition duration-300 hover:text-sky-800 focus:outline-none"},[y(N,{icon:"fa-edit"})],512),[[q,W(et.UPDATE,tt.CLIENT)]])])]),t[15]||(t[15]=e("hr",null,null,-1)),e("div",ut,[e("div",mt,[e("div",ct,[t[10]||(t[10]=e("span",{class:"text-gray-800 text-sm font-medium w-16"},"Province:",-1)),e("span",pt,d(o(n).client?.name),1)]),e("div",vt,[t[11]||(t[11]=e("span",{class:"text-gray-800 text-sm font-medium w-16"},"District:",-1)),e("span",ft,d(o(n).client?.district?.name),1)]),e("div",xt,[t[12]||(t[12]=e("span",{class:"text-gray-800 text-sm font-medium w-16"},"Code:",-1)),e("span",gt,d(o(n).client?.code),1)])]),e("div",yt,[e("div",_t,[t[13]||(t[13]=e("span",{class:"text-gray-800 text-sm font-medium w-16"},"Email:",-1)),e("span",bt,d(o(n).client?.email),1)]),e("div",Ct,[t[14]||(t[14]=e("span",{class:"text-gray-800 text-sm font-medium w-16"},"Mobile:",-1)),e("span",wt,d(o(n).client?.mobilePhone),1)])])])])]))])])]),y(F)]),o(m)?(a(),z(K,{key:0,onClose:t[9]||(t[9]=s=>_(m)?m.value=!1:m=!1)},{header:h(()=>[e("h3",null,d(o(k)),1)]),body:h(()=>[e("form",kt,[e("div",Ut,[e("label",ht,[t[16]||(t[16]=e("span",{class:"text-gray-700"},"Name",-1)),f(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[1]||(t[1]=s=>o(l).name=s),placeholder:"Name ..."},null,512),[[D,o(l).name]])]),e("label",Dt,[t[17]||(t[17]=e("span",{class:"text-gray-700"},"Code",-1)),f(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[2]||(t[2]=s=>o(l).code=s),placeholder:"Code ..."},null,512),[[D,o(l).code]])])]),e("div",Et,[e("label",Pt,[t[19]||(t[19]=e("span",{class:"text-gray-700"},"Country",-1)),f(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[3]||(t[3]=s=>_(c)?c.value=s:c=s),onChange:t[4]||(t[4]=s=>V(s))},[t[18]||(t[18]=e("option",null,null,-1)),(a(!0),r(x,null,b(o(u).countries,s=>(a(),r("option",{key:s.uid,value:s.uid},d(s.name),9,Vt))),128))],544),[[C,o(c)]])]),e("label",Mt,[t[21]||(t[21]=e("span",{class:"text-gray-700"},"Province",-1)),f(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[5]||(t[5]=s=>_(p)?p.value=s:p=s),onChange:t[6]||(t[6]=s=>M(s))},[t[20]||(t[20]=e("option",null,null,-1)),(a(!0),r(x,null,b(o(u).provinces,s=>(a(),r("option",{key:s.uid,value:s.uid},d(s.name),9,At))),128))],544),[[C,o(p)]])]),e("label",St,[t[23]||(t[23]=e("span",{class:"text-gray-700"},"District",-1)),f(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[7]||(t[7]=s=>o(l).districtUid=s)},[t[22]||(t[22]=e("option",null,null,-1)),(a(!0),r(x,null,b(o(u).districts,s=>(a(),r("option",{key:s.uid,value:s.uid},d(s.name),9,Tt))),128))],512),[[C,o(l).districtUid]])])]),t[24]||(t[24]=e("hr",null,null,-1)),e("button",{type:"button",onClick:t[8]||(t[8]=J(s=>B(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):O("",!0)],64)}}}),qt=Z(Bt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/client/_id/Client.vue"]]);export{qt as default};
