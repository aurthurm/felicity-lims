import{R as D,I as N,n as R,p as H,a8 as j,S as a,a9 as m,aa as k,ab as P}from"./index-fc86f1fc.js";import{C as E,a as F,R as L,b as V,P as $,c as M,V as Q,d as U,I as q}from"./analyses.mutations-0a2cf76f.js";import{R as z,S as G}from"./storage.mutations-ac8fef3b.js";function W(){const c=D(),{withClientMutation:s,withClientQuery:u}=N(),{toastInfo:p}=P(),d=R({samples:H(()=>c.getSamples)}),r=async n=>c.updateSamplesStatus(n),l=async n=>c.updateSampleStatus(n),f=async n=>c.updateSamples(n),h=async n=>c.addSampleClones(n),i=async n=>{n&&c.fetchAnalysisResultsForSample(n)},w=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to cancel these samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel now!",cancelButtonText:"No, do not cancel!"}).then(async t=>{t.isConfirmed&&(s(E,{samples:n},"cancelSamples").then(e=>{e.samples.length<=0||(r(e.samples),l(e.samples[0]),e.samples.length===1&&i(e.samples[0].uid))}),await a.fire("Its Happening!","Your samples have been cancelled.","success").then(e=>{}))})}catch{}},y=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to clone these samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, clone now!",cancelButtonText:"No, do not clone!"}).then(async t=>{t.isConfirmed&&(s(F,{samples:n},"cloneSamples").then(e=>{e.samples.length<=0||h(e.samples)}),await a.fire("Its Happening!","Processing in the background...","success").then(e=>{}))})}catch{}},B=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to reinstate samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reinstate now!",cancelButtonText:"No, do not reinstate!"}).then(async t=>{t.isConfirmed&&(s(L,{samples:n},"reInstateSamples").then(e=>{e.samples.length<=0||(r(e.samples),l(e.samples[0]),e.samples.length===1&&i(e.samples[0].uid))}),await a.fire("Its Happening!","Your samples have been reinstated.","success").then(e=>{}))})}catch{}},C=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to receive samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, receice now!",cancelButtonText:"No, do not receive!"}).then(async t=>{t.isConfirmed&&(s(V,{samples:n},"receiveSamples").then(e=>{e.samples.length<=0||(r(e.samples),l(e.samples[0]),e.samples.length===1&&i(e.samples[0].uid))}),await a.fire("Its Happening!","Your samples have been received.","success").then(e=>{}))})}catch{}},S=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to recover these samples from storage",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recover now!",cancelButtonText:"No, do not recover!"}).then(async t=>{t.isConfirmed&&(s(z,{sampleUids:n},"recoverSamples").then(e=>{e.length<=0||(f(e.samples),e.samples.length===1&&i(e.samples[0].uid))}),await a.fire("Its Happening!","Your samples have been recovered.","success").then(e=>{}))})}catch{}},g=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to publish samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, publish now!",cancelButtonText:"No, do not publish!"}).then(async t=>{t.isConfirmed&&(s($,{samples:n},"publishSamples").then(e=>{p(e.message)}),await a.fire("Its Happening!","Your sample were submitted for impress","success").then(e=>{}))})}catch{}},x=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to download pdfs",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, download now!",cancelButtonText:"No, do not download!"}).then(async t=>{t.isConfirmed&&(u(m,{sampleIds:n},"impressReportsDownload").then(e=>{const o=document.createElement("a");o.href=`data:application/pdf;base64,${e}`,o.setAttribute("download","impress-report.pdf"),o.click()}),await a.fire("Its Happening!","Downloading .....","success").then(e=>{}))})}catch{}},v=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to download this report",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, download now!",cancelButtonText:"No, do not download!"}).then(async t=>{t.isConfirmed&&(u(m,{impressUid:n},"impressReportDownload").then(e=>{const o=document.createElement("a");o.href=`data:application/pdf;base64,${e}`,o.setAttribute("download","impress-report.pdf"),o.click()}),await a.fire("Its Happening!","Downloading .....","success").then(e=>{}))})}catch{}},Y=async n=>{let t=[];try{await u(k,{sampleUids:n},"barcodeSamples").then(e=>t=e)}catch{}return t},T=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to flag as printed",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, flag now!",cancelButtonText:"No, do not flag!"}).then(async t=>{t.isConfirmed&&(s(M,{samples:n},"printSamples").then(e=>{e.samples.length<=0||(r(e.samples),l(e.samples[0]),e.samples.length===1&&i(e.samples[0].uid))}),await a.fire("Its Happening!","Your sample have been marked as printed.","success").then(e=>{}))})}catch{}},b=async n=>{try{await a.fire({title:"Are you sure?",text:"You want to verify sample",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, verify now!",cancelButtonText:"No, do not verify!"}).then(async t=>{t.isConfirmed&&(s(Q,{samples:n},"verifySamples").then(e=>{e.samples.length<=0||(r(e.samples),l(e.samples[0]))}),await a.fire("Its Happening!","Your sample have been verified.","success").then(e=>{}))})}catch{}},I=async n=>{let t=!1;try{await a.fire({title:"Are you sure?",text:"You want to invalidate sample",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject  now!",cancelButtonText:"No, do not reject!"}).then(async e=>{e.isConfirmed&&(s(U,{samples:n},"rejectSamples").then(o=>{t=!0,!(o.samples.length<=0)&&r(o.samples)}),await a.fire("Its Happening!","Your sample(s) have been rejected.","success").then(o=>{}))})}catch{}return t},A=async n=>{let t=[];try{await a.fire({title:"Are you sure?",text:"You want to invalidate sample",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, invalidate now!",cancelButtonText:"No, do not invalidate!"}).then(async e=>{e.isConfirmed&&(s(q,{samples:n},"invalidateSamples").then(o=>{o.samples.length<=0||(r(o.samples),l(o.samples[0]))}),await a.fire("Its Happening!","Your sample(s) have been invalidated.","success").then(o=>{}))})}catch{}return t},_=async n=>{let t=[];try{await a.fire({title:"Are you sure?",text:"You want to store these samples",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, store now!",cancelButtonText:"No, do not store!"}).then(async e=>{e.isConfirmed&&(s(G,{payload:n},"storeSamples").then(o=>{o.samples.length<=0||r(o.samples)}),await a.fire("Its Happening!","Your sample(s) have been added to storage.","success").then(o=>{}))})}catch{}return t};return{...j(d),cancelSamples:w,reInstateSamples:B,receiveSamples:C,recoverSamples:S,verifySamples:b,printSamples:T,publishSamples:g,downloadSamplesImpress:x,downloadImpress:v,barcodeSamples:Y,invalidateSamples:A,rejectSamples:I,storeSamples:_,cloneSamples:y}}export{W as u};
