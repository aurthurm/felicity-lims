const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserPreferences-eNz9kN5H.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/setup-BcFG_bXr.js","assets/Spinner-Bl8RfjFA.js","assets/VersionDisplay-fSS9Mxg0.js","assets/VersionDisplay-C3ZBjCNF.css"])))=>i.map(i=>d[i]);
import{h as D,Y as R,a7 as j,a3 as O,_ as L,r as S,c as l,o as r,C as u,F as m,z as o,a,I as h,K as d,y as I,L as E,N as k,d as V,a0 as W,bW as M,bX as q,u as U,an as T,aT as F,a5 as P,a6 as C,ai as H,M as _,A as p,H as w,D as B,E as z}from"./index-OdhKCqIc.js";import{s as K}from"./index-DJJ2wcNX.js";import{B as X}from"./index-Dj97WNKd.js";import{T as Y,a as G,b as J}from"./TooltipTrigger-BWIYwmnQ.js";import{a as Q}from"./adminLinks-9Rqh8LwB.js";import{C as Z}from"./chevron-right-DQgQPcek.js";import"./PopperContent-BfyCnGUj.js";const $=D("panel-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ee=R({__name:"RightSidebarPanel",props:{title:{type:String,required:!0},icon:{type:String,required:!1},open:{type:Boolean,required:!0},fillParent:{type:Boolean,required:!1,default:!1}},emits:["close"],setup(s,{expose:i,emit:c}){i();const e=s,b=c,v=j(()=>{if(e.fillParent)return{width:"100%",minWidth:"100%",maxWidth:"100%",height:"100%",boxSizing:"border-box"};const f="var(--right-sidebar-panel-width, 320px)";return e.open?{width:f,minWidth:f,maxWidth:f}:{width:"0",minWidth:"0",maxWidth:"0"}}),n={props:e,emit:b,panelStyle:v,get Button(){return O},get PanelRight(){return $}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),te=["aria-label"],ie={class:"flex h-10 shrink-0 items-center justify-between gap-1.5 border-b border-border px-3 py-2 min-w-0"},re={class:"flex items-center gap-2 min-w-0"},oe={key:0,class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-md bg-primary/10"},ae={class:"text-sm font-semibold tracking-tight text-foreground truncate min-w-0"},ne={class:"flex flex-col flex-1 min-h-0 min-w-0 overflow-hidden w-full"},se={class:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden p-3 w-full min-w-0 max-w-full"},le={key:0,class:"flex shrink-0 border-t border-border p-3"};function de(s,i,c,e,b,v){const n=S("font-awesome-icon");return r(),l("div",{class:k(["right-sidebar-panel bg-background border-sidebar-border flex flex-col border-l overflow-hidden shrink-0",[c.fillParent?"h-full shrink-0":"shrink-0 transition-[width] duration-200 ease-linear"]]),style:E(e.panelStyle),role:"region","aria-label":c.open?`${c.title} panel`:void 0},[c.open?(r(),l(m,{key:0},[o("header",ie,[o("div",re,[c.icon?(r(),l("div",oe,[a(n,{icon:c.icon,class:"size-3.5 text-primary","aria-hidden":"true"},null,8,["icon"])])):u("",!0),o("h2",ae,h(c.title),1)]),a(e.Button,{variant:"ghost",size:"icon",class:"h-7 w-7 shrink-0","aria-label":"Close",onClick:i[0]||(i[0]=f=>e.emit("close"))},{default:d(()=>[a(e.PanelRight,{class:"size-3.5"})]),_:1})]),o("div",ne,[o("div",se,[I(s.$slots,"default")]),s.$slots.footer?(r(),l("footer",le,[I(s.$slots,"footer")])):u("",!0)])],64)):u("",!0)],14,te)}const ce=L(ee,[["render",de],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/components/ui/sidebar/RightSidebarPanel.vue"]]),he=V("notification",{state:()=>({notifications:[],show:!1}),getters:{getNotifications:s=>s.notifications,getShow:s=>s.show},actions:{showNotifications(s){this.show=s},addNotification(s){s&&(this.notifications.push(s),this.show=!0)},removeNotification(s){if(!s)return;const i=this.notifications.findIndex(c=>c.uid===s);i>-1&&(this.notifications.splice(i,1),this.notifications.length===0&&(this.show=!1))},clearNotifications(){this.notifications=[],this.show=!1}}}),fe=R({__name:"NavigationRightSidebar",props:{rightPanelOpen:{type:Boolean,default:!1},rightPanelOpenModifiers:{}},emits:["update:rightPanelOpen"],setup(s,{expose:i}){i();const c=P(()=>C(()=>import("./UserPreferences-eNz9kN5H.js"),__vite__mapDeps([0,1,2,3,4]))),e=P(()=>C(()=>import("./VersionDisplay-fSS9Mxg0.js"),__vite__mapDeps([5,1,2,6]))),b=g=>{switch(g){case"errors":return"Errors";case"notifications":return"Notifications";case"preferences":return"Preferences";case"settings":return"Settings";case"version":return"Felicity Version";default:return""}},v=g=>{switch(g){case"errors":return"exclamation-circle";case"notifications":return"bell";case"preferences":return"user-gear";case"settings":return"cog";case"version":return"tag";default:return"user"}},n=W(null),f=M(s,"rightPanelOpen"),t=he(),x=q(),{errors:y,clearErrors:A}=U();T(()=>t.show,g=>{g&&(n.value="notifications")}),T(n,g=>{f.value=g!==null},{immediate:!0});const N={UserPreferences:c,VersionDisplay:e,rightSidebarTitle:b,rightSidebarIcon:v,openSheet:n,rightPanelOpen:f,notificationStore:t,streamStore:x,errors:y,clearErrors:A,open:g=>{n.value=g},close:()=>{n.value==="notifications"&&t.showNotifications(!1),n.value=null},rightNavItems:[{id:"errors",label:"Errors",icon:"exclamation-circle",ariaLabel:"Show errors",badge:()=>y.value?.length??0,showBadge:()=>(y.value?.length??0)>0,show:()=>!0},{id:"notifications",label:"Notifications",icon:"bell",ariaLabel:"Show notifications",badge:()=>t.getNotifications.length,showBadge:()=>t.getNotifications.length>0,show:()=>!0},{id:"preferences",label:"Preferences",icon:"user-gear",ariaLabel:"Preferences",badge:()=>0,showBadge:()=>!1,show:()=>!0},{id:"settings",label:"Settings",icon:"cog",ariaLabel:"Settings",badge:()=>0,showBadge:()=>!1,show:()=>F(H.ADMINISTRATION)}],versionNavItem:{id:"version",label:"Version",icon:"tag",ariaLabel:"Version & updates",badge:()=>0,showBadge:()=>!1,show:()=>!0},get guards(){return K},get Button(){return O},get Badge(){return X},get Tooltip(){return J},get TooltipContent(){return G},get TooltipTrigger(){return Y},get ChevronRight(){return Z},get RightSidebarPanel(){return ce},get adminLinksConfig(){return Q}};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),ge={class:"right-sidebar-wrapper flex shrink-0",style:{"--right-sidebar-panel-width":"320px"}},ue={class:"right-sidebar-panel-fixed fixed inset-y-0 z-5 flex flex-col overflow-hidden",style:{right:"var(--right-sidebar-width, 3rem)",width:"var(--right-sidebar-panel-width)",minWidth:"var(--right-sidebar-panel-width)",maxWidth:"var(--right-sidebar-panel-width)"}},me={class:"w-full min-w-0 max-w-full overflow-x-hidden"},pe={key:0,class:"flex flex-col items-center justify-center py-8 text-center"},be={key:1,class:"divide-y divide-border space-y-1",role:"list","aria-label":"Error messages"},ve={class:"whitespace-pre-wrap wrap-break-word min-w-0"},xe={key:1,class:"space-y-1.5"},_e={key:0,class:"flex flex-col items-center justify-center py-8 text-center px-1"},we={class:"rounded-full bg-muted p-3 mb-3"},ye=["aria-label"],Se={class:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10","aria-hidden":"true"},ke={class:"min-w-0 flex-1 space-y-0.5 overflow-hidden"},Ne={class:"text-xs leading-snug text-foreground line-clamp-2 wrap-break-word"},Ie={class:"font-medium text-foreground"},Te={class:"mx-0.5 text-destructive italic"},Pe={class:"text-muted-foreground"},Ce={class:"ml-0.5 font-medium text-foreground"},Be={key:2,class:"flex flex-col gap-0.5"},ze={class:"truncate min-w-0"},Re={key:0,class:"flex flex-wrap gap-1.5"},Oe={class:"fixed right-0 top-0 bottom-0 z-30 flex h-svh shrink-0 flex-col border-l border-border bg-sidebar py-2 w-(--right-sidebar-width) min-w-(--right-sidebar-width) transition-[width] duration-200 ease-linear",role:"navigation","aria-label":"Right sidebar"},Le={class:"flex flex-1 flex-col items-center gap-1 px-2"},Ae={class:"mt-auto flex flex-col items-center gap-1 px-2 pb-2"};function De(s,i,c,e,b,v){const n=S("font-awesome-icon"),f=S("router-link");return r(),l("div",ge,[o("div",ue,[a(e.RightSidebarPanel,{open:e.openSheet!==null,title:e.rightSidebarTitle(e.openSheet),icon:e.rightSidebarIcon(e.openSheet),"fill-parent":"",onClose:e.close},{default:d(()=>[o("div",me,[e.openSheet==="errors"?(r(),l(m,{key:0},[e.errors.length===0?(r(),l("div",pe,[...i[2]||(i[2]=[o("p",{class:"text-xs text-muted-foreground"},"No errors to display",-1)])])):(r(),l("div",be,[(r(!0),l(m,null,w(e.errors,(t,x)=>(r(),l("div",{key:x,class:"flex items-start gap-1.5 py-2 text-xs text-destructive"},[a(e.ChevronRight,{class:"mt-0.5 size-3 shrink-0 text-destructive","aria-hidden":"true"}),o("span",ve,h(t),1)]))),128))]))],64)):e.openSheet==="notifications"?(r(),l("div",xe,[e.streamStore.streams?.length?u("",!0):(r(),l("div",_e,[o("div",we,[a(n,{icon:"bell",class:"text-lg text-muted-foreground","aria-hidden":"true"})]),i[3]||(i[3]=o("p",{class:"text-xs font-medium text-foreground"},"No notifications yet",-1)),i[4]||(i[4]=o("p",{class:"mt-1 text-[11px] text-muted-foreground"}," When you receive activity updates, they'll appear here. ",-1))])),(r(!0),l(m,null,w(e.streamStore.streams,t=>(r(),l("article",{key:t?.uid,class:"flex gap-2 rounded-md border border-border bg-card p-3 shadow-sm transition-colors hover:bg-accent/50","aria-label":`Notification from ${t?.actor?.firstName} ${t?.actor?.lastName}`},[o("div",Se,[a(n,{icon:"user",class:"size-3 text-primary","aria-hidden":"true"})]),o("div",ke,[o("p",Ne,[o("span",Ie,h(t?.actor?.firstName)+" "+h(t?.actor?.lastName),1),o("span",Te,h(t.verb),1),o("span",Pe,h(t.actionObjectType),1),o("span",Ce,h(t?.actionObject?.sample?.sampleId??t?.actionObject?.sampleId??t?.actionObject?.sampleUid??t?.actionObject?.worksheetId),1)])])],8,ye))),128))])):e.openSheet==="settings"?(r(),l("div",Be,[B(a(f,{to:"/admin",class:"flex items-center gap-2 rounded-sm px-2 py-2 text-sm font-medium transition-colors hover:bg-accent/50"},{default:d(()=>[a(n,{icon:"house",class:"size-4 shrink-0 text-muted-foreground","aria-hidden":"true"}),i[5]||(i[5]=o("span",{class:"truncate"},"Home",-1)),a(n,{icon:"chevron-right",class:"ml-auto size-3.5 shrink-0 text-muted-foreground","aria-hidden":"true"})]),_:1},512),[[z,e.guards.canAccessPage(e.guards.pages.ADMINISTRATION)]]),(r(!0),l(m,null,w(e.adminLinksConfig,t=>B((r(),p(f,{key:t.path,to:t.path,class:"flex items-center gap-2 rounded-sm px-2 py-2 text-sm font-medium transition-colors hover:bg-accent/50"},{default:d(()=>[a(n,{icon:t.icon,class:"size-4 shrink-0 text-muted-foreground","aria-hidden":"true"},null,8,["icon"]),o("span",ze,h(t.title),1),a(n,{icon:"chevron-right",class:"ml-auto size-3.5 shrink-0 text-muted-foreground","aria-hidden":"true"})]),_:2},1032,["to"])),[[z,e.guards.canAccessPage(e.guards.pages.ADMINISTRATION)]])),128))])):e.openSheet==="preferences"?(r(),p(e.UserPreferences,{key:3,compact:""})):e.openSheet==="version"?(r(),p(e.VersionDisplay,{key:4})):u("",!0)])]),footer:d(()=>[e.openSheet==="errors"?(r(),l("div",Re,[a(e.Button,{variant:"destructive",size:"sm",class:"h-7 text-xs px-2",disabled:e.errors.length===0,"aria-label":"Clear all errors",onClick:i[0]||(i[0]=t=>e.clearErrors())},{default:d(()=>[a(n,{icon:"trash-alt",class:"mr-1 size-3","aria-hidden":"true"}),i[6]||(i[6]=_(" Clear all ",-1))]),_:1},8,["disabled"])])):u("",!0)]),_:1},8,["open","title","icon"])]),i[7]||(i[7]=o("div",{class:"w-(--right-sidebar-width) min-w-(--right-sidebar-width) shrink-0 bg-transparent","aria-hidden":"true"},null,-1)),o("aside",Oe,[o("div",Le,[(r(),l(m,null,w(e.rightNavItems,t=>(r(),l(m,{key:t.id},[t.show()?(r(),p(e.Tooltip,{key:0},{default:d(()=>[a(e.TooltipTrigger,{"as-child":""},{default:d(()=>[a(e.Button,{variant:"ghost",size:"icon",class:k(["relative h-10 w-10 rounded-lg",e.openSheet===t.id&&"bg-sidebar-accent text-sidebar-accent-foreground",t.id==="errors"&&(e.errors.length>0?"text-destructive":"text-destructive/70")]),"aria-label":t.ariaLabel,"aria-expanded":e.openSheet===t.id,onClick:x=>e.open(e.openSheet===t.id?null:t.id)},{default:d(()=>[a(n,{icon:t.icon,class:"size-5 shrink-0","aria-hidden":"true"},null,8,["icon"]),t.showBadge()?(r(),p(e.Badge,{key:0,variant:t.id==="errors"?"destructive":"secondary",class:"absolute -right-0.5 -top-0.5 size-4 min-w-4 justify-center rounded-full p-0 text-[10px]"},{default:d(()=>[_(h(t.badge()),1)]),_:2},1032,["variant"])):u("",!0)]),_:2},1032,["class","aria-label","aria-expanded","onClick"])]),_:2},1024),a(e.TooltipContent,{side:"left",align:"center"},{default:d(()=>[_(h(t.label),1)]),_:2},1024)]),_:2},1024)):u("",!0)],64))),64))]),o("div",Ae,[e.versionNavItem.show()?(r(),p(e.Tooltip,{key:0},{default:d(()=>[a(e.TooltipTrigger,{"as-child":""},{default:d(()=>[a(e.Button,{variant:"ghost",size:"icon",class:k(["relative h-10 w-10 rounded-lg",e.openSheet===e.versionNavItem.id&&"bg-sidebar-accent text-sidebar-accent-foreground"]),"aria-label":e.versionNavItem.ariaLabel,"aria-expanded":e.openSheet===e.versionNavItem.id,onClick:i[1]||(i[1]=t=>e.open(e.openSheet===e.versionNavItem.id?null:e.versionNavItem.id))},{default:d(()=>[a(n,{icon:e.versionNavItem.icon,class:"size-5 shrink-0","aria-hidden":"true"},null,8,["icon"])]),_:1},8,["class","aria-label","aria-expanded"])]),_:1}),a(e.TooltipContent,{side:"left",align:"center"},{default:d(()=>[_(h(e.versionNavItem.label),1)]),_:1})]),_:1})):u("",!0)])])])}const Ye=L(fe,[["render",De],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/components/nav/NavigationRightSidebar.vue"]]);export{Ye as default};
