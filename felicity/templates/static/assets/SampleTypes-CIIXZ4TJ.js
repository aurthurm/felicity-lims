import{Y as A,P as D,u as E,a0 as T,a7 as L,a3 as H,_ as N,r as m,c as k,o as x,z as f,A as I,C as V,a as e,K as a,M as r,F as B,H as q,I as y,B as U,a4 as h}from"./index-OdhKCqIc.js";import{u as R,v as z}from"./analyses.mutations-DUxQZn1r.js";import{c as Y,f as K,a as C,u as O,F as G}from"./index.esm-BfHj8iGm.js";import{I as J}from"./Input-BEm5S0CJ.js";import{T as Q}from"./Textarea-T3VcJTEo.js";import{F as W,a as X,b as Z}from"./FormMessage-CgXFMXx9.js";import{F as j}from"./FormLabel-DxP9wnWS.js";import{P as $}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const ee=A({__name:"SampleTypes",setup(P,{expose:l}){l();const p=D(),{withClientMutation:t}=E();let c=T(!1),g=T("");const s=T(!0),d=T(null),_=Y({name:C().required("Sample type name is required"),abbr:C().required("Prefix is required"),description:C().nullable(),active:K().nullable()}),{handleSubmit:u,resetForm:F,setValues:v}=O({validationSchema:_,initialValues:{name:"",abbr:"",description:"",active:!0}});p.fetchSampleTypes();const S=L(()=>p.getSampleTypes);function w(n,i={}){s.value=n,c.value=!0,g.value=(n?"CREATE":"EDIT")+" SAMPLE TYPE",n?(d.value=null,F({values:{name:"",abbr:"",description:"",active:!0}})):(d.value=i.uid??null,v({name:i.name??"",abbr:i.abbr??"",description:i.description??"",active:i.active??!0}))}const o=u(n=>{const i={name:n.name,abbr:n.abbr,description:n.description,active:n.active};if(s.value===!0&&t(R,{payload:i},"createSampleType").then(M=>p.addSampleType(M)),s.value===!1){if(!d.value)return;t(z,{uid:d.value,payload:i},"updateSampleType").then(M=>p.updateSampleType(M))}c.value=!1}),b={sampleStore:p,withClientMutation:t,get showModal(){return c},set showModal(n){c=n},get formTitle(){return g},set formTitle(n){g=n},formAction:s,currentUid:d,formSchema:_,handleSubmit:u,resetForm:F,setValues:v,sampleTypes:S,FormManager:w,saveForm:o,get Button(){return H},get Input(){return J},get Textarea(){return Q},get FormControl(){return Z},get FormField(){return G},get FormItem(){return X},get FormLabel(){return j},get FormMessage(){return W},PageHeading:$};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),te={class:"space-y-6"},ae={class:"border border-border bg-card rounded-lg shadow-md"},le={class:"relative w-full overflow-auto"},oe={class:"text-xl font-semibold text-foreground"},re={class:"grid grid-cols-1 gap-4"},ne={class:"flex justify-end"};function se(P,l,p,t,c,g){const s=m("TableHead"),d=m("TableRow"),_=m("TableHeader"),u=m("TableCell"),F=m("TableBody"),v=m("Table"),S=m("Switch"),w=m("Modal");return x(),k(B,null,[f("div",te,[e(t.PageHeading,{title:"Sample Types"},{default:a(()=>[e(t.Button,{onClick:l[0]||(l[0]=o=>t.FormManager(!0))},{default:a(()=>[...l[3]||(l[3]=[r("Add Sample Type",-1)])]),_:1})]),_:1}),f("div",ae,[f("div",le,[e(v,{class:"w-full caption-bottom text-sm"},{default:a(()=>[e(_,{class:"[&_tr]:border-b"},{default:a(()=>[e(d,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[e(s,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...l[4]||(l[4]=[r("Sample Type",-1)])]),_:1}),e(s,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...l[5]||(l[5]=[r("Prefix",-1)])]),_:1}),e(s,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...l[6]||(l[6]=[r("Active",-1)])]),_:1}),e(s,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:a(()=>[...l[7]||(l[7]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),e(F,{class:"[&_tr:last-child]:border-0"},{default:a(()=>[(x(!0),k(B,null,q(t.sampleTypes,o=>(x(),I(d,{key:o?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[e(u,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm font-medium"},{default:a(()=>[r(y(o?.name),1)]),_:2},1024),e(u,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-primary"},{default:a(()=>[r(y(o?.abbr),1)]),_:2},1024),e(u,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-primary"},{default:a(()=>[r(y(o?.active),1)]),_:2},1024),e(u,{class:"px-4 py-3 align-middle text-right"},{default:a(()=>[e(t.Button,{variant:"outline",size:"sm",onClick:b=>t.FormManager(!1,o)},{default:a(()=>[...l[8]||(l[8]=[r(" Edit ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t.showModal?(x(),I(w,{key:0,onClose:l[2]||(l[2]=o=>t.showModal=!1)},{header:a(()=>[f("h3",oe,y(t.formTitle),1)]),body:a(()=>[f("form",{onSubmit:l[1]||(l[1]=U((...o)=>t.saveForm&&t.saveForm(...o),["prevent"])),class:"space-y-6 p-4"},[f("div",re,[e(t.FormField,{name:"name"},{default:a(({componentField:o})=>[e(t.FormItem,null,{default:a(()=>[e(t.FormLabel,null,{default:a(()=>[...l[9]||(l[9]=[r("Sample Type Name",-1)])]),_:1}),e(t.FormControl,null,{default:a(()=>[e(t.Input,h(o,{placeholder:"Name ..."}),null,16)]),_:2},1024),e(t.FormMessage)]),_:2},1024)]),_:1}),e(t.FormField,{name:"abbr"},{default:a(({componentField:o})=>[e(t.FormItem,null,{default:a(()=>[e(t.FormLabel,null,{default:a(()=>[...l[10]||(l[10]=[r("Prefix",-1)])]),_:1}),e(t.FormControl,null,{default:a(()=>[e(t.Input,h(o,{placeholder:"Prefix ..."}),null,16)]),_:2},1024),e(t.FormMessage)]),_:2},1024)]),_:1}),e(t.FormField,{name:"description"},{default:a(({componentField:o})=>[e(t.FormItem,null,{default:a(()=>[e(t.FormLabel,null,{default:a(()=>[...l[11]||(l[11]=[r("Description",-1)])]),_:1}),e(t.FormControl,null,{default:a(()=>[e(t.Textarea,h(o,{placeholder:"Description ...",rows:"3"}),null,16)]),_:2},1024),e(t.FormMessage)]),_:2},1024)]),_:1}),e(t.FormField,{name:"active"},{default:a(({value:o,handleChange:b})=>[e(t.FormItem,{class:"flex items-center gap-2"},{default:a(()=>[e(t.FormControl,null,{default:a(()=>[e(S,{checked:o,"onUpdate:checked":b},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(t.FormLabel,null,{default:a(()=>[...l[12]||(l[12]=[r("Active",-1)])]),_:1}),e(t.FormMessage)]),_:2},1024)]),_:1})]),f("div",ne,[e(t.Button,{type:"submit"},{default:a(()=>[...l[13]||(l[13]=[r("Save Sample Type",-1)])]),_:1})])],32)]),_:1})):V("",!0)],64)}const _e=N(ee,[["render",se],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/sample/SampleTypes.vue"]]);export{_e as default};
