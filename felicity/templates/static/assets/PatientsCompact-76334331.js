import{P as $,ai as Q,Z as x,f as H,h as k,aa as K,r as z,$ as J,o,c as _,a as f,b as t,x as g,K as h,L as X,J as y,A,a2 as I,F as Y,D as Z,X as a,aT as q,aU as W,a1 as ee,E as r,Y as n,_ as te}from"./index-fa13e788.js";import{u as se}from"./patient-e71a969e.js";import{u as oe}from"./location-80f34c04.js";import{h as T,o as L,a as w}from"./constants-68671847.js";const S=m=>(q("data-v-81af20fc"),m=m(),W(),m),ae={class:"p-4"},ne={class:"flex justify-between mb-4"},ie={class:"flex items-center gap-4"},re=S(()=>t("hr",{class:"my-4"},null,-1)),le={class:"grid grid-cols-12 gap-4"},ce={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 h-screen overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},de=["onClick"],_e={class:"flex-grow p-3"},ue={class:"flex justify-between font-semibold"},pe={class:"text-sm text-gray-500"},me={class:"text-sm text-gray-500 flex justify-between mt-1"},ve={class:"text-sm text-gray-500 flex justify-between mt-1"},fe={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9"},ye=S(()=>t("h3",null,"Patient Form",-1)),ge=$({__name:"PatientsCompact",setup(m){const v={MALE:0,FEMALE:1,MISSING:2,TRANS:3},R={[v.MALE]:"Male",[v.FEMALE]:"Female",[v.MISSING]:"Missing",[v.TRANS]:"Trans Gender"},l={LoadingMessage:a(()=>n(()=>import("./FelLoadingMessage-c4848162.js"),["assets/FelLoadingMessage-c4848162.js","assets/index-fa13e788.js","assets/index-ccc6a521.css"])),PageHeading:a(()=>n(()=>import("./index-fa13e788.js").then(e=>e.cM),["assets/index-fa13e788.js","assets/index-ccc6a521.css"])),Modal:a(()=>n(()=>import("./index-fa13e788.js").then(e=>e.cN),["assets/index-fa13e788.js","assets/index-ccc6a521.css"])),PatientForm:a(()=>n(()=>import("./PatientForm-8678e5af.js"),["assets/PatientForm-8678e5af.js","assets/index-fa13e788.js","assets/index-ccc6a521.css","assets/vue-multiselect.esm-d8a2873c.js","assets/patient.mutations-914ca4d1.js","assets/client-c277185d.js","assets/location-80f34c04.js","assets/patient-e71a969e.js","assets/array-5698c257.js","assets/vue-multiselect-a538cd7c.css"])),PatientInfo:a(()=>n(()=>import("./PatientInfo-2d7648a2.js"),["assets/PatientInfo-2d7648a2.js","assets/index-fa13e788.js","assets/index-ccc6a521.css","assets/constants-68671847.js","assets/patient-e71a969e.js"])),Tabs:a(()=>n(()=>import("./FelTabs-c8573257.js"),["assets/FelTabs-c8573257.js","assets/index-fa13e788.js","assets/index-ccc6a521.css","assets/FelTabs-e0c91a0a.css"]))},u=se(),C=oe(),{patients:D,fetchingPatients:N}=Q(u),p=x(!1),i=x({}),c=H({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),M=k(()=>Object.keys(i.value).length>0),V=k(()=>[{id:"samples",label:"Samples",component:a(()=>n(()=>import("./FelAnalyisRequestListing-6944e92b.js"),["assets/FelAnalyisRequestListing-6944e92b.js","assets/index-fa13e788.js","assets/index-ccc6a521.css"])),props:{target:"patient-samples",targetUid:i.value.uid}},{id:"billing",label:"Billing",component:a(()=>n(()=>import("./PatientBill-732857e1.js"),["assets/PatientBill-732857e1.js","assets/index-fa13e788.js","assets/index-ccc6a521.css","assets/billing-92650e42.js","assets/array-5698c257.js","assets/PatientBill-7bdbff76.css"])),props:{patientUid:i.value.uid}},{id:"logs",label:"Logs",component:a(()=>n(()=>import("./FelAuditLog-7189bc1e.js"),["assets/FelAuditLog-7189bc1e.js","assets/index-fa13e788.js","assets/index-ccc6a521.css","assets/user-c399b7d7.js","assets/_queries-fa6c96fd.js"])),props:{targetType:"patient",targetUid:i.value.uid}}]),F=e=>`${e.firstName} ${e.lastName}`,O=e=>R[e]||"Unknown",b=e=>{i.value=e,u.setPatient(e)},P=()=>{i.value={},u.resetPatient()},B=e=>{const d=e.target;c.first=100,c.before="",c.text=d.value,c.filterAction=!0,u.fetchPatients(c)},j=async()=>{P(),p.value=!0},G=e=>{b(e),p.value=!1};return K(()=>{C.fetchCountries(),u.fetchPatients(c)}),(e,d)=>{const U=z("router-link"),E=J("motion");return o(),_("div",ae,[f(l.PageHeading,{title:"Patients Quick View"}),t("div",ne,[t("div",ie,[T(w.CREATE,L.PATIENT)?(o(),g(U,{key:0,to:"/patients/search",class:"px-4 py-2 text-sm border border-sky-800 text-dark-800 rounded-sm hover:bg-sky-800 hover:text-gray-100 transition-colors duration-150"},{default:h(()=>[X(" Add Patient ")]),_:1})):y("",!0),t("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-gray-800 placeholder-gray-400 border border-gray-400 rounded-sm focus:border-sky-800 focus:outline-none focus:ring-1 focus:ring-sky-800",onKeyup:B,onFocus:P},null,32)]),T(w.CREATE,L.PATIENT)?(o(),_("button",{key:0,class:"px-4 py-2 text-sm border border-sky-800 text-dark-700 rounded-sm hover:bg-sky-800 hover:text-gray-100 transition-colors duration-150",onClick:j}," Quick Registration ")):y("",!0)]),re,t("div",le,[A((o(),_("section",ce,[I(N)?(o(),g(l.LoadingMessage,{key:0,message:"Fetching patients..."})):(o(!0),_(Y,{key:1},Z(I(D),s=>(o(),_("div",{key:s.patientId,onClick:he=>b(s),class:ee(["bg-white w-full flex items-center mb-1 rounded-sm shadow border cursor-pointer transition-colors duration-150 hover:border-sky-800 hover:bg-sky-50",{"border-sky-800 bg-emerald-200":s.uid===i.value?.uid}])},[t("div",_e,[t("div",ue,[t("span",null,r(F(s)),1),t("span",pe,r(s.age)+" yrs, "+r(O(s.gender)),1)]),t("div",me,[t("span",null,r(s.patientId),1),t("span",null,r(s.clientPatientId),1)]),t("div",ve,[t("span",null,r(s?.client?.district?.province?.name),1),t("span",null,r(s?.client?.name),1)])])],10,de))),128))])),[[E]]),M.value?A((o(),_("section",fe,[f(l.PatientInfo,{onEditPatient:d[0]||(d[0]=s=>p.value=!0)}),f(l.Tabs,{tabs:V.value,"initial-tab":"samples"},null,8,["tabs"])])),[[E]]):y("",!0)]),p.value?(o(),g(l.Modal,{key:0,onClose:d[1]||(d[1]=s=>p.value=!1),"content-width":"w-3/6"},{header:h(()=>[ye]),body:h(()=>[f(l.PatientForm,{patient:i.value,navigate:!1,onClose:G},null,8,["patient"])]),_:1})):y("",!0)])}}});const ke=te(ge,[["__scopeId","data-v-81af20fc"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{ke as default};
