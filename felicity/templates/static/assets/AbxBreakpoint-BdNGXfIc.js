const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FelDataTable-DuhKEezJ.js","assets/index-CNAOKjig.js","assets/index-vawJu9QC.css","assets/vue-multiselect.esm-BoOjdWpS.js"])))=>i.map(i=>d[i]);
import{a0 as W,f as Y,a7 as r,g as S,h as z,ad as J,a1 as _,a6 as O,ak as I,_ as K,r as w,c as Q,o as P,A as o,C as X,E as Z,a as p,N as x,P as $,D as ee,F as a,a2 as d,L as oe,J as te}from"./index-CNAOKjig.js";import{i as ne,a4 as se,a5 as le,c as ie,a6 as re,a7 as ae,a8 as de,a9 as fe}from"./microbiology.mutations-Sq_uOjPv.js";const ue=W({__name:"AbxBreakpoint",setup(G,{expose:e}){e();const A=_(()=>O(()=>import("./FelDataTable-DuhKEezJ.js"),__vite__mapDeps([0,1,2]))),t=_(()=>O(()=>import("./vue-multiselect.esm-BoOjdWpS.js"),__vite__mapDeps([3,1,2]))),{withClientMutation:v,withClientQuery:b}=Y();let m=r(!1),c=r(""),l=S({});const s=r(!0),C=r(!1),f=r([]),T=r([]),E=r([]),M=r([]),V=r([]),U=r([]);let i=S({first:50,after:"",text:"",sortBy:["-guideline_year___year"],filterAction:!1});const B=r(0);let y=r({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const N=z(()=>f?.value?.length+" of "+B.value+" antibiotics"),F=r([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Guideline",value:"guidelineYear.code",sortable:!1,sortBy:"asc",hidden:!1},{name:"Test Method",value:"testMethod.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Potency",value:"potency",sortable:!1,sortBy:"asc",hidden:!1},{name:"OrganismCode",value:"organismCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"OrganismCodeType",value:"organismCodeType",sortable:!1,sortBy:"asc",hidden:!1},{name:"BreakpointType",value:"breakpointType.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Host",value:"host.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"SiteOfInfection",value:"siteOfInfection.name",sortable:!1,sortBy:"asc",hidden:!0},{name:"ReferenceTable",value:"referenceTable",sortable:!1,sortBy:"asc",hidden:!0},{name:"ReferenceSequence",value:"referenceSequence",sortable:!1,sortBy:"asc",hidden:!0},{name:"WhonetAbxCode",value:"whonetAbxCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"R",value:"r",sortable:!1,sortBy:"asc",hidden:!1},{name:"I",value:"i",sortable:!1,sortBy:"asc",hidden:!1},{name:"SDD",value:"sdd",sortable:!1,sortBy:"asc",hidden:!1},{name:"S",value:"s",sortable:!1,sortBy:"asc",hidden:!1},{name:"EcvEcoff",value:"ecvEcoff",sortable:!1,sortBy:"asc",hidden:!0},{name:"ecvEcoffTentative",value:"EcvEcoffTentative",sortable:!1,sortBy:"asc",hidden:!0}]);function h(n){b(ae,{text:n.text,pageSize:n.first,sortBy:n.sortBy},void 0).then(u=>{const g=u.abxBreakpointAll,k=g.items;n.filterAction?(f.value=[],f.value=k):f.value=I(f.value,k,"uid"),B.value=g?.totalCount,y.value=g?.pageInfo}).finally(()=>{C.value=!1})}J(()=>{b(ne,{},"abxGuidelinesAll").then(n=>{n&&(T.value=n)}),h(i),b(se,{},"abxHostAll").then(n=>{n&&(E.value=n)}),b(le,{},"abxSiteOfInfectionAll").then(n=>{n&&(V.value=n)}),b(ie,{},"abxTestMethodAll").then(n=>{n&&(U.value=n)}),b(re,{},"abxBreakpointTypeAll").then(n=>{n&&(M.value=n)})});function R(n){i.first=100,i.after="",i.text=n.filterText,i.filterAction=!0,h(i)}function q(n){i.first=n.fetchCount,i.after=y?.value?.endCursor,i.text=n.filterText,i.filterAction=!1,h(i)}const j=()=>Object.assign(l,{});function H(n,u={}){s.value=n,m.value=!0,c.value=(n?"Create":"Edit")+" Breakpoint",n?Object.assign(l,{}):Object.assign(l,{...u})}function L(){const n={guidelineUid:l.guidelineUid,year:l.year,testMethod:l.testMethod,potency:l.potency,organismCode:l.organismCode,organismCodeType:l.organismCodeType,breakpointTypeUid:l.breakpointTypeUid,hostUid:l.hostUid,siteOfInfectionUid:l.siteOfInfectionUid,referenceTable:l.referenceTable,referenceSequence:l.referenceSequence,whonetAbxCode:l.whonetAbxCode,comments:l.comments,r:l.r,i:l.i,sdd:l.sdd,s:l.s,ecvEcoff:l.ecvEcoff,ecvEcoffTentative:l.ecvEcoffTentative};s.value===!0&&v(de,{payload:n},"createAbxBreakpoint").then(u=>{u&&(f.value=I(f.value,[u],"uid"))}),s.value===!1&&v(fe,{uid:l.uid,payload:n},"updateAbxBreakpoint").then(u=>{if(u){const g=f.value.findIndex(k=>k.uid==u.uid);f.value[g]=u}}),m.value=!1}const D={DataTable:A,VueMultiselect:t,withClientMutation:v,withClientQuery:b,get showModal(){return m},set showModal(n){m=n},get formTitle(){return c},set formTitle(n){c=n},get form(){return l},set form(n){l=n},formAction:s,fetchingBreakpoints:C,antibiotics:f,abxGuidelines:T,abxHosts:E,abxBreakpointTypes:M,abxSiteOfInfections:V,abxTestMethods:U,get abxParams(){return i},set abxParams(n){i=n},antibioticCount:B,get antibioticPageInfo(){return y},set antibioticPageInfo(n){y=n},countNone:N,tableColumns:F,fetchBreakpoints:h,searchBreakpoints:R,showMoreBreakpoints:q,resetBreakpoint:j,FormManager:H,saveForm:L};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),be={class:"space-y-6"},me={class:"rounded-lg shadow-sm bg-card p-6"},ce={class:"text-xl font-semibold text-foreground"},ge={class:"space-y-4"},pe={class:"grid grid-cols-2 gap-4"},xe={class:"block"},ve={class:"block"},ye={class:"space-y-4"},he={class:"grid grid-cols-3 gap-4"},ke={class:"block"},Be={class:"block"},we={class:"block"},Ae={class:"block"},Ce={class:"block"},Te={class:"block"},Ee={class:"block"},Me={class:"block"},Ve={class:"block"},Ue={class:"block"},De={class:"block"};function Se(G,e,A,t,v,b){const m=w("fel-button"),c=w("fel-heading"),l=w("fel-modal");return P(),Q(te,null,[o("div",be,[p(c,{title:"Antibiotic Breakpoints"},{default:x(()=>[p(m,{onClick:e[0]||(e[0]=s=>t.FormManager(!0))},{default:x(()=>[...e[15]||(e[15]=[$("Add Breakpoint",-1)])]),_:1})]),_:1}),o("div",me,[p(t.DataTable,{columns:t.tableColumns,data:t.antibiotics,toggleColumns:!0,loading:t.fetchingBreakpoints,paginable:!0,pageMeta:{fetchCount:t.abxParams.first,hasNextPage:!0,countNone:t.countNone},searchable:!0,filterable:!1,onOnSearchKeyUp:t.searchBreakpoints,onOnSearchFocus:t.resetBreakpoint,onOnPaginate:t.showMoreBreakpoints,selectable:!1},{footer:x(()=>[...e[16]||(e[16]=[])]),_:1},8,["columns","data","loading","pageMeta"])])]),t.showModal?(P(),X(l,{key:0,onClose:e[14]||(e[14]=s=>t.showModal=!1),"content-width":"w-1/2"},{header:x(()=>[o("h3",ce,oe(t.formTitle),1)]),body:x(()=>[o("form",{onSubmit:ee(t.saveForm,["prevent"]),class:"space-y-6 p-4"},[o("div",ge,[e[19]||(e[19]=o("h4",{class:"text-lg font-semibold text-foreground"},"Basic Information",-1)),o("div",pe,[o("label",xe,[e[17]||(e[17]=o("span",{class:"text-sm font-medium text-foreground"},"Guidelines",-1)),p(t.VueMultiselect,{modelValue:t.form.guidelines,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.guidelines=s),options:t.abxGuidelines,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),o("label",ve,[e[18]||(e[18]=o("span",{class:"text-sm font-medium text-foreground"},"Year",-1)),a(o("input",{type:"number",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[2]||(e[2]=s=>t.form.year=s),placeholder:"Year"},null,512),[[d,t.form.year]])])])]),o("div",ye,[e[31]||(e[31]=o("h4",{class:"text-lg font-semibold text-foreground"},"Coding Systems",-1)),o("div",he,[o("label",ke,[e[20]||(e[20]=o("span",{class:"text-sm font-medium text-foreground"},"Test Method",-1)),p(t.VueMultiselect,{modelValue:t.form.testMethod,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.testMethod=s),options:t.abxTestMethods,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),o("label",Be,[e[21]||(e[21]=o("span",{class:"text-sm font-medium text-foreground"},"Potency",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[4]||(e[4]=s=>t.form.potency=s),placeholder:"Potency"},null,512),[[d,t.form.potency]])]),o("label",we,[e[22]||(e[22]=o("span",{class:"text-sm font-medium text-foreground"},"Organism Code",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[5]||(e[5]=s=>t.form.organismCode=s),placeholder:"Organism Code"},null,512),[[d,t.form.organismCode]])]),o("label",Ae,[e[23]||(e[23]=o("span",{class:"text-sm font-medium text-foreground"},"Organism Code Type",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[6]||(e[6]=s=>t.form.organismCodeType=s),placeholder:"Organism Code Type"},null,512),[[d,t.form.organismCodeType]])]),o("label",Ce,[e[24]||(e[24]=o("span",{class:"text-sm font-medium text-foreground"},"Whonet AbxCode",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[7]||(e[7]=s=>t.form.whonetAbxCode=s),placeholder:"Whonet AbxCode"},null,512),[[d,t.form.whonetAbxCode]])]),o("label",Te,[e[25]||(e[25]=o("span",{class:"text-sm font-medium text-foreground"},"R",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[8]||(e[8]=s=>t.form.r=s),placeholder:"R"},null,512),[[d,t.form.r]])]),o("label",Ee,[e[26]||(e[26]=o("span",{class:"text-sm font-medium text-foreground"},"I",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[9]||(e[9]=s=>t.form.i=s),placeholder:"I"},null,512),[[d,t.form.i]])]),o("label",Me,[e[27]||(e[27]=o("span",{class:"text-sm font-medium text-foreground"},"SDD",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[10]||(e[10]=s=>t.form.sdd=s),placeholder:"SDD"},null,512),[[d,t.form.sdd]])]),o("label",Ve,[e[28]||(e[28]=o("span",{class:"text-sm font-medium text-foreground"},"S",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[11]||(e[11]=s=>t.form.s=s),placeholder:"S"},null,512),[[d,t.form.s]])]),o("label",Ue,[e[29]||(e[29]=o("span",{class:"text-sm font-medium text-foreground"},"EcvEcoff",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[12]||(e[12]=s=>t.form.ecvEcoff=s),placeholder:"EcvEcoff"},null,512),[[d,t.form.ecvEcoff]])]),o("label",De,[e[30]||(e[30]=o("span",{class:"text-sm font-medium text-foreground"},"EcvEcoff Tentative",-1)),a(o("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[13]||(e[13]=s=>t.form.ecvEcoffTentative=s),placeholder:"EcvEcoff Tentative"},null,512),[[d,t.form.ecvEcoffTentative]])])])]),e[32]||(e[32]=o("hr",{class:"border-border"},null,-1)),e[33]||(e[33]=o("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Breakpoint ",-1))],32)]),_:1})):Z("",!0)],64)}const Ie=K(ue,[["render",Se],["__scopeId","data-v-98440155"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxBreakpoint.vue"]]);export{Ie as default};
