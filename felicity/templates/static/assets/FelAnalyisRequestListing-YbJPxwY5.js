import{a0 as D,t as F,u as S,ap as N,a5 as P,_ as U,r as g,aa as b,c as a,o as r,A as t,E as R,J as y,K as A,F as w,L as i,Q as q,a as f,N as C,P as k}from"./index-Daoe3XS9.js";import{p as I}from"./index-Cgdayxkn.js";const L=D({__name:"FelAnalyisRequestListing",props:{target:String,targetUid:String},setup(v,{expose:d}){d();const m=v,{targetUid:o,target:l}=F(m),n=S(),{analysisRequests:_,fetchingAnalysisRequests:u}=N(n);l?.value==="patient-samples"&&n.fetchAnalysisRequestsForPatient(o?.value),l?.value==="client-samples"&&n.fetchAnalysisRequestsForClient(o?.value),P(()=>m.targetUid,(c,s)=>{n.resetAnalysisRequests(),l?.value==="patient-samples"&&n.fetchAnalysisRequestsForPatient(c),l?.value==="client-samples"&&n.fetchAnalysisRequestsForClient(c)});function h(c,s){let e=[];return c.forEach(x=>e.push(x.name)),s.forEach(x=>e.push(x.name)),e.join(", ")}const p={props:m,targetUid:o,target:l,sampleStore:n,analysisRequests:_,fetchingAnalysisRequests:u,profileAnalysesText:h,get parseDate(){return I}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),T={class:"overflow-x-auto mt-4"},V={class:"rounded-lg border border-border bg-card shadow-sm"},j={class:"w-full fel-table"},B={class:"[&_tr:last-child]:border-0"},E={class:"border-b border-border bg-muted/50"},z={colspan:"10",class:"p-4"},J={class:"text-sm text-foreground"},K={class:"p-4"},O={class:"p-4"},Q={class:"font-medium"},G={class:"p-4"},H={class:"text-sm text-primary"},M={class:"p-4"},W={class:"text-sm text-primary"},X={class:"p-4"},Y={class:"text-sm text-primary"},Z={class:"p-4"},$={class:"text-sm text-primary"},tt={class:"p-4"},et={class:"text-sm text-primary"},st={class:"p-4"},it={class:"text-sm text-primary"},ot={class:"p-4"},nt={type:"button",class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 px-3"},at={class:"p-4 text-right"},rt={key:0,class:"p-4 text-center"};function dt(v,d,m,o,l,n){const _=g("font-awesome-icon"),u=g("router-link"),h=g("fel-loader"),p=b("motion-slide-left"),c=b("motion-slide-right");return r(),a("div",T,[t("div",V,[t("table",j,[d[1]||(d[1]=t("thead",null,[t("tr",null,[t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Sample ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Test(s) "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Patient "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client Patient ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Created "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Creator "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Status "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"})])],-1)),t("tbody",B,[(r(!0),a(y,null,A(o.analysisRequests,s=>(r(),a(y,{key:s.uid},[w((r(),a("tr",E,[t("td",z,[t("div",J,i(s.clientRequestId),1)])])),[[p]]),(r(!0),a(y,null,A(s.samples,e=>w((r(),a("tr",{key:e.uid,class:"border-b border-border"},[t("td",K,[e.priority??!0?(r(),a("span",{key:0,class:q(["text-sm",{"text-destructive":e.priority??!0}])},[f(_,{icon:"fa-star"})],2)):R("",!0)]),t("td",O,[t("div",Q,[f(u,{to:{name:"sample-detail",params:{patientUid:s.patient?.uid,sampleUid:e?.uid}},class:"text-primary hover:underline"},{default:C(()=>[k(i(e.sampleId),1)]),_:2},1032,["to"])])]),t("td",G,[t("div",H,i(o.profileAnalysesText(e.profiles??[],e.analyses??[])),1)]),t("td",M,[t("div",W,i(s.patient?.firstName)+" "+i(s.patient?.lastName),1)]),t("td",X,[t("div",Y,i(s.patient?.clientPatientId),1)]),t("td",Z,[t("div",$,i(s.client?.name),1)]),t("td",tt,[t("div",et,i(o.parseDate(e?.createdAt)),1)]),t("td",st,[t("div",it,i(e?.createdBy?.firstName),1)]),t("td",ot,[t("button",nt,i(e.status),1)]),t("td",at,[f(u,{to:{name:"sample-detail",params:{patientUid:s.patient?.uid,sampleUid:e?.uid}},class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3"},{default:C(()=>[...d[0]||(d[0]=[k(" View ",-1)])]),_:1},8,["to"])])])),[[c]])),128))],64))),128))])]),o.fetchingAnalysisRequests?(r(),a("div",rt,[f(h,{message:"Fetching Analysis Requests ..."})])):R("",!0)])])}const mt=U(L,[["render",dt],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/components/sample/FelAnalyisRequestListing.vue"]]);export{mt as default};
