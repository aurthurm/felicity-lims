import{P as V,e as D,Z as i,f as C,aa as N,o as d,c as u,b as t,F as y,D as E,E as c,L as M,a2 as a,x as O,K as _,A as L,V as T,a as B,z as I,a7 as P,J as U,X as v,Y as g,_ as R}from"./index-d30fd8e2.js";import{o as G,p as K,L as S,M as $}from"./microbiology.mutations-54cff9c3.js";const z={class:"w-full my-4"},J={class:"overflow-x-auto mt-4"},Q={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},X={class:"min-w-full"},Y={class:"bg-white"},Z={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},j={class:"flex items-center"},q={class:"text-sm leading-5 text-gray-800"},H={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},W={class:"flex items-center"},ee={class:"text-sm leading-5 text-gray-800"},te={action:"post",class:"p-1"},se={class:"grid grid-cols-2 gap-x-4 mb-4"},oe={class:"block col-span-1 mb-2"},ae={class:"block"},le=V({__name:"AbxFamily",setup(ne){const h=v(()=>g(()=>import("./index-d30fd8e2.js").then(o=>o.cN),["assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),w=v(()=>g(()=>import("./vue-multiselect.esm-26d4ec41.js"),["assets/vue-multiselect.esm-26d4ec41.js","assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),{withClientMutation:p,withClientQuery:b}=D();let r=i(!1),A=i(""),l=C({});const x=i(!0),n=i([]),f=i([]);N(()=>{b(G,{},"abxOrderAll").then(o=>{o&&(f.value=o)}),b(K,{},"abxFamilyAll").then(o=>{o&&(n.value=o)})});function k(){const o={name:l.name,orderUid:l.order?.uid};x.value===!0&&p(S,{payload:o},"createAbxFamily").then(e=>{e&&n.value.unshift(e)}),x.value===!1&&p($,{uid:l.uid,payload:o},"updateAbxFamily").then(e=>{if(e){const s=n.value.findIndex(m=>m.uid==e.uid);s>-1&&(n.value=[...n.value.map((m,F)=>F===s?e:m)])}}),r.value=!1}return(o,e)=>(d(),u(y,null,[t("div",z,[e[7]||(e[7]=t("hr",null,null,-1)),t("div",J,[t("div",Q,[t("table",X,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Name "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Order "),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",Y,[(d(!0),u(y,null,E(n.value,s=>(d(),u("tr",{key:s?.uid},[t("td",Z,[t("div",j,[t("div",q,c(s?.name),1)])]),e[4]||(e[4]=M()),t("td",H,[t("div",W,[t("div",ee,c(s?.order?.name),1)])]),e[5]||(e[5]=t("td",{class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},null,-1))]))),128))])])])])]),a(r)?(d(),O(a(h),{key:0,onClose:e[3]||(e[3]=s=>P(r)?r.value=!1:r=!1)},{header:_(()=>[t("h3",null,c(a(A)),1)]),body:_(()=>[t("form",te,[t("div",se,[t("label",oe,[e[8]||(e[8]=t("span",{class:"text-gray-700"},"Kindom Name",-1)),L(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[0]||(e[0]=s=>a(l).name=s),placeholder:"Name ..."},null,512),[[T,a(l).name]])]),t("label",ae,[e[9]||(e[9]=t("span",{class:"text-gray-700"},"Order",-1)),B(a(w),{modelValue:a(l).order,"onUpdate:modelValue":e[1]||(e[1]=s=>a(l).order=s),options:f.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e[10]||(e[10]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[2]||(e[2]=I(s=>k(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Family ")])]),_:1})):U("",!0)],64))}});const de=R(le,[["__scopeId","data-v-4853c3ca"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxFamily.vue"]]);export{de as default};
