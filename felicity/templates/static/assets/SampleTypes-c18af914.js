import{S as E,u as D,f as M,a0 as u,h as V,i as N,r as f,o as i,c as b,N as e,a as _,L as d,M as F,F as h,E as P,H as p,K as w,a5 as l,y as U,A as B,C as m,X as g,Y as j,ac as L,_ as $}from"./index-6c3e61f6.js";import{Z as I,_ as O}from"./analyses.mutations-1d25f58b.js";const R={class:"space-y-6"},Y={class:"overflow-x-auto"},H={class:"inline-block min-w-full align-middle"},K={class:"overflow-hidden shadow-md rounded-lg bg-background p-6"},X={class:"min-w-full divide-y divide-border"},Z={class:"bg-background divide-y divide-border"},q={class:"px-4 py-2 whitespace-nowrap"},z={class:"text-sm font-medium text-foreground"},G={class:"px-4 py-2 whitespace-nowrap"},J={class:"text-sm text-primary"},Q={class:"px-4 py-2 whitespace-nowrap"},W={class:"text-sm text-primary"},ee={class:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium"},te=["onClick"],oe={class:"text-xl font-semibold text-foreground"},se={class:"grid grid-cols-1 gap-4"},le={class:"block"},ae={class:"block"},ne={class:"block"},re={class:"flex items-center"},ie={class:"relative inline-block w-10 align-middle select-none"},de=E({__name:"SampleTypes",setup(pe){const r=D(),{withClientMutation:x}=M();let n=u(!1),y=u(""),o=V({});const c=u(!0);r.fetchSampleTypes();const k=N(()=>r.getSampleTypes);function v(a,t={}){c.value=a,n.value=!0,y.value=(a?"CREATE":"EDIT")+" SAMPLE TYPE",a?Object.assign(o,{}):Object.assign(o,{...t})}function S(){const a={name:o.name,abbr:o.abbr,description:o.description,active:o.active};c.value===!0&&x(I,{payload:a},"createSampleType").then(t=>r.addSampleType(t)),c.value===!1&&x(O,{uid:o.uid,payload:a},"updateSampleType").then(t=>r.updateSampleType(t)),n.value=!1}return(a,t)=>{const T=f("fel-button"),C=f("fel-heading"),A=f("fel-modal");return i(),b(h,null,[e("div",R,[_(C,{title:"Sample Types"},{default:d(()=>[_(T,{onClick:t[0]||(t[0]=s=>v(!0))},{default:d(()=>t[6]||(t[6]=[F("Add Sample Type")])),_:1})]),_:1}),e("div",Y,[e("div",H,[e("div",K,[e("table",X,[t[7]||(t[7]=e("thead",{class:"bg-muted"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Sample Type"),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Prefix"),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Active"),e("th",{scope:"col",class:"px-4 py-2 text-right text-sm font-medium text-muted-foreground tracking-wider"},"Actions")])],-1)),e("tbody",Z,[(i(!0),b(h,null,P(k.value,s=>(i(),b("tr",{key:s?.uid},[e("td",q,[e("div",z,p(s?.name),1)]),e("td",G,[e("div",J,p(s?.abbr),1)]),e("td",Q,[e("div",W,p(s?.active),1)]),e("td",ee,[e("button",{onClick:me=>v(!1,s),class:"text-primary hover:text-primary/80 transition-colors duration-200"}," Edit ",8,te)])]))),128))])])])])])]),w(" Sample Type Edit Form Modal "),l(n)?(i(),U(A,{key:0,onClose:t[5]||(t[5]=s=>L(n)?n.value=!1:n=!1)},{header:d(()=>[e("h3",oe,p(l(y)),1)]),body:d(()=>[e("form",{onSubmit:B(S,["prevent"]),class:"space-y-6 p-4"},[e("div",se,[e("label",le,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-foreground"},"Sample Type Name",-1)),m(e("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>l(o).name=s),placeholder:"Name ..."},null,512),[[g,l(o).name]])]),e("label",ae,[t[9]||(t[9]=e("span",{class:"text-sm font-medium text-foreground"},"Prefix",-1)),m(e("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":t[2]||(t[2]=s=>l(o).abbr=s),placeholder:"Prefix ..."},null,512),[[g,l(o).abbr]])]),e("label",ne,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),m(e("textarea",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":t[3]||(t[3]=s=>l(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[g,l(o).description]])]),e("div",re,[t[12]||(t[12]=e("span",{class:"text-sm font-medium text-foreground mr-2"},"Active",-1)),e("div",ie,[m(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":t[4]||(t[4]=s=>l(o).active=s),class:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-background border-4 appearance-none cursor-pointer outline-none transition-colors duration-200"},null,512),[[j,l(o).active]]),t[11]||(t[11]=e("label",{for:"toggle",class:"toggle-label block overflow-hidden h-6 rounded-full bg-muted cursor-pointer transition-colors duration-200"},null,-1))])])]),t[13]||(t[13]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Sample Type ")],-1))],32)]),_:1})):w("v-if",!0)],64)}}});const fe=$(de,[["__scopeId","data-v-f73ce93d"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/sample/SampleTypes.vue"]]);export{fe as default};
