import{e as T,d as se,a3 as B,P as j,Z as y,h as A,r as ie,o as i,c as a,b as e,z as $,x as w,aD as G,a2 as c,a1 as z,E as k,a as v,A as E,J as O,F as U,D as S,_ as M,V as R,L as q,b5 as K,R as le,Q as X,b6 as Y,aa as W}from"./index-66877f9a.js";import{G as re,a as de,A as ue,b as ae}from"./document.mutations-c5b32263.js";import{b as ce}from"./_isIterateeCall-7f2e02ef.js";import{t as Q}from"./toFinite-2c528053.js";var me=Math.floor,fe=Math.random;function pe(t,o){return t+me(fe()*(o-t+1))}var ve=parseFloat,he=Math.min,be=Math.random;function ge(t,o,n){if(n&&typeof n!="boolean"&&ce(t,o,n)&&(o=n=void 0),n===void 0&&(typeof o=="boolean"?(n=o,o=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&o===void 0?(t=0,o=1):(t=Q(t),o===void 0?(o=t,t=0):o=Q(o)),t>o){var l=t;t=o,o=l}if(n||t%1||o%1){var u=be();return he(t+u*(o-t+ve("1e-"+((u+"").length-1))),o)}return pe(t,o)}const{withClientQuery:J}=T(),N=se("documents",{state:()=>({documents:[],folders:[],currentFolder:null,selectedDocument:null,isPreviewOpen:!1,recentDocuments:[].sort((t,o)=>o.updatedAt?.getTime()-t.updatedAt?.getTime()).slice(0,25)}),actions:{fetchDocuments(t,o=!1){J(re,{first:100,text:"",sortBy:["-created_at"],...t},"documentAll").then(n=>{this.documents=n?.items,o&&(this.recentDocuments=this.documents.slice(0,25))})},addDocument(t){this.documents.push(t),this.recentDocuments=[t,...this.recentDocuments].slice(0,5)},updateDocument(t){const o={...t,updatedAt:new Date};this.documents=this.documents.map(n=>n.uid===t.uid?o:n),this.recentDocuments=[o,...this.recentDocuments.filter(n=>n.uid!==t.uid)].slice(0,5)},deleteDocument(t){this.documents=this.documents.filter(o=>o.uid!==t),this.recentDocuments=this.recentDocuments.filter(o=>o.uid!==t)},duplicateDocument(t){const o=this.documents.find(l=>l.uid===t);if(!o)return;const n={...o,uid:ge(1e3,9999).toString(),name:`${o.name} (Copy)`,createdAt:new Date,updatedAt:new Date};this.documents.push(n),this.recentDocuments=[n,...this.recentDocuments].slice(0,5)},setCurrentFolder(t){this.currentFolder=t,this.fetchDocuments({folderUid:t})},getFolders(){J(de,{},"documentFolderAll").then(t=>{this.folders=t?.items})},addFolder(t){this.folders.push(t)},deleteFolder(t){this.folders=this.folders.filter(o=>o.uid!==t),this.documents=this.documents.filter(o=>o.folderUid!==t)},updateFolder(t){this.folders=this.folders.map(o=>o.uid===t.uid?t:o)},setSelectedDocument(t){this.selectedDocument=t},togglePreview(t){this.isPreviewOpen=t},toggleFolderExpanded(t){this.folders=this.folders.map(o=>o.uid===t?{...o,expanded:!o.expanded}:o)}},getters:{getChildFolders:t=>o=>t.folders?.filter(n=>n.parentUid===o),getDocumentsInFolder:t=>o=>t.documents.filter(n=>n.folderUid===o)}});/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=({size:t,strokeWidth:o=2,absoluteStrokeWidth:n,color:l,iconNode:u,name:s,class:m,...r},{slots:h})=>B("svg",{...P,width:t||P.width,height:t||P.height,stroke:l||P.stroke,"stroke-width":n?Number(o)*24/Number(t):o,class:["lucide",`lucide-${ye(s??"icon")}`],...r},[...u.map(x=>B(...x)),...h.default?[h.default()]:[]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=(t,o)=>(n,{slots:l})=>B(xe,{...n,iconNode:o,name:t},l);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=D("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=D("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=D("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=D("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=D("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=D("FolderPlusIcon",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=D("FolderIcon",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=D("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=D("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Ae={key:1,class:"w-4"},je={class:"mr-2 text-muted-foreground"},Me={class:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Ie={class:"relative"},Oe={key:0,class:"absolute right-0 mt-1 w-48 rounded-md border bg-white p-1 text-popover-foreground shadow-md z-10"},Ve={key:0,class:"mt-1 ml-1 pl-1 border-l border-border"},Ne=j({__name:"FolderItem",props:{folder:{type:Object,required:!0},level:{type:Number,default:0}},emits:["add-subfolder"],setup(t,{emit:o}){const n=t,l=N(),u=y(!1),s=A(()=>l.getChildFolders(n.folder.uid)),m=A(()=>l.currentFolder===n.folder.uid),r=A(()=>!!n.folder.expanded);function h(){l.setCurrentFolder(n.folder.uid)}function x(){l.toggleFolderExpanded(n.folder.uid)}function F(){const d=s.value.length>0,p=l.documents.some(C=>C.folderUid===n.folder.uid);d||p?window.confirm("Delete this folder and all its contents?")&&l.deleteFolder(n.folder.uid):l.deleteFolder(n.folder.uid),u.value=!1}const b={mounted(d,p){d._clickOutside=C=>{d===C.target||d.contains(C.target)||p.value(C)},document.addEventListener("click",d._clickOutside)},unmounted(d){document.removeEventListener("click",d._clickOutside)}};return(d,p)=>{const C=ie("FolderItem",!0);return i(),a("div",null,[e("div",{class:z(["flex justify-start items-center p-2 rounded-md cursor-pointer group transition-colors duration-200",t.level>0&&"ml-2"]),onClick:h},[e("div",{class:"flex items-center mr-2",onClick:$(x,["stop"])},[s.value.length>0?(i(),w(G(s.value.length>0?r.value?c(ee):c(we):"div"),{key:0,class:"w-4 h-4 text-muted-foreground"})):(i(),a("div",Ae))]),e("div",je,[(i(),w(G(r.value?c(Fe):c(H)),{class:z(["w-[18px] h-[18px]",m.value&&"text-sky-600"])},null,8,["class"]))]),e("div",{class:z(["flex-1 truncate",m.value&&"text-sky-600"])},k(t.folder.name),3),e("div",Me,[e("button",{onClick:p[0]||(p[0]=$(I=>d.$emit("add-subfolder",t.folder.uid),["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[v(c(V),{class:"text-muted-foreground w-4 h-4"})]),e("div",Ie,[e("button",{onClick:p[1]||(p[1]=$(I=>u.value=!u.value,["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[v(c(De),{class:"text-muted-foreground w-4 h-4"})]),u.value?E((i(),a("div",Oe,[e("button",{onClick:$(F,["stop"]),class:"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground text-destructive w-full text-left"},[v(c($e),{class:"mr-2 w-4 h-4"}),p[3]||(p[3]=e("span",null,"Delete Folder",-1))])])),[[b,()=>u.value=!1]]):O("",!0)])])],2),r.value&&s.value.length>0?(i(),a("div",Ve,[(i(!0),a(U,null,S(s.value,I=>(i(),w(C,{key:I.uid,folder:I,level:t.level+1,onAddSubfolder:p[2]||(p[2]=L=>d.$emit("add-subfolder",L))},null,8,["folder","level"]))),128))])):O("",!0)])}}}),Ee=M(Ne,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderItem.vue"]]),Ue={class:"h-full overflow-hidden flex flex-col"},Se={class:"px-4 py-3 flex items-center justify-between"},qe={class:"flex-1 overflow-auto"},Le={class:"px-2 py-1"},Pe={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},Re={class:"text-lg font-medium mb-4"},ze={class:"mb-4"},Be={class:"flex justify-end gap-2"},Te=j({__name:"FolderNavigation",setup(t){const{withClientMutation:o}=T(),n=N(),l=y(!1),u=y(""),s=y(null),m=A(()=>n.getChildFolders(null));function r(b){s.value=b,l.value=!0}function h(){l.value=!1,u.value=""}function x(){if(u.value.trim()){if(o(ue,{payload:{name:u.value,parentUid:s.value}},"createDocumentFolder").then(b=>n.addFolder(b)),s.value){const b=n.folders.find(d=>d.uid===s.value);b&&!b.expanded&&n.toggleFolderExpanded(s.value)}u.value="",l.value=!1}}function F(b){return n.folders.find(d=>d.uid===b)}return(b,d)=>(i(),a("div",Ue,[e("div",Se,[d[3]||(d[3]=e("h2",{class:"font-semibold text-sm"},"Folders",-1)),e("button",{onClick:d[0]||(d[0]=p=>r(null)),class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none hover:bg-accent hover:text-accent-foreground h-8 w-8"},[v(c(V),{class:"w-4 h-4"})])]),e("div",qe,[e("div",Le,[(i(!0),a(U,null,S(m.value,p=>(i(),w(Ee,{key:p.uid,folder:p,onAddSubfolder:r},null,8,["folder"]))),128))])]),(i(),w(K,{to:"body"},[l.value?(i(),a("div",Pe,[e("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",onClick:d[2]||(d[2]=$(()=>{},["stop"]))},[e("h3",Re,k(s.value?`Add subfolder to ${F(s.value)?.name}`:"Add new folder"),1),e("div",ze,[d[4]||(d[4]=e("label",{for:"folderName",class:"block text-sm font-medium mb-1"},"Folder Name",-1)),E(e("input",{id:"folderName","onUpdate:modelValue":d[1]||(d[1]=p=>u.value=p),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",placeholder:"Enter folder name"},null,512),[[R,u.value]])]),e("div",Be,[e("button",{onClick:h,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),e("button",{onClick:x,class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(Ce),{class:"w-4 h-4 mr-2"}),d[5]||(d[5]=q(" Add Folder "))])])])])):O("",!0)]))]))}}),He=M(Te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderNavigation.vue"]]),Ze={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},Ge={class:"space-y-4"},Qe={class:"relative"},Je={key:0,class:"absolute top-full left-0 z-10 mt-1 w-full rounded-md border bg-white shadow-md"},Ke={class:"max-h-[200px] overflow-auto p-1"},Xe=["onClick"],Ye={key:1,class:"mr-2 w-4"},We={class:"flex justify-end gap-2 mt-6"},et=["disabled"],tt=j({__name:"CreateDocumentDialog",props:{isOpen:{type:Boolean,required:!0},initialFolderId:{type:[String,null],required:!1}},emits:["update:isOpen"],setup(t,{emit:o}){const{withClientMutation:n}=T(),l=t,u=o,s=N(),m=y(""),r=y(""),h=y(""),x=y(!1),F=y("");le(()=>l.initialFolderId,g=>{g&&(r.value=g)},{immediate:!0});const b=A(()=>{if(!F.value)return s.folders;const g=F.value.toLowerCase();return s.folders.filter(f=>f.name.toLowerCase().includes(g))}),d=A(()=>{const g=s.folders.find(f=>f.uid===r.value);return g?g.name:"Select folder"}),p=A(()=>m.value.trim()!==""&&r.value!=="");function C(g){r.value=g,x.value=!1}function I(){p.value&&(n(ae,{payload:{name:m.value,folderUid:r.value,documentId:h.value}},"createDocument").then(g=>{s.addDocument(g)}),Z(),L())}function L(){Z(),u("update:isOpen",!1)}function Z(){m.value="",x.value=!1,F.value=""}return(g,f)=>(i(),w(K,{to:"body"},[g.isOpen?(i(),a("div",Ze,[e("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",onClick:f[4]||(f[4]=$(()=>{},["stop"]))},[f[8]||(f[8]=e("h3",{class:"text-lg font-medium mb-4"},"Create new document",-1)),e("div",Ge,[e("div",null,[f[5]||(f[5]=e("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document Name",-1)),E(e("input",{id:"name","onUpdate:modelValue":f[0]||(f[0]=_=>m.value=_),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document name"},null,512),[[R,m.value]])]),e("div",null,[f[6]||(f[6]=e("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document ID",-1)),E(e("input",{id:"docu","onUpdate:modelValue":f[1]||(f[1]=_=>h.value=_),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document id"},null,512),[[R,h.value]])]),e("div",null,[f[7]||(f[7]=e("label",{for:"folder",class:"block text-sm font-medium mb-1"},"Folder X",-1)),e("div",Qe,[e("button",{id:"folder",type:"button",onClick:f[2]||(f[2]=_=>x.value=!x.value),class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[q(k(d.value)+" ",1),v(c(ee),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),x.value?(i(),a("div",Je,[e("div",Ke,[E(e("input",{"onUpdate:modelValue":f[3]||(f[3]=_=>F.value=_),class:"flex h-8 w-full rounded-sm border-0 bg-white px-3 py-1 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring mb-1",placeholder:"Search folders..."},null,512),[[R,F.value]]),(i(!0),a(U,null,S(b.value,_=>(i(),a("button",{key:_.uid,onClick:Ht=>C(_.uid),class:"flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent text-left"},[_.uid===r.value?(i(),w(c(_e),{key:0,class:"mr-2 h-4 w-4"})):(i(),a("span",Ye)),q(" "+k(_.name),1)],8,Xe))),128))])])):O("",!0)])])]),e("div",We,[e("button",{onClick:L,class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),e("button",{onClick:I,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",disabled:!p.value}," Create ",8,et)])])])):O("",!0)]))}}),oe=M(tt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/CreateDocumentDialog.vue"]]),ot={class:"document-card animate-scale-in group"},nt={class:"relative mb-4 rounded-lg overflow-hidden bg-gray-50 aspect-[3/4] flex items-center justify-center"},st={key:0,class:"w-full h-full"},it=["src","alt"],lt={class:"absolute inset-0 flex items-center justify-center gap-x-2 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},rt={class:"h-12 w-12 rounded-full bg-white/90 flex items-center justify-center"},dt={class:"flex flex-col"},ut=["title"],at={class:"text-xs text-muted-foreground mt-1"},ct=j({__name:"DocumentCard",props:{document:{type:Object,required:!0}},setup(t){const o=t,n=X();function l(){n.push({name:"document-editor",params:{documentVersionUid:o.document?.latestVersion?.uid}})}function u(s){return Y(new Date(s),"MMM d, yyyy")}return(s,m)=>(i(),a("div",ot,[e("div",nt,[s.document?.latestVersion?.thumbnail?(i(),a("div",st,[e("img",{src:`data:image/png;base64,${s.document?.latestVersion?.thumbnail}`,alt:s.document.name,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,it),m[0]||(m[0]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))])):(i(),w(c(ke),{key:1,class:"text-gray-400 w-12 h-12"})),e("div",lt,[e("button",{onClick:$(l,["stop"])},[e("div",rt,[v(c(te),{class:"text-gray-900 w-5 h-5"})])])])]),e("div",dt,[e("h3",{class:"font-medium text-sm truncate",title:s.document.name},k(s.document.name),9,ut),e("p",at,k(u(s.document.updatedAt)),1)])]))}}),mt=M(ct,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/DocumentCard.vue"]]),ft={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},pt={key:1,class:"overflow-x-auto rounded-xl shadow"},vt={class:"min-w-full bg-white border border-gray-200"},ht=["onClick"],bt={class:"px-4 text-sm text-gray-500"},gt={class:"px-4 text-sm text-gray-500"},yt={class:"px-4 text-sm"},xt=["onClick"],_t={class:"h-8 w-8 rounded-full bg-white/90 flex items-center justify-center"},wt=j({__name:"DocumentListing",props:{documents:{type:Array,required:!0}},setup(t){const o=y(!1);function n(s){return Y(new Date(s),"MMM d, yyyy")}const l=X();function u(s){l.push({name:"document-editor",params:{documentVersionUid:s?.latestVersion?.uid}})}return(s,m)=>o.value?(i(),a("div",ft,[(i(!0),a(U,null,S(s.documents,r=>(i(),w(mt,{key:r.id,document:r},null,8,["document"]))),128))])):(i(),a("div",pt,[e("table",vt,[m[0]||(m[0]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"py-3 px-4 text-left text-sm font-semibold text-gray-600"},"Name"),e("th",{class:"py-3 px-4 text-left text-sm font-semibold text-gray-600"},"Created At"),e("th",{class:"py-3 px-4 text-left text-sm font-semibold text-gray-600"},"Updated At"),e("th",{class:"py-3 px-4 text-left text-sm font-semibold text-gray-600"},"Actions")])],-1)),e("tbody",null,[(i(!0),a(U,null,S(s.documents,r=>(i(),a("tr",{key:r.uid,class:"border-t border-gray-200 hover:bg-gray-50 transition"},[e("td",{class:"px-4 text-sm font-medium text-gray-800 font-semibold",onClick:$(h=>u(r),["stop"])},k(r.name),9,ht),e("td",bt,k(n(r.createdAt)),1),e("td",gt,k(n(r.updatedAt)),1),e("td",yt,[e("button",{onClick:$(h=>u(r),["stop"])},[e("div",_t,[v(c(te),{class:"text-gray-900 w-5 h-5"})])],8,xt)])]))),128))])])]))}}),ne=M(wt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/DocumentListing.vue"]]),Dt={class:"animate-fade-in"},kt={class:"flex items-center justify-between mb-6"},Ft={key:0},Ct={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},$t={class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4"},At=j({__name:"RecentDocuments",setup(t){const o=N(),n=y(!1);function l(){n.value=!0}return W(()=>o.fetchDocuments({first:25,sortBy:["-updated_at"]},!0)),(u,s)=>(i(),a("div",Dt,[e("div",kt,[s[2]||(s[2]=e("h1",{class:"text-2xl font-medium"},"Recent Documents",-1)),e("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(V),{class:"w-4 h-4"}),s[1]||(s[1]=q(" New Document "))])]),c(o).recentDocuments.length>0?(i(),a("div",Ft,[v(ne,{documents:c(o).recentDocuments},null,8,["documents"])])):(i(),a("div",Ct,[e("div",$t,[v(c(V),{class:"text-muted-foreground w-8 h-8"})]),s[3]||(s[3]=e("h3",{class:"text-lg font-medium mb-2"},"No recent documents",-1)),s[4]||(s[4]=e("p",{class:"text-muted-foreground max-w-md mb-6"}," Start creating documents to see them appear here. ",-1)),e("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),v(oe,{isOpen:n.value,"onUpdate:isOpen":s[0]||(s[0]=m=>n.value=m)},null,8,["isOpen"])]))}}),jt=M(At,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/RecentDocuments.vue"]]),Mt={class:"animate-fade-in"},It={key:0,class:"flex items-center justify-between mb-6"},Ot={class:"flex items-center"},Vt={class:"text-2xl font-medium"},Nt={key:1},Et={key:2,class:"flex flex-col items-center justify-center py-12 text-center"},Ut=j({__name:"FolderDocuments",setup(t){const o=N(),n=y(!1),l=A(()=>o.currentFolder?o.getDocumentsInFolder(o.currentFolder):[]),u=A(()=>o.folders.find(m=>m.uid===o.currentFolder));function s(){n.value=!0}return(m,r)=>(i(),a("div",Mt,[u.value?(i(),a("div",It,[e("div",Ot,[v(c(H),{class:"mr-2 text-muted-foreground w-5 h-5"}),e("h1",Vt,k(u.value.name),1)]),e("button",{onClick:s,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[v(c(V),{class:"w-4 h-4"}),r[1]||(r[1]=q(" New Document "))])])):O("",!0),l.value.length>0?(i(),a("div",Nt,[v(ne,{documents:l.value},null,8,["documents"])])):(i(),a("div",Et,[e("div",{class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4",onClick:s},[v(c(V),{class:"text-muted-foreground w-8 h-8"})]),r[2]||(r[2]=e("h3",{class:"text-lg font-medium mb-2"},"No documents in this folder",-1)),r[3]||(r[3]=e("p",{class:"text-muted-foreground max-w-md mb-6"}," Create a new document in this folder. ",-1)),e("button",{onClick:s,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),v(oe,{isOpen:n.value,"onUpdate:isOpen":r[0]||(r[0]=h=>n.value=h),initialFolderId:c(o).currentFolder},null,8,["isOpen","initialFolderId"])]))}}),St=M(Ut,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderDocuments.vue"]]),qt={class:"flex h-screen overflow-hidden bg-background"},Lt={class:"fixed inset-y-0 left-0 z-20 w-64 transform bg-doc-folder border-r border-border transition-transform duration-300 ease-in-out -translate-x-full lg:relative lg:translate-x-0"},Pt={class:"flex-1 overflow-hidden"},Rt={class:"lg:hidden p-4 flex items-center"},zt={class:"mr-4 border border-border rounded-md p-2"},Bt={class:"h-full overflow-auto p-6"},Tt=j({__name:"DocumentEntry",setup(t){const o=N();return W(()=>{o.getFolders()}),(n,l)=>(i(),a("div",qt,[e("div",Lt,[v(He)]),e("div",Pt,[e("div",Rt,[e("button",zt,[v(c(H),{class:"h-5 w-5"})]),l[0]||(l[0]=e("h1",{class:"text-xl font-medium"},"Document Manager",-1))]),e("div",Bt,[c(o).currentFolder?(i(),w(St,{key:1})):(i(),w(jt,{key:0}))])])]))}}),Kt=M(Tt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/document/DocumentEntry.vue"]]);export{Kt as default};
