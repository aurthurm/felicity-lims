import{W as j,f as M,a2 as u,h as N,a9 as V,r as v,o as c,c as x,a as k,M as f,N as $,O as t,F as B,H as E,J as b,a7 as d,z as F,C as U,D as g,Z as y,af as A,L as O,_ as S}from"./index-93739211.js";import{j as T,m as q,n as I}from"./microbiology.mutations-8d828444.js";const L={class:"space-y-6"},z={class:"border shadow-sm rounded-lg bg-card p-6"},H={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-border"},Q={class:"divide-y divide-border bg-background"},R={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},W={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},K={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},P=["onClick"],X=["onClick"],Y={class:"text-lg font-semibold text-foreground"},ee={class:"space-y-2"},te={class:"space-y-2"},oe={class:"space-y-2"},ie={class:"flex justify-end space-x-2"},se=j({__name:"AbxGuideline",setup(ne){const{withClientMutation:_,withClientQuery:C}=M();let n=u(!1),h=u(""),i=N({});const p=u(!0),l=u([]);V(()=>{C(T,{},"abxGuidelinesAll").then(s=>{s&&(l.value=s)})});function w(s,e={}){p.value=s,n.value=!0,h.value=(s?"Create":"Edit")+" Abx Guideline",s?Object.assign(i,{}):Object.assign(i,{...e})}function G(){const s={name:i.name,code:i.code,description:i.description};p.value===!0&&_(q,{payload:s},"createAbxGuideline").then(e=>{e&&l.value.unshift(e)}),p.value===!1&&_(I,{uid:i.uid,payload:s},"updateAbxGuideline").then(e=>{if(e){const a=l.value.findIndex(r=>r.uid==e.uid);a>-1&&(l.value=[...l.value.map((r,m)=>m===a?e:r)])}}),n.value=!1}return(s,e)=>{const a=v("fel-button"),r=v("fel-heading"),m=v("fel-modal");return c(),x("div",L,[k(r,{title:"Antibiotic Guidelines"},{default:f(()=>[k(a,{onClick:e[0]||(e[0]=o=>w(!0))},{default:f(()=>e[6]||(e[6]=[$("Add Guideline")])),_:1})]),_:1}),t("div",z,[t("div",H,[t("table",J,[e[7]||(e[7]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Description"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Code"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",Q,[(c(!0),x(B,null,E(l.value,o=>(c(),x("tr",{key:o?.uid,class:"hover:bg-muted/50"},[t("td",R,b(o?.name),1),t("td",W,b(o?.description),1),t("td",Z,b(o?.code),1),t("td",K,[t("button",{onClick:D=>w(!1,o),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 mr-2"}," Edit ",8,P),t("button",{onClick:D=>s.deleteGuideline(o),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-destructive bg-background text-destructive hover:bg-destructive hover:text-destructive-foreground h-9 px-4 py-2"}," Delete ",8,X)])]))),128))])])])]),d(n)?(c(),F(m,{key:0,onClose:e[5]||(e[5]=o=>A(n)?n.value=!1:n=!1)},{header:f(()=>[t("h3",Y,b(d(h)),1)]),body:f(()=>[t("form",{onSubmit:U(G,["prevent"]),class:"space-y-4"},[t("div",ee,[e[8]||(e[8]=t("label",{for:"name",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Name",-1)),g(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=o=>d(i).name=o),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",required:""},null,512),[[y,d(i).name]])]),t("div",te,[e[9]||(e[9]=t("label",{for:"description",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Description",-1)),g(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>d(i).description=o),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",rows:"3"},null,512),[[y,d(i).description]])]),t("div",oe,[e[10]||(e[10]=t("label",{for:"code",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Code",-1)),g(t("input",{id:"code","onUpdate:modelValue":e[3]||(e[3]=o=>d(i).code=o),type:"text",class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",required:""},null,512),[[y,d(i).code]])]),t("div",ie,[t("button",{type:"button",onClick:e[4]||(e[4]=o=>A(n)?n.value=!1:n=!1),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"}," Cancel "),e[11]||(e[11]=t("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"}," Save ",-1))])],32)]),_:1})):O("",!0)])}}});const re=S(se,[["__scopeId","data-v-cb02f4a4"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/antibiotics/AbxGuideline.vue"]]);export{re as default};
