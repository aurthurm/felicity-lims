import{S as N,f as F,a0 as c,h as S,a7 as T,r as d,o as u,c as m,N as t,a as p,L as i,M as v,F as R,E as V,H as x,a5 as l,K as _,y as B,A as U,C as h,X as w,ad as $,_ as j}from"./index-3686e2f1.js";import{u as O,A as X,E as H}from"./reflex.mutations-49e7d8f6.js";const I={class:"space-y-6"},K={class:"rounded-md border border-border bg-card p-6"},q={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-border"},G={class:"divide-y divide-border bg-background"},J={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},P={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},Q={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},W=["onClick"],Y={class:"text-xl font-semibold text-foreground"},Z={class:"grid grid-cols-1 gap-4"},ee={class:"block"},te={class:"block"},oe=N({__name:"ReflexListing",setup(se){const{withClientMutation:b}=F(),a=O();let n=c(!1),y=c(""),o=S({});const f=c(!0);T(async()=>{a.fetchAllReflexRules()});function k(){const r={name:o.name,description:o.description};b(X,{payload:r},"createReflexRule").then(e=>a.addReflexRule(e))}function E(){const r={name:o.name,description:o.description};b(H,{uid:o.uid,payload:r},"updateReflexRule").then(e=>a.updateReflexRule(e))}function g(r,e={}){f.value=r,n.value=!0,y.value=(r?"CREATE":"EDIT")+" REFLEX RULE",r?Object.assign(o,{}):Object.assign(o,{...e})}function C(){f.value===!0&&k(),f.value===!1&&E(),n.value=!1}return(r,e)=>{const D=d("fel-button"),A=d("fel-heading"),M=d("router-link"),L=d("fel-modal");return u(),m(R,null,[t("div",I,[p(A,{title:"Reflex Rules"},{default:i(()=>[p(D,{onClick:e[0]||(e[0]=s=>g(!0))},{default:i(()=>e[4]||(e[4]=[v("Add Reflex Rule")])),_:1})]),_:1}),t("div",K,[t("div",q,[t("table",z,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Title"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Description"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",G,[(u(!0),m(R,null,V(l(a).reflexRules,s=>(u(),m("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",J,[p(M,{to:{name:"reflex-detail",params:{uid:s?.uid}},class:"text-primary hover:text-primary/80"},{default:i(()=>[v(x(s?.name),1)]),_:2},1032,["to"])]),t("td",P,x(s?.description),1),t("td",Q,[t("button",{onClick:re=>g(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,W)])]))),128))])])])])]),_(" Reflex Rule Edit Form Modal "),l(n)?(u(),B(L,{key:0,onClose:e[3]||(e[3]=s=>$(n)?n.value=!1:n=!1),"content-width":"w-1/2"},{header:i(()=>[t("h3",Y,x(l(y)),1)]),body:i(()=>[t("form",{onSubmit:U(C,["prevent"]),class:"space-y-6 p-4"},[t("div",Z,[t("label",ee,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Name",-1)),h(t("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>l(o).name=s),placeholder:"Name ..."},null,512),[[w,l(o).name]])]),t("label",te,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),h(t("textarea",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[2]||(e[2]=s=>l(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[w,l(o).description]])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Reflex Rule ",-1))],32)]),_:1})):_("v-if",!0)],64)}}}),ie=j(oe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/reflex/ReflexListing.vue"]]);export{ie as default};
