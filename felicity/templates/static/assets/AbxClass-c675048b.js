import{S as D,f as M,a0 as d,h as N,a7 as E,r as b,o as m,c as x,N as s,a as _,L as p,M as P,F as A,E as U,H as v,a5 as a,y as B,A as F,C as I,X as S,ac as T,K as $,Z as L,$ as O,_ as j}from"./index-54016222.js";import{t as G,r as H,H as R,I as K}from"./microbiology.mutations-f226ce1a.js";const Q={class:"space-y-6"},X={class:"rounded-md border border-border shadow-sm bg-card p-6"},Z={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-border"},z={class:"divide-y divide-border bg-background"},J={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},W={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Y={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ee=["onClick"],se={class:"text-xl font-semibold text-foreground"},te={class:"grid grid-cols-2 gap-4"},oe={class:"block"},le={class:"block"},ae=D({__name:"AbxClass",setup(ne){const k=L(()=>O(()=>import("./vue-multiselect.esm-03413bf7.js"),["assets/vue-multiselect.esm-03413bf7.js","assets/index-54016222.js","assets/index-a1ed10d8.css"])),{withClientMutation:y,withClientQuery:h}=M();let n=d(!1),g=d(""),l=N({});const c=d(!0),r=d([]),C=d([]);E(()=>{h(G,{},"abxClassAll").then(t=>{t&&(r.value=t)}),h(H,{},"abxPhylumAll").then(t=>{t&&(C.value=t)})});function w(t,e={}){c.value=t,n.value=!0,g.value=(t?"Create":"Edit")+" Class",t?Object.assign(l,{}):Object.assign(l,{...e})}function V(){const t={name:l.name,phylumUid:l?.phylum?.uid};c.value===!0&&y(R,{payload:t},"createAbxClass").then(e=>{e&&r.value.unshift(e)}),c.value===!1&&y(K,{uid:l.uid,payload:t},"updateAbxClass").then(e=>{if(e){const u=r.value.findIndex(i=>i.uid==e.uid);u>-1&&(r.value=[...r.value.map((i,f)=>f===u?e:i)])}}),n.value=!1}return(t,e)=>{const u=b("fel-button"),i=b("fel-heading"),f=b("fel-modal");return m(),x(A,null,[s("div",Q,[_(i,{title:"Classes"},{default:p(()=>[_(u,{onClick:e[0]||(e[0]=o=>w(!0))},{default:p(()=>e[4]||(e[4]=[P("Add Class")])),_:1})]),_:1}),s("div",X,[s("div",Z,[s("table",q,[e[5]||(e[5]=s("thead",null,[s("tr",null,[s("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),s("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Phylum"),s("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[s("span",{class:"sr-only"},"Actions")])])],-1)),s("tbody",z,[(m(!0),x(A,null,U(r.value,o=>(m(),x("tr",{key:o?.uid,class:"hover:bg-muted/50"},[s("td",J,v(o?.name),1),s("td",W,v(o?.phylum?.name),1),s("td",Y,[s("button",{onClick:re=>w(!1,o),class:"text-primary hover:text-primary/80"}," Edit ",8,ee)])]))),128))])])])])]),a(n)?(m(),B(f,{key:0,onClose:e[3]||(e[3]=o=>T(n)?n.value=!1:n=!1),"content-width":"w-1/2"},{header:p(()=>[s("h3",se,v(a(g)),1)]),body:p(()=>[s("form",{onSubmit:F(V,["prevent"]),class:"space-y-6 p-4"},[s("div",te,[s("label",oe,[e[6]||(e[6]=s("span",{class:"text-sm font-medium text-foreground"},"Class Name",-1)),I(s("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=o=>a(l).name=o),placeholder:"Name ..."},null,512),[[S,a(l).name]])]),s("label",le,[e[7]||(e[7]=s("span",{class:"text-sm font-medium text-foreground"},"Phylum",-1)),_(a(k),{modelValue:a(l).phylum,"onUpdate:modelValue":e[2]||(e[2]=o=>a(l).phylum=o),options:C.value,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),e[8]||(e[8]=s("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=s("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Class ",-1))],32)]),_:1})):$("",!0)],64)}}});const ue=j(ae,[["__scopeId","data-v-83715e86"],["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxClass.vue"]]);export{ue as default};
