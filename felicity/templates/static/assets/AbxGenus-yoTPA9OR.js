const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-Cvm3ZCjW.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css"])))=>i.map(i=>d[i]);
import{Y as O,u as R,a0 as g,ah as L,a5 as z,a6 as K,a3 as Q,_ as Y,r,c as T,o as u,z as n,A as F,C as A,a as o,K as a,M as f,F as H,H as J,I as _,B as W,D as X,al as Z}from"./index-OdhKCqIc.js";import{c as N,a as j,u as $,b as S}from"./index.esm-BfHj8iGm.js";import{s as ee,p as te,N as ae,O as oe}from"./microbiology.mutations-cVAbKt4K.js";import{E as le,a as ne,b as se,c as re,d as ie}from"./EmptyTitle-aCQRDpx3.js";import{P as de}from"./PageHeading-Czi_4opS.js";const me=O({__name:"AbxGenus",setup(P,{expose:e}){e();const M=z(()=>K(()=>import("./vue-multiselect.esm-Cvm3ZCjW.js"),__vite__mapDeps([0,1,2]))),{withClientMutation:t,withClientQuery:v}=R();let x=g(!1),i=g("");const d=g(!0),m=g(null),c=N({name:j().trim().required("Name is required"),family:N().required("Family is required")}),{handleSubmit:w,resetForm:h,setValues:E,errors:G}=$({validationSchema:c,initialValues:{name:"",family:null}}),{value:s}=S("name"),{value:k}=S("family"),b=g([]),D=g([]);L(()=>{v(ee,{},"abxGenusAll").then(l=>{l&&(b.value=l)}),v(te,{},"abxFamilyAll").then(l=>{l&&(D.value=l)})});function U(l,p={}){d.value=l,x.value=!0,i.value=(l?"Create":"Edit")+" Genus",l?(m.value=null,h()):(m.value=p.uid??null,E({name:p.name??"",family:p.family??null}))}const q=w(l=>{const p={name:l.name,familyUid:l.family?.uid};d.value===!0&&t(ae,{payload:p},"createAbxGenus").then(y=>{y&&b.value.unshift(y)}),d.value===!1&&m.value&&t(oe,{uid:m.value,payload:p},"updateAbxGenus").then(y=>{if(y){const B=b.value.findIndex(C=>C.uid==y.uid);B>-1&&(b.value=[...b.value.map((C,I)=>I===B?y:C)])}}),x.value=!1}),V={VueMultiselect:M,withClientMutation:t,withClientQuery:v,get showModal(){return x},set showModal(l){x=l},get formTitle(){return i},set formTitle(l){i=l},formAction:d,currentUid:m,genusSchema:c,handleSubmit:w,resetForm:h,setValues:E,errors:G,name:s,family:k,abxGenuss:b,abxFamilys:D,FormManager:U,saveForm:q,get Button(){return Q},get Empty(){return ie},get EmptyContent(){return re},get EmptyDescription(){return se},get EmptyHeader(){return ne},get EmptyTitle(){return le},PageHeading:de};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}}),ue={class:"space-y-6"},fe={class:"border border-border bg-card rounded-lg shadow-md"},ce={class:"relative w-full overflow-auto"},be=["onClick"],pe={class:"text-xl font-semibold text-foreground"},ye={class:"grid grid-cols-2 gap-4"},ge={class:"block"},xe={key:0,class:"text-sm text-destructive"},_e={class:"block"},ve={key:0,class:"text-sm text-destructive"};function we(P,e,M,t,v,x){const i=r("TableHead"),d=r("TableRow"),m=r("TableHeader"),c=r("TableCell"),w=r("TableEmpty"),h=r("TableBody"),E=r("Table"),G=r("Modal");return u(),T(H,null,[n("div",ue,[o(t.PageHeading,{title:"Genera"},{default:a(()=>[o(t.Button,{onClick:e[0]||(e[0]=s=>t.FormManager(!0))},{default:a(()=>[...e[5]||(e[5]=[f("Add Genus",-1)])]),_:1})]),_:1}),n("div",fe,[n("div",ce,[o(E,{class:"w-full caption-bottom text-sm"},{default:a(()=>[o(m,{class:"[&_tr]:border-b"},{default:a(()=>[o(d,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[o(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...e[6]||(e[6]=[f("Name",-1)])]),_:1}),o(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...e[7]||(e[7]=[f("Family",-1)])]),_:1}),o(i,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:a(()=>[...e[8]||(e[8]=[n("span",{class:"sr-only"},"Actions",-1)])]),_:1})]),_:1})]),_:1}),o(h,{class:"[&_tr:last-child]:border-0"},{default:a(()=>[(u(!0),T(H,null,J(t.abxGenuss,s=>(u(),F(d,{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[o(c,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:a(()=>[f(_(s?.name),1)]),_:2},1024),o(c,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:a(()=>[f(_(s?.family?.name),1)]),_:2},1024),o(c,{class:"px-4 py-3 align-middle text-right"},{default:a(()=>[n("button",{onClick:k=>t.FormManager(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,be)]),_:2},1024)]),_:2},1024))),128)),!t.abxGenuss||t.abxGenuss.length===0?(u(),F(w,{key:0,colspan:3},{default:a(()=>[o(t.Empty,{class:"border-0 bg-transparent p-0"},{default:a(()=>[o(t.EmptyContent,null,{default:a(()=>[o(t.EmptyHeader,null,{default:a(()=>[o(t.EmptyTitle,null,{default:a(()=>[...e[9]||(e[9]=[f("No genera found",-1)])]),_:1}),o(t.EmptyDescription,null,{default:a(()=>[...e[10]||(e[10]=[f("Add a genus to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})])])]),t.showModal?(u(),F(G,{key:0,onClose:e[4]||(e[4]=s=>t.showModal=!1),"content-width":"w-1/2"},{header:a(()=>[n("h3",pe,_(t.formTitle),1)]),body:a(()=>[n("form",{onSubmit:e[3]||(e[3]=W((...s)=>t.saveForm&&t.saveForm(...s),["prevent"])),class:"space-y-6 p-4"},[n("div",ye,[n("label",ge,[e[11]||(e[11]=n("span",{class:"text-sm font-medium text-foreground"},"Genus Name",-1)),X(n("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>t.name=s),placeholder:"Name ..."},null,512),[[Z,t.name]]),t.errors.name?(u(),T("p",xe,_(t.errors.name),1)):A("",!0)]),n("label",_e,[e[12]||(e[12]=n("span",{class:"text-sm font-medium text-foreground"},"Family",-1)),o(t.VueMultiselect,{modelValue:t.family,"onUpdate:modelValue":e[2]||(e[2]=s=>t.family=s),options:t.abxFamilys,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"]),t.errors.family?(u(),T("p",ve,_(t.errors.family),1)):A("",!0)])]),e[13]||(e[13]=n("hr",{class:"border-border"},null,-1)),e[14]||(e[14]=n("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Genus ",-1))],32)]),_:1})):A("",!0)],64)}const Ce=Y(me,[["render",we],["__scopeId","data-v-d18a9f06"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxGenus.vue"]]);export{Ce as default};
