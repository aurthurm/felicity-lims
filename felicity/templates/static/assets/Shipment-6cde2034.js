import{S as L,a6 as R,i as l,h as $,r as f,ak as B,o as v,c as x,C as s,N as e,K as u,H as n,M as N,a as g,D as r,_ as O}from"./index-628f1f8f.js";import{u as j}from"./shipment-bafdcf4e.js";import{u as V}from"./shipment-b041205c.js";const A={class:"space-y-6"},E={class:"bg-background rounded-lg shadow-sm border border-border p-6 transition-all duration-200 hover:shadow-md"},F={class:"space-y-6"},H={class:"flex items-center justify-between"},I={class:"flex items-center space-x-6"},M={class:"text-lg font-semibold text-foreground"},T={class:"inline-flex items-center rounded-md bg-muted px-2 py-1 text-xs font-medium text-muted-foreground"},U={class:"relative"},z={class:"absolute right-0 mt-2 w-56 rounded-md bg-background shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button"},K={class:"py-1",role:"none"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-border"},G={class:"space-y-4"},J={class:"flex items-center"},P={class:"text-sm text-foreground"},Q={class:"flex items-center"},W={class:"text-sm text-foreground"},X={class:"flex items-center"},Y={class:"text-sm text-foreground"},Z={class:"space-y-4"},ee={class:"flex items-start"},te={class:"text-sm text-foreground"},oe=L({__name:"Shipment",setup(se){const b=R(),d=j(),{actionShipment:h}=V();d.fetchReferralLaboratories(),d.fetchShipmentByUid(b.params.shipmentUid);const o=l(()=>d.getShipment),c=$({dropdownOpen:!1}),m=l(()=>!!["due"].includes(o?.value?.state?.toLowerCase())),_=l(()=>!!["preperation"].includes(o?.value?.state?.toLowerCase())),w=l(()=>!!["preperation","ready"].includes(o?.value?.state?.toLowerCase())),y=l(()=>!!["ready"].includes(o?.value?.state?.toLowerCase())),C=l(()=>!!["failed"].includes(o?.value?.state?.toLowerCase())),i=p=>{if(!o.value?.incoming&&!(o.value?.laboratory?.url&&o.value?.laboratory?.password&&o.value?.laboratory?.username&&o.value?.courier)){alert("The External Laboratory has missing information or the courier missing");return}h(o.value?.uid,p)};return(p,t)=>{const k=f("font-awesome-icon"),S=f("router-view"),D=B("motion-slide-top");return v(),x("div",A,[s((v(),x("div",E,[e("div",F,[u(" Header Section "),e("div",H,[e("div",I,[e("h3",M,n(o.value?.shipmentId),1),e("span",T,n(o.value?.incoming?"InBound":"OutBound"),1)]),u(" Actions Dropdown "),e("div",U,[e("button",{onClick:t[0]||(t[0]=a=>c.dropdownOpen=!c.dropdownOpen),class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4"},[N(n(o.value?.state||"unknown")+" ",1),g(k,{icon:"chevron-down",class:"ml-2 h-4 w-4"})]),u(" Dropdown Menu "),s(e("div",z,[e("div",K,[s(e("button",{onClick:t[1]||(t[1]=a=>i("reject")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Reject ",512),[[r,m.value]]),s(e("button",{onClick:t[2]||(t[2]=a=>i("receive")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Receive ",512),[[r,m.value]]),s(e("button",{onClick:t[3]||(t[3]=a=>i("finalise")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Finalise ",512),[[r,_.value]]),s(e("button",{onClick:t[4]||(t[4]=a=>i("dispatch")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Dispatch ",512),[[r,y.value]]),s(e("button",{onClick:t[5]||(t[5]=a=>i("dispatch-now")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Retry Notification ",512),[[r,C.value]]),s(e("button",{onClick:t[6]||(t[6]=a=>i("cancel")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Cancel ",512),[[r,w.value]])])],512),[[r,c.dropdownOpen]])])]),u(" Details Section "),e("div",q,[e("div",G,[e("div",J,[t[7]||(t[7]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"External Laboratory",-1)),e("span",P,n(o.value?.laboratory?.name),1)]),e("div",Q,[t[8]||(t[8]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Courier",-1)),e("span",W,n(o.value?.courier),1)]),e("div",X,[t[9]||(t[9]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Assigned Count",-1)),e("span",Y,n(o.value?.assignedCount),1)])]),e("div",Z,[e("div",ee,[t[10]||(t[10]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Comment",-1)),e("span",te,n(o.value?.comment),1)])])])])])),[[D]]),g(S)])}}}),ae=O(oe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/shipment/_id/Shipment.vue"]]);export{ae as default};
