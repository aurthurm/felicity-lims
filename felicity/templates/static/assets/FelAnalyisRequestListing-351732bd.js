import{S as U,t as I,u as L,ai as P,W as V,r as f,ak as g,o,c as n,N as t,F as p,E as v,C as y,H as s,a3 as q,a as u,K as b,L as R,M as w,a5 as _,_ as B}from"./index-9a11e11f.js";import{p as E}from"./index-7eeb4507.js";const T={class:"overflow-x-auto mt-4"},j={class:"rounded-lg border border-border bg-card shadow-sm"},z={class:"w-full"},H={class:"[&_tr:last-child]:border-0"},K={class:"border-b border-border bg-muted/50"},M={colspan:"10",class:"p-4"},W={class:"text-sm text-foreground"},G={class:"p-4"},J={class:"p-4"},O={class:"font-medium"},Q={class:"p-4"},X={class:"text-sm text-primary"},Y={class:"p-4"},Z={class:"text-sm text-primary"},$={class:"p-4"},tt={class:"text-sm text-primary"},et={class:"p-4"},st={class:"text-sm text-primary"},it={class:"p-4"},ot={class:"text-sm text-primary"},nt={class:"p-4"},at={class:"text-sm text-primary"},rt={class:"p-4"},dt={type:"button",class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 px-3"},lt={class:"p-4 text-right"},ct={key:0,class:"p-4 text-center"},mt=U({__name:"FelAnalyisRequestListing",props:{target:String,targetUid:String},setup(A){const h=A,{targetUid:x,target:m}=I(h),r=L(),{analysisRequests:C,fetchingAnalysisRequests:k}=P(r);m?.value==="patient-samples"&&r.fetchAnalysisRequestsForPatient(x?.value),m?.value==="client-samples"&&r.fetchAnalysisRequestsForClient(x?.value),V(()=>h.targetUid,(l,a)=>{r.resetAnalysisRequests(),m?.value==="patient-samples"&&r.fetchAnalysisRequestsForPatient(l),m?.value==="client-samples"&&r.fetchAnalysisRequestsForClient(l)});function F(l,a){let c=[];return l.forEach(d=>c.push(d.name)),a.forEach(d=>c.push(d.name)),c.join(", ")}return(l,a)=>{const c=f("font-awesome-icon"),d=f("router-link"),S=f("fel-loader"),D=g("motion-slide-left"),N=g("motion-slide-right");return o(),n("div",T,[t("div",j,[t("table",z,[a[1]||(a[1]=t("thead",null,[t("tr",null,[t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Sample ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Test(s) "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Patient "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client Patient ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Created "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Creator "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Status "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"})])],-1)),t("tbody",H,[(o(!0),n(p,null,v(_(C),i=>(o(),n(p,{key:i.uid},[y((o(),n("tr",K,[t("td",M,[t("div",W,s(i.clientRequestId),1)])])),[[D]]),(o(!0),n(p,null,v(i.samples,e=>y((o(),n("tr",{key:e.uid,class:"border-b border-border"},[t("td",G,[e.priority??0<1?(o(),n("span",{key:0,class:q(["text-sm",{"text-destructive":e.priority??!0}])},[u(c,{icon:"fa-star"})],2)):b("v-if",!0)]),t("td",J,[t("div",O,[u(d,{to:{name:"sample-detail",params:{patientUid:i.patient?.uid,sampleUid:e?.uid}},class:"text-primary hover:underline"},{default:R(()=>[w(s(e.sampleId),1)]),_:2},1032,["to"])])]),t("td",Q,[t("div",X,s(F(e.profiles??[],e.analyses??[])),1)]),t("td",Y,[t("div",Z,s(i.patient?.firstName)+" "+s(i.patient?.lastName),1)]),t("td",$,[t("div",tt,s(i.patient?.clientPatientId),1)]),t("td",et,[t("div",st,s(i.client?.name),1)]),t("td",it,[t("div",ot,s(_(E)(e?.createdAt)),1)]),t("td",nt,[t("div",at,s(e?.createdBy?.firstName),1)]),t("td",rt,[t("button",dt,s(e.status),1)]),t("td",lt,[u(d,{to:{name:"sample-detail",params:{patientUid:i.patient?.uid,sampleUid:e?.uid}},class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3"},{default:R(()=>[...a[0]||(a[0]=[w(" View ")])]),_:2},1032,["to"])])])),[[N]])),128))],64))),128))])]),_(k)?(o(),n("div",ct,[u(S,{message:"Fetching Analysis Requests ..."})])):b("v-if",!0)])])}}}),pt=B(mt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/sample/FelAnalyisRequestListing.vue"]]);export{pt as default};
