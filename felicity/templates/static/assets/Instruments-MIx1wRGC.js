const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cdc6vSVw.js","assets/index-B3SP4dh7.css"])))=>i.map(i=>d[i]);
import{a0 as L,f as O,a7 as x,g as P,h as y,a1 as R,a6 as K,_ as J,r as k,c as l,o as d,A as t,C as Y,E as q,a as E,N as v,P as C,J as c,K as w,L as u,D as z,F as m,a2 as h,a9 as U}from"./index-Cdc6vSVw.js";import{c as G,d as H}from"./instrument.mutations-BXNmdAFX.js";import{u as Q}from"./user-DvEjaZsO.js";import{u as W}from"./setup-CYxvLUvq.js";const X=L({__name:"Instruments",setup(A,{expose:e}){e();const T=R(()=>K(()=>import("./index-Cdc6vSVw.js").then(s=>s.dd),__vite__mapDeps([0,1]))),r=Q(),i=W(),{withClientMutation:b}=O();let g=x("view");const _=["view","configs"];let a=x(!1),n=x("");const f=x(!0);let o=P({});i.fetchInstrumentTypes();const V=y(()=>i.getInstrumentTypes);i.fetchInstruments();const D=y(()=>i.getInstruments);i.fetchManufacturers();const N=y(()=>i.getManufacturers);i.fetchSuppliers();const F=y(()=>i.getSuppliers);function I(){const s={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};b(G,{payload:s},"createInstrument").then(p=>i.addInstrument(p))}function S(){const s={name:o.name,keyword:o.keyword,description:o.description,instrumentTypeUid:o.instrumentTypeUid,manufacturerUid:o.manufacturerUid,supplierUid:o.supplierUid};b(H,{uid:o.uid,payload:s},"updateInstrument").then(p=>i.updateInstrument(p))}function j(s,p={}){f.value=s,a.value=!0,n.value=(s?"CREATE":"EDIT")+" ANALYSES INSTRUMENT",s?Object.assign(o,{}):Object.assign(o,{...p})}function B(){f.value===!0&&I(),f.value===!1&&S(),a.value=!1}const M={modal:T,userStore:r,setupStore:i,withClientMutation:b,get currentTab(){return g},set currentTab(s){g=s},tabs:_,get showModal(){return a},set showModal(s){a=s},get formTitle(){return n},set formTitle(s){n=s},formAction:f,get instrument(){return o},set instrument(s){o=s},instrumentTypes:V,instruments:D,manufacturers:N,suppliers:F,addInstrument:I,editInstrument:S,FormManager:j,saveForm:B};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),Z={class:"space-y-6"},$={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},ee={class:"min-w-full divide-y divide-border"},te={class:"bg-background divide-y divide-border"},ne={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},re={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},oe={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},se={class:"px-4 py-2 whitespace-nowrap text-sm text-foreground"},ie={class:"px-4 py-2 whitespace-nowrap text-sm text-right"},de=["onClick"],le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ue={class:"space-y-2 md:col-span-2"},ae={class:"space-y-2"},me={class:"space-y-2"},fe=["value"],pe={class:"space-y-2"},ce=["value"],be={class:"space-y-2"},ge=["value"],xe={class:"space-y-2 md:col-span-2"},ye={class:"flex justify-end pt-6"},ve={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"};function we(A,e,T,r,i,b){const g=k("fel-button"),_=k("fel-heading"),a=k("fel-modal");return d(),l(c,null,[t("div",Z,[E(_,{title:"Instruments"},{default:v(()=>[E(g,{onClick:e[0]||(e[0]=n=>r.FormManager(!0))},{default:v(()=>[...e[9]||(e[9]=[C(" Add Instrument",-1)])]),_:1})]),_:1}),t("div",$,[t("table",ee,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Name"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Type"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Manufacturer"),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Supplier"),t("th",{class:"px-4 py-2 text-right text-sm font-medium text-muted-foreground tracking-wider"},"Actions")])],-1)),t("tbody",te,[(d(!0),l(c,null,w(r.instruments,n=>(d(),l("tr",{key:n?.uid,class:"hover:bg-muted/50"},[t("td",ne,u(n?.name),1),t("td",re,u(n?.instrumentType?.name),1),t("td",oe,u(n?.manufacturer?.name),1),t("td",se,u(n?.supplier?.name),1),t("td",ie,[t("button",{onClick:f=>r.FormManager(!1,n),class:"text-primary hover:text-primary/80 focus:outline-none focus:underline","aria-label":"Edit instrument"}," Edit ",8,de)])]))),128))])])])]),r.showModal?(d(),Y(a,{key:0,onClose:e[8]||(e[8]=n=>r.showModal=!1)},{body:v(()=>[t("form",{onSubmit:e[7]||(e[7]=z(n=>r.saveForm(),["prevent"])),class:"space-y-6"},[t("div",le,[t("div",ue,[e[11]||(e[11]=t("label",{for:"name",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument Name ",-1)),m(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=n=>r.instrument.name=n),type:"text",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter instrument name"},null,512),[[h,r.instrument.name]])]),t("div",ae,[e[12]||(e[12]=t("label",{for:"keyword",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Keyword ",-1)),m(t("input",{id:"keyword","onUpdate:modelValue":e[2]||(e[2]=n=>r.instrument.keyword=n),type:"text",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter keyword"},null,512),[[h,r.instrument.keyword]])]),t("div",me,[e[14]||(e[14]=t("label",{for:"instrumentType",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument Type ",-1)),m(t("select",{id:"instrumentType","onUpdate:modelValue":e[3]||(e[3]=n=>r.instrument.instrumentTypeUid=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[13]||(e[13]=t("option",{value:""},"Select instrument type",-1)),(d(!0),l(c,null,w(r.instrumentTypes,n=>(d(),l("option",{key:n?.uid,value:n.uid},u(n?.name),9,fe))),128))],512),[[U,r.instrument.instrumentTypeUid]])]),t("div",pe,[e[16]||(e[16]=t("label",{for:"manufacturer",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Manufacturer ",-1)),m(t("select",{id:"manufacturer","onUpdate:modelValue":e[4]||(e[4]=n=>r.instrument.manufacturerUid=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[15]||(e[15]=t("option",{value:""},"Select manufacturer",-1)),(d(!0),l(c,null,w(r.manufacturers,n=>(d(),l("option",{key:n?.uid,value:n.uid},u(n?.name),9,ce))),128))],512),[[U,r.instrument.manufacturerUid]])]),t("div",be,[e[18]||(e[18]=t("label",{for:"supplier",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Supplier ",-1)),m(t("select",{id:"supplier","onUpdate:modelValue":e[5]||(e[5]=n=>r.instrument.supplierUid=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[17]||(e[17]=t("option",{value:""},"Select supplier",-1)),(d(!0),l(c,null,w(r.suppliers,n=>(d(),l("option",{key:n?.uid,value:n.uid},u(n?.name),9,ge))),128))],512),[[U,r.instrument.supplierUid]])]),t("div",xe,[e[19]||(e[19]=t("label",{for:"description",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Description ",-1)),m(t("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=n=>r.instrument.description=n),rows:"3",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description"},null,512),[[h,r.instrument.description]])])]),t("div",ye,[t("button",ve,u(r.formAction?"Create":"Update")+" Instrument ",1)])],32)]),default:v(()=>[e[20]||(e[20]=C(' :title="formTitle"> ',-1))]),_:1})):q("",!0)],64)}const Te=J(X,[["render",we],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Instruments.vue"]]);export{Te as default};
