import{a0 as k,f as D,a7 as u,g as M,ad as C,_ as N,r as v,c as p,o as c,A as e,C as B,E as F,a as T,J as h,K as V,L as b,N as _,D as E,F as y,a2 as w}from"./index-CNAOKjig.js";import{a5 as j,ac as U,ad as L}from"./microbiology.mutations-Sq_uOjPv.js";const G=k({__name:"AbxSiteOfInfection",setup(S,{expose:t}){t();const{withClientMutation:d,withClientQuery:n}=D();let a=u(!1),f=u(""),s=M({});const l=u(!0),o=u([]);C(()=>{n(j,{},"abxSiteOfInfectionAll").then(i=>{i&&(o.value=i)})});function A(i,r={}){l.value=i,a.value=!0,f.value=(i?"Create":"Edit")+" Abx SiteOfInfection",i?Object.assign(s,{}):Object.assign(s,{...r})}function I(){const i={name:s.name,description:s.description};l.value===!0&&d(U,{payload:i},"createAbxSiteOfInfection").then(r=>{r&&o.value.unshift(r)}),l.value===!1&&d(L,{uid:s.uid,payload:i},"updateAbxSiteOfInfection").then(r=>{if(r){const g=o.value.findIndex(m=>m.uid==r.uid);g>-1&&(o.value=[...o.value.map((m,O)=>O===g?r:m)])}}),a.value=!1}const x={withClientMutation:d,withClientQuery:n,get showModal(){return a},set showModal(i){a=i},get formTitle(){return f},set formTitle(i){f=i},get form(){return s},set form(i){s=i},formAction:l,abxSiteOfInfections:o,FormManager:A,saveForm:I};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),J={class:"space-y-6"},K={class:"overflow-x-auto"},P={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card shadow-dashboard rounded-lg p-6"},Q={class:"min-w-full divide-y divide-border"},q={class:"bg-background divide-y divide-border"},z={class:"px-3 py-3.5 whitespace-nowrap text-sm text-foreground"},H={class:"px-3 py-3.5 whitespace-nowrap text-sm text-foreground"},R={class:"text-xl font-semibold text-foreground"},W={class:"grid grid-cols-2 gap-4"},X={class:"block"},Y={class:"block"};function Z(S,t,d,n,a,f){const s=v("fel-heading"),l=v("fel-modal");return c(),p(h,null,[e("div",J,[T(s,{title:"Site of Infection"}),e("div",K,[e("div",P,[e("table",Q,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Description"),e("th",{class:"px-3 py-3.5"})])],-1)),e("tbody",q,[(c(!0),p(h,null,V(n.abxSiteOfInfections,o=>(c(),p("tr",{key:o?.uid},[e("td",z,b(o?.name),1),e("td",H,b(o?.description),1),t[3]||(t[3]=e("td",{class:"px-3 py-3.5 whitespace-nowrap text-right text-sm"},null,-1))]))),128))])])])])]),n.showModal?(c(),B(l,{key:0,onClose:t[2]||(t[2]=o=>n.showModal=!1)},{header:_(()=>[e("h3",R,b(n.formTitle),1)]),body:_(()=>[e("form",{onSubmit:E(n.saveForm,["prevent"]),class:"space-y-6 p-4"},[e("div",W,[e("label",X,[t[5]||(t[5]=e("span",{class:"text-sm font-medium text-foreground"},"Name",-1)),y(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[0]||(t[0]=o=>n.form.name=o),placeholder:"Name ..."},null,512),[[w,n.form.name]])]),e("label",Y,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),y(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=o=>n.form.description=o),placeholder:"Begin typing ..."},null,512),[[w,n.form.description]])])]),t[7]||(t[7]=e("hr",{class:"border-border"},null,-1)),t[8]||(t[8]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-sm px-4 py-2 transition-colors duration-300 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Abx SiteOfInfection ",-1))],32)]),_:1})):F("",!0)],64)}const te=N(G,[["render",Z],["__scopeId","data-v-575af280"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxSiteOfInfection.vue"]]);export{te as default};
