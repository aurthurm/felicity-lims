import{S as R,f as $,a6 as q,a7 as H,a0 as p,r as g,o as d,c as r,N as e,K as v,a5 as s,a as C,H as a,C as x,D as K,y as X,L as h,X as E,ad as y,F as b,E as w,a2 as k,A as j,_ as z}from"./index-0c222abb.js";import{A as G,E as J}from"./clients.mutations-d3ec84b0.js";import{u as O}from"./location-be2b8c5f.js";import{u as Q}from"./client-356e4761.js";import{h as W,o as Y,a as Z}from"./constants-db06f5c8.js";const tt={class:"grid grid-cols-12 gap-4 mt-2 mb-4"},et={class:"col-span-12"},ot={class:"bg-background rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},st={key:0,class:"py-4 text-center"},nt={key:1,class:"grid grid-cols-12 gap-3"},lt={class:"col-span-12 px-3 sm:px-0"},it={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-foreground font-bold"},dt={class:"grid grid-cols-2 mt-2"},at={class:"col-span-1"},rt={class:"flex"},ut={class:"text-foreground text-sm md:text-md"},mt={class:"flex"},ct={class:"text-foreground text-sm md:text-md"},ft={class:"flex"},pt={class:"text-foreground text-sm md:text-md"},vt={class:"col-span-1"},xt={class:"flex"},gt={class:"text-foreground text-sm md:text-md"},bt={class:"flex"},_t={class:"text-foreground text-sm md:text-md"},Ct={action:"post",class:"p-1"},yt={class:"grid grid-cols-2 gap-x-4 mb-4"},wt={class:"block col-span-1 mb-2"},kt={class:"block col-span-1 mb-2"},Ut={class:"grid grid-cols-3 gap-x-4 mb-4"},Dt={class:"block col-span-1 mb-2"},ht=["value"],Et={class:"block col-span-1 mb-2"},St=["value"],Mt={class:"block col-span-1 mb-2"},Nt=["value"],Vt=R({__name:"Client",setup(Bt){const u=O(),{withClientMutation:U}=$(),S=q(),l=Q();H(()=>{l.fetchClientByUid(S.query.clientUid),u.fetchCountries()});let m=p(!1),_=p(!1),D=p(""),n=p({}),c=p(),f=p();function M(i){u.filterProvincesByCountry(c.value)}function N(i){u.filterDistrictsByProvince(f.value)}function V(i,t={}){_.value=i,D.value=`${i?"CREATE":"EDIT"} CLIENT`,m.value=!0,i?n.value={}:(c.value=t?.district?.province?.countryUid,f.value=t?.district?.provinceUid,n.value=t)}function B(){U(G,{payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"createClient").then(i=>l.addClient(i))}function F(){U(J,{uid:n?.value?.uid,payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"updateClient").then(i=>l.updateClient(i))}function L(){_.value&&B(),_.value||F(),m.value=!1,n.value={}}return(i,t)=>{const P=g("fel-loader"),T=g("font-awesome-icon"),A=g("router-view"),I=g("fel-modal");return d(),r(b,null,[e("div",null,[e("div",tt,[e("section",et,[v(" Listing Item Card "),e("div",ot,[s(l).fetchingClient?(d(),r("div",st,[C(P,{message:"Fetching client metadata ..."})])):(d(),r("div",nt,[v(" Summary Column "),e("div",lt,[e("div",it,[e("span",null,a(s(l).client?.name),1),e("div",null,[x(e("button",{onClick:t[0]||(t[0]=o=>V(!1,s(l).client)),class:"p-1 ml-2 rounded-sm border border-foreground text-muted-foreground text-md transition duration-300 hover:text-primary focus:outline-none"},[C(T,{icon:"fa-edit"})],512),[[K,W(Z.UPDATE,Y.CLIENT)]])])]),t[15]||(t[15]=e("hr",null,null,-1)),e("div",dt,[e("div",at,[v(" Client Details "),e("div",rt,[t[10]||(t[10]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Province:",-1)),e("span",ut,a(s(l).client?.district?.province?.name),1)]),e("div",mt,[t[11]||(t[11]=e("span",{class:"text-foreground text-sm font-medium w-16"},"District:",-1)),e("span",ct,a(s(l).client?.district?.name),1)]),e("div",ft,[t[12]||(t[12]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Code:",-1)),e("span",pt,a(s(l).client?.code),1)])]),e("div",vt,[v(" Communication Details "),e("div",xt,[t[13]||(t[13]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Email:",-1)),e("span",gt,a(s(l).client?.email),1)]),e("div",bt,[t[14]||(t[14]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Mobile:",-1)),e("span",_t,a(s(l).client?.mobilePhone),1)])])])])]))])])]),C(A)]),v(" Location Edit Form Modal "),s(m)?(d(),X(I,{key:0,onClose:t[9]||(t[9]=o=>y(m)?m.value=!1:m=!1)},{header:h(()=>[e("h3",null,a(s(D)),1)]),body:h(()=>[e("form",Ct,[e("div",yt,[e("label",wt,[t[16]||(t[16]=e("span",{class:"text-foreground"},"Name",-1)),x(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[1]||(t[1]=o=>s(n).name=o),placeholder:"Name ..."},null,512),[[E,s(n).name]])]),e("label",kt,[t[17]||(t[17]=e("span",{class:"text-foreground"},"Code",-1)),x(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[2]||(t[2]=o=>s(n).code=o),placeholder:"Code ..."},null,512),[[E,s(n).code]])])]),e("div",Ut,[e("label",Dt,[t[19]||(t[19]=e("span",{class:"text-foreground"},"Country",-1)),x(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[3]||(t[3]=o=>y(c)?c.value=o:c=o),onChange:t[4]||(t[4]=o=>M(o))},[t[18]||(t[18]=e("option",null,null,-1)),(d(!0),r(b,null,w(s(u).countries,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,ht))),128))],544),[[k,s(c)]])]),e("label",Et,[t[21]||(t[21]=e("span",{class:"text-foreground"},"Province",-1)),x(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[5]||(t[5]=o=>y(f)?f.value=o:f=o),onChange:t[6]||(t[6]=o=>N(o))},[t[20]||(t[20]=e("option",null,null,-1)),(d(!0),r(b,null,w(s(u).provinces,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,St))),128))],544),[[k,s(f)]])]),e("label",Mt,[t[23]||(t[23]=e("span",{class:"text-foreground"},"District",-1)),x(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[7]||(t[7]=o=>s(n).districtUid=o)},[t[22]||(t[22]=e("option",null,null,-1)),(d(!0),r(b,null,w(s(u).districts,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,Nt))),128))],512),[[k,s(n).districtUid]])])]),t[24]||(t[24]=e("hr",null,null,-1)),e("button",{type:"button",onClick:t[8]||(t[8]=j(o=>L(),["prevent"])),class:"m-2 -mb-4 w-full rounded-sm border border-primary bg-primary px-4 py-2 text-primary-foreground transition-colors duration-500 ease select-none hover:bg-primary focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):v("v-if",!0)],64)}}}),It=z(Vt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/client/_id/Client.vue"]]);export{It as default};
