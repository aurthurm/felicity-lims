import{V as C,aj as N,a1 as u,a2 as d,ak as o,h as w,i as T,r as f,o as I,c as L,a as i,O as s,M as m,a6 as n,N as R,$ as A,a0 as D,_ as M}from"./index-0a787601.js";import{u as k}from"./patient-5e9cb0a9.js";const S={class:"space-y-6"},V={class:"rounded-lg border border-border bg-card shadow-sm p-6"},O={class:"space-y-4 p-4"},U={class:"flex justify-start items-center gap-2"},j={class:"text-primary"},E={class:"flex justify-start"},H=C({__name:"PatientListing",setup(F){const p=A(()=>D(()=>import("./FelDataTable-ff278bf5.js"),["assets/FelDataTable-ff278bf5.js","assets/index-0a787601.js","assets/index-8412b2a5.css"]));let r=k();const{patients:c,fetchingPatients:g,patientPageInfo:l}=N(r),h=u([{name:"UID",value:"uid",sortable:!0,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Patient Id",value:"patientId",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,a){return d(o,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:e?.patientId})}},{name:"Full Name",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,a){return d(o,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:P(e)})}},{name:"Age",value:"age",sortable:!1,sortBy:"asc",hidden:!1},{name:"Gender",value:"gender",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client Patient ID",value:"clientPatientId",sortable:!1,sortBy:"asc",hidden:!1},{name:"Province",value:"client.district.province.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"District",value:"client.district.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client",value:"client.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"",value:"",sortable:!1,sortBy:"asc",showInToggler:!1,hidden:!1,customRender:function(e,a){return d(o,{to:{name:"samples-add",params:{patientUid:e?.uid}},class:"px-2 mr-2 border-primary border text-primary rounded-sm transition duration-300 hover:bg-primary hover:text-primary-foreground focus:outline-none",innerHTML:"+ Analysis Request"})}}]);let t=w({first:50,before:"",text:"",sortBy:["-uid"],filterAction:!1});r.fetchPatients(t);let _=u("");function v(e){t.first=100,t.before=l?.value?.endCursor??"",t.text=e.filterText,t.filterAction=!0,_.value=e.filterText,r.fetchPatients(t)}const b=T(()=>c?.value?.length+" of "+r.getPatientCount+" patients");function y(e){t.first=e.fetchCount,t.before=l?.value?.endCursor??"",t.text=e.filterText,t.filterAction=!1,r.fetchPatients(t)}let P=e=>e.firstName+" "+e.lastName;return(e,a)=>{const x=f("fel-heading"),B=f("font-awesome-icon");return I(),L("div",S,[i(x,{title:"Patients"}),s("div",V,[i(n(p),{columns:h.value,data:n(c),toggleColumns:!0,loading:n(g),paginable:!0,pageMeta:{fetchCount:n(t).first,hasNextPage:n(l)?.hasNextPage,countNone:b.value},searchable:!0,filterable:!1,onOnSearch:v,onOnPaginate:y,selectable:!1,class:"bg-background rounded-lg shadow-sm"},{footer:m(()=>[s("div",O,[s("div",U,[s("span",j,[i(B,{icon:"fa-info-circle"})]),a[0]||(a[0]=s("p",{class:"text-sm text-muted-foreground italic"}," Click register when you dont find your patient during search* ",-1))]),s("div",E,[i(n(o),{to:"/patients/register",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:m(()=>a[1]||(a[1]=[R(" Register New Patient ")])),_:1})])])]),_:1},8,["columns","data","loading","pageMeta"])])])}}}),$=M(H,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientListing.vue"]]);export{$ as default};
