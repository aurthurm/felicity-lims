const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PatientForm-Ipby8-T2.js","assets/index-Cdc6vSVw.js","assets/index-B3SP4dh7.css","assets/vue-multiselect.esm-CZOh13og.js","assets/index.esm-CxvirWgB.js","assets/patient.mutations-Clfx6fte.js","assets/client-DZ7kywvY.js","assets/location-CDLyOdjk.js","assets/patient-CT8lm8Na.js","assets/index-DUkUXZe3.js","assets/vue-multiselect-Chsy-e4F.css","assets/PatientInfo-JlGio-Md.js","assets/index-Df7aGkrY.js","assets/FelAnalyisRequestListing-CkQXnjFj.js","assets/PatientBill-XkZ_vpRH.js","assets/billing-BSZUQUJ0.js","assets/billing.queries-DriKblyU.js","assets/PatientBill-DgtmbiIH.css","assets/FelAuditLog-BtEQLrYZ.js","assets/user-DvEjaZsO.js"])))=>i.map(i=>d[i]);
import{a0 as j,as as B,a7 as C,g as G,h as I,a1 as _,a6 as p,ad as O,_ as U,r as f,aa as Q,c,o as i,a as h,A as t,C as P,E as y,N as x,P as K,F as N,J as z,K as J,Q as q,L as d}from"./index-Cdc6vSVw.js";import{u as H}from"./patient-CT8lm8Na.js";import{u as W}from"./location-CDLyOdjk.js";import{s as X}from"./index-Df7aGkrY.js";const Y=j({__name:"PatientsCompact",setup(R,{expose:n}){n();const m={MALE:0,FEMALE:1,MISSING:2,TRANS:3},e={[m.MALE]:"Male",[m.FEMALE]:"Female",[m.MISSING]:"Missing",[m.TRANS]:"Trans Gender"},E={PatientForm:_(()=>p(()=>import("./PatientForm-Ipby8-T2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),PatientInfo:_(()=>p(()=>import("./PatientInfo-JlGio-Md.js"),__vite__mapDeps([11,1,2,12,8,9])))},l=H(),g=W(),{patients:b,fetchingPatients:v}=B(l),u=C(!1),r=C({}),a=G({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),o=I(()=>Object.keys(r.value).length>0),k=I(()=>[{id:"samples",label:"Samples",component:_(()=>p(()=>import("./FelAnalyisRequestListing-CkQXnjFj.js"),__vite__mapDeps([13,1,2,9]))),props:{target:"patient-samples",targetUid:r.value.uid}},{id:"billing",label:"Billing",component:_(()=>p(()=>import("./PatientBill-XkZ_vpRH.js"),__vite__mapDeps([14,1,2,15,16,9,17]))),props:{patientUid:r.value.uid}},{id:"logs",label:"Logs",component:_(()=>p(()=>import("./FelAuditLog-BtEQLrYZ.js"),__vite__mapDeps([18,1,2,19,9]))),props:{targetType:"patient",targetUid:r.value.uid}}]),T=s=>`${s.firstName} ${s.lastName}`,F=s=>e[s]||"Unknown",A=s=>{r.value=s,l.setPatient(s)},S=()=>{r.value={},l.resetPatient()},L=s=>{const V=s.target;a.first=100,a.before="",a.text=V.value,a.filterAction=!0,l.fetchPatients(a)},M=async()=>{S(),u.value=!0},D=s=>{A(s),u.value=!1};O(()=>{g.fetchCountries(),l.fetchPatients(a)});const w={GENDERS:m,GENDER_LABELS:e,components:E,patientStore:l,locationStore:g,patients:b,fetchingPatients:v,showModal:u,patientForm:r,searchParams:a,isPatientSelected:o,tabs:k,getPatientFullName:T,getGender:F,selectPatient:A,resetPatient:S,handleSearch:L,handleQuickRegistration:M,handlePatientUpdate:D,get shield(){return X}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Z={class:"space-y-6"},$={class:"flex justify-between items-center"},ee={class:"flex items-center space-x-4"},te={class:"grid grid-cols-12 gap-6"},oe={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},se={key:1,class:"space-y-2"},ne=["onClick"],ae={class:"space-y-2"},ie={class:"flex justify-between items-center"},re={class:"font-semibold text-foreground"},le={class:"text-sm text-muted-foreground"},ce={class:"flex justify-between text-sm text-muted-foreground"},de={class:"flex justify-between text-sm text-muted-foreground"},me={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9 space-y-6"};function ue(R,n,m,e,E,l){const g=f("fel-heading"),b=f("router-link"),v=f("fel-loader"),u=f("fel-tabs"),r=f("fel-modal"),a=Q("motion");return i(),c("div",Z,[h(g,{title:"Patients Quick View"}),t("div",$,[t("div",ee,[e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(i(),P(b,{key:0,to:"/patients/search",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:x(()=>[...n[2]||(n[2]=[K(" Add Patient ",-1)])]),_:1})):y("",!0),t("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-foreground placeholder-muted-foreground border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyup:e.handleSearch,onFocus:e.resetPatient},null,32)]),e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(i(),c("button",{key:0,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:e.handleQuickRegistration}," Quick Registration ")):y("",!0)]),t("div",te,[N((i(),c("section",oe,[e.fetchingPatients?(i(),P(v,{key:0,message:"Fetching patients..."})):(i(),c("div",se,[(i(!0),c(z,null,J(e.patients,o=>(i(),c("div",{key:o.patientId,onClick:k=>e.selectPatient(o),class:q(["bg-background p-4 rounded-lg shadow-sm border border-border cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary",{"border-primary bg-primary/5":o.uid===e.patientForm?.uid}])},[t("div",ae,[t("div",ie,[t("span",re,d(e.getPatientFullName(o)),1),t("span",le,d(o.age)+" yrs, "+d(e.getGender(+(o.gender??0))),1)]),t("div",ce,[t("span",null,d(o.patientId),1),t("span",null,d(o.clientPatientId),1)]),t("div",de,[t("span",null,d(o?.client?.district?.province?.name),1),t("span",null,d(o?.client?.name),1)])])],10,ne))),128))]))])),[[a]]),e.isPatientSelected?N((i(),c("section",me,[h(e.components.PatientInfo,{onEditPatient:n[0]||(n[0]=o=>e.showModal=!0)}),h(u,{tabs:e.tabs,"initial-tab":"samples",class:"rounded-lg"},null,8,["tabs"])])),[[a]]):y("",!0)]),e.showModal?(i(),P(r,{key:0,onClose:n[1]||(n[1]=o=>e.showModal=!1),"content-width":"w-3/6",class:"bg-background"},{header:x(()=>[...n[3]||(n[3]=[t("h3",{class:"text-xl font-semibold text-foreground"},"Patient Form",-1)])]),body:x(()=>[h(e.components.PatientForm,{patient:e.patientForm,navigate:!1,onClose:e.handlePatientUpdate},null,8,["patient"])]),_:1})):y("",!0)])}const he=U(Y,[["render",ue],["__scopeId","data-v-81af20fc"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{he as default};
