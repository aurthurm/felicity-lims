import{S as T,a0 as f,h as j,i as y,a7 as B,r as p,o as l,c as _,N as e,a as g,L as r,M as F,F as M,E as V,H as c,a5 as a,y as L,ac as O,K as $,Z as I,$ as P,_ as R}from"./index-8d0a01b3.js";import{u as U}from"./analysis-250c489a.js";import{u as H}from"./setup-8486ed9e.js";import"./_queries-5236cda4.js";const K={class:"space-y-6"},Y={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},Z={class:"relative w-full overflow-auto"},q={class:"w-full caption-bottom text-sm"},z={class:"[&_tr:last-child]:border-0"},G={class:"px-4 py-2 align-middle"},J={class:"px-4 py-2 align-middle text-primary"},Q={class:"px-4 py-2 align-middle text-primary"},W={class:"px-4 py-2 align-middle text-right"},X=["onClick"],ee={class:"text-lg font-semibold text-foreground"},te=T({__name:"Methods",setup(se){const A=I(()=>P(()=>import("./MethodForm-67ff005f.js"),["assets/MethodForm-67ff005f.js","assets/index-8d0a01b3.js","assets/index-a402b5a2.css","assets/instrument.mutations-e7148a36.js","assets/analysis-250c489a.js","assets/setup-8486ed9e.js","assets/_queries-5236cda4.js","assets/vue-multiselect-a538cd7c.css"])),h=U(),m=H();let o=f(!1),b=f("");const S=f(!0);let d=j({});const k={first:1e3,after:"",text:"",sortBy:["name"]};h.fetchAnalysesServices(k);const C=y(()=>h.getAnalysesServicesSimple);B(()=>m.fetchMethods());const E=y(()=>m.getMethods);function v(n,t={}){S.value=n,o.value=!0,b.value=(n?"CREATE":"EDIT")+" ANALYSES METHOD",n?Object.assign(d,{}):Object.assign(d,{...t})}function w(n){let t=[];return C.value?.forEach(i=>{i?.methods?.some(u=>u.uid==n?.uid)&&t.push(i?.name)}),t.join(", ")}const N=()=>{o.value=!1,m.fetchMethods()};return(n,t)=>{const i=p("fel-button"),u=p("fel-heading"),D=p("fel-modal");return l(),_(M,null,[e("div",K,[g(u,{title:"Methods"},{default:r(()=>[g(i,{onClick:t[0]||(t[0]=s=>v(!0))},{default:r(()=>t[2]||(t[2]=[F(" Add Method")])),_:1})]),_:1}),e("div",Y,[e("div",Z,[e("table",q,[t[3]||(t[3]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Name"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instruments"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Analyses"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",z,[(l(!0),_(M,null,V(E.value,s=>(l(),_("tr",{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",G,c(s?.name),1),e("td",J,c(s?.instruments?.map(x=>x?.name)?.join(", ")),1),e("td",Q,c(w(s)),1),e("td",W,[e("button",{onClick:x=>v(!1,s),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,X)])]))),128))])])])])]),a(o)?(l(),L(D,{key:0,onClose:t[1]||(t[1]=s=>O(o)?o.value=!1:o=!1)},{header:r(()=>[e("h3",ee,c(a(b)),1)]),body:r(()=>[g(a(A),{method:a(d),methodUid:a(d)?.uid,onClose:N},null,8,["method","methodUid"])]),_:1})):$("",!0)],64)}}}),ie=R(te,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Methods.vue"]]);export{ie as default};
