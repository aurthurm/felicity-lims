import{h as B,Y as D,a0 as w,a7 as g,an as A,a3 as N,ak as j,bz as T,bA as U,_ as L,A as k,o as a,K as p,a as l,N as v,c as n,I as h,F as S,H as C,B as O,M as V,z as y,C as Q,D as R,al as X}from"./index-OdhKCqIc.js";import{P as F,a as I,b as E}from"./PopoverTrigger-Cf8QcqoV.js";import{B as H}from"./index-Dj97WNKd.js";const K=B("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const Y=B("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),G=D({__name:"MultiSelect",props:{modelValue:{type:[Array,String],required:!1,default:()=>[]},value:{type:[Array,String],required:!1},options:{type:Array,required:!0},placeholder:{type:String,required:!1,default:"Select options..."},searchable:{type:Boolean,required:!1,default:!0},searchPlaceholder:{type:String,required:!1,default:"Search..."},emptyMessage:{type:String,required:!1,default:"No results found."},class:{type:null,required:!1},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(x,{expose:i,emit:s}){i();const e=x,d=s,m=w(!1),t=w(""),c=g(()=>{const r=e.modelValue??e.value??[];return Array.isArray(r)?r:typeof r=="string"?r?r.split(",").map(o=>o.trim()).filter(Boolean):[]:[]}),f=g(()=>new Set(c.value)),P=g(()=>{if(!t.value.trim())return e.options;const r=t.value.toLowerCase();return e.options.filter(o=>o.toLowerCase().includes(r))});function q(r){const o=new Set(f.value);o.has(r)?o.delete(r):o.add(r);const u=[...o];d("update:modelValue",u),d("change",u)}function M(r,o){o.stopPropagation();const u=new Set(f.value);u.delete(r);const _=[...u];d("update:modelValue",_),d("change",_)}function z(r){return f.value.has(r)}A(m,r=>{r||(t.value="")});const b={props:e,emit:d,open:m,searchQuery:t,propValue:c,selectedValues:f,filteredOptions:P,toggleValue:q,removeValue:M,isSelected:z,get ChevronsUpDown(){return K},get Check(){return U},get X(){return T},get PopoverRoot(){return E},get cn(){return j},get Button(){return N},get Badge(){return H},get PopoverContent(){return I},get PopoverTrigger(){return F},get Search(){return Y}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),J={key:0,class:"text-muted-foreground"},W={key:1,class:"flex flex-1 flex-wrap gap-1.5 overflow-hidden"},Z={class:"flex min-h-0 flex-1 flex-col overflow-hidden"},$={key:0,class:"flex h-9 shrink-0 items-center gap-2 border-b px-3"},ee=["placeholder"],te={class:"max-h-[260px] min-h-0 overflow-y-auto overflow-x-hidden"},re={key:0,class:"py-6 text-center text-sm text-muted-foreground"},oe={key:1,class:"p-1"},ae=["onClick"];function ne(x,i,s,e,d,m){return a(),k(e.PopoverRoot,{open:e.open,"onUpdate:open":i[1]||(i[1]=t=>e.open=t)},{default:p(()=>[l(e.PopoverTrigger,{"as-child":""},{default:p(()=>[l(e.Button,{type:"button",variant:"outline",role:"combobox","aria-expanded":e.open,disabled:s.disabled,class:v(e.cn("flex h-auto min-h-9 w-full items-center justify-between gap-2 overflow-hidden rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-placeholder:text-muted-foreground",e.props.class))},{default:p(()=>[e.selectedValues.size===0?(a(),n("span",J,h(s.placeholder),1)):(a(),n("div",W,[(a(!0),n(S,null,C(e.selectedValues,t=>(a(),k(e.Badge,{key:t,variant:"secondary",class:"group flex items-center gap-1 rounded-sm px-1.5 font-normal",onClick:O(c=>e.removeValue(t,c),["stop"])},{default:p(()=>[V(h(t)+" ",1),l(e.X,{class:"size-2.5 shrink-0 opacity-70 group-hover:opacity-100"})]),_:2},1032,["onClick"]))),128))])),l(e.ChevronsUpDown,{class:"size-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded","disabled","class"])]),_:1}),l(e.PopoverContent,{class:"flex min-w-[var(--reka-popover-trigger-width)] w-72 max-h-[320px] flex-col overflow-hidden p-0",align:"start","side-offset":4},{default:p(()=>[y("div",Z,[s.searchable?(a(),n("div",$,[l(e.Search,{class:"size-4 shrink-0 opacity-50"}),R(y("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>e.searchQuery=t),placeholder:s.searchPlaceholder,class:"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50"},null,8,ee),[[X,e.searchQuery]])])):Q("",!0),y("div",te,[e.filteredOptions.length===0?(a(),n("div",re,h(s.emptyMessage),1)):(a(),n("div",oe,[(a(!0),n(S,null,C(e.filteredOptions,t=>(a(),n("button",{key:t,type:"button",class:v(e.cn("relative flex w-full cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none hover:bg-accent hover:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e.isSelected(t)&&"bg-accent/50")),onClick:c=>e.toggleValue(t)},[l(e.Check,{class:v(e.cn("size-4 shrink-0",e.isSelected(t)?"opacity-100":"opacity-0"))},null,8,["class"]),V(" "+h(t),1)],10,ae))),128))]))])])]),_:1})]),_:1},8,["open"])}const de=L(G,[["render",ne],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/components/ui/multi-select/MultiSelect.vue"]]);export{de as M};
