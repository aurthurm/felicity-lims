import{Y as A,u as k,a0 as v,a7 as N,a3 as H,_ as E,r as i,c as M,o as x,a as t,z as c,A as h,C as V,K as o,M as d,F as L,H as P,I as T,B as R,a4 as B}from"./index-OdhKCqIc.js";import{w as q,x as z}from"./analyses.mutations-DUxQZn1r.js";import{u as O}from"./analysis-PB9AMevg.js";import{c as U,a as D,u as G,F as K}from"./index.esm-BfHj8iGm.js";import{I as W}from"./Input-BEm5S0CJ.js";import{T as Y}from"./Textarea-T3VcJTEo.js";import{F as j,a as J,b as Q}from"./FormMessage-CgXFMXx9.js";import{F as X}from"./FormLabel-DxP9wnWS.js";import{P as Z}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const $=A({__name:"CodingStandard",setup(I,{expose:a}){a();const m=O(),{withClientMutation:e}=k();let g=v(!1),p=v("");const l=v(!0),s=v(null),_=U({name:D().required("Name is required"),description:D().nullable()}),{handleSubmit:u,resetForm:b,setValues:F}=G({validationSchema:_,initialValues:{name:"",description:""}});m.fetchCodingStandards();const C=N(()=>m.getCodingStandards);function n(r,f={}){l.value=r,g.value=!0,p.value=(r?"CREATE":"EDIT")+" CODING STANDARD",r?(s.value=null,b({values:{name:"",description:""}})):(s.value=f.uid??null,F({name:f.name??"",description:f.description??""}))}const y=u(r=>{const f={name:r.name,description:r.description};if(l.value===!0&&e(q,{payload:f},"createCodingStandard").then(S=>m.addCodingStandard(S)),l.value===!1){if(!s.value)return;e(z,{uid:s.value,payload:f},"updateCodingStandard").then(S=>m.updateCodingStandard(S))}g.value=!1}),w={analyisStore:m,withClientMutation:e,get showModal(){return g},set showModal(r){g=r},get formTitle(){return p},set formTitle(r){p=r},formAction:l,currentUid:s,formSchema:_,handleSubmit:u,resetForm:b,setValues:F,codindStandards:C,FormManager:n,saveForm:y,get Button(){return H},get Input(){return W},get Textarea(){return Y},get FormControl(){return Q},get FormField(){return K},get FormItem(){return J},get FormLabel(){return X},get FormMessage(){return j},PageHeading:Z};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),ee={class:"space-y-6"},te={class:"border border-border bg-card rounded-lg shadow-md"},oe={class:"relative w-full overflow-auto"},ae={class:"text-lg font-semibold text-foreground"},ne={class:"space-y-4"},re={class:"flex justify-end"};function de(I,a,m,e,g,p){const l=i("TableHead"),s=i("TableRow"),_=i("TableHeader"),u=i("TableCell"),b=i("TableBody"),F=i("Table"),C=i("Modal");return x(),M("div",ee,[t(e.PageHeading,{title:"Coding Standards"},{default:o(()=>[t(e.Button,{onClick:a[0]||(a[0]=n=>e.FormManager(!0))},{default:o(()=>[...a[3]||(a[3]=[d("Add Coding Standard",-1)])]),_:1})]),_:1}),c("div",te,[c("div",oe,[t(F,{class:"w-full caption-bottom text-sm"},{default:o(()=>[t(_,{class:"[&_tr]:border-b"},{default:o(()=>[t(s,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(l,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[4]||(a[4]=[d("Standard",-1)])]),_:1}),t(l,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[5]||(a[5]=[d("Description",-1)])]),_:1}),t(l,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[6]||(a[6]=[d("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(b,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[(x(!0),M(L,null,P(e.codindStandards,n=>(x(),h(s,{key:n?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(u,{class:"px-4 py-3 align-middle text-sm text-foreground"},{default:o(()=>[d(T(n?.name),1)]),_:2},1024),t(u,{class:"px-4 py-3 align-middle text-sm text-muted-foreground"},{default:o(()=>[d(T(n?.description),1)]),_:2},1024),t(u,{class:"px-4 py-3 align-middle text-right"},{default:o(()=>[t(e.Button,{variant:"outline",size:"sm",onClick:y=>e.FormManager(!1,n)},{default:o(()=>[...a[7]||(a[7]=[d(" Edit ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),e.showModal?(x(),h(C,{key:0,onClose:a[2]||(a[2]=n=>e.showModal=!1),contentWidth:"w-2/6"},{header:o(()=>[c("h3",ae,T(e.formTitle),1)]),body:o(()=>[c("form",{class:"space-y-6",onSubmit:a[1]||(a[1]=R((...n)=>e.saveForm&&e.saveForm(...n),["prevent"]))},[c("div",ne,[t(e.FormField,{name:"name"},{default:o(({componentField:n})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[8]||(a[8]=[d("Standard Name",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,B(n,{placeholder:"Name ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:o(({componentField:n})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[9]||(a[9]=[d("Description",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Textarea,B(n,{placeholder:"Description ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),c("div",re,[t(e.Button,{type:"submit"},{default:o(()=>[...a[10]||(a[10]=[d("Save Form",-1)])]),_:1})])],32)]),_:1})):V("",!0)])}const be=E($,[["render",de],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/coding/CodingStandard.vue"]]);export{be as default};
