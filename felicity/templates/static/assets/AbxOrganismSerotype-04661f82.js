import{W as z,f as R,a2 as d,h as w,i as X,a9 as G,r as v,o as C,c as $,O as s,a as c,M as b,N as q,a7 as t,z as J,J as K,C as W,D as u,Z as f,ai as Z,L as Q,F as Y,a0 as P,a1 as B,ah as V,_ as ee}from"./index-5d85e9da.js";import{w as se,a as oe,x as te,y as le}from"./microbiology.mutations-bbc8c44b.js";const ne={class:"space-y-6"},ie={class:"bg-card p-6 shadow-sm rounded-lg"},re={class:"text-xl font-semibold text-foreground"},ae={class:"grid grid-cols-2 gap-4"},de={class:"block"},ue={class:"block"},fe={class:"grid grid-cols-2 gap-4"},ge={class:"block"},me={class:"block"},be={class:"grid grid-cols-2 gap-4"},ce={class:"block"},pe={class:"block"},xe={class:"grid grid-cols-2 gap-4"},ve={class:"block"},ye={class:"block"},he={class:"grid grid-cols-2 gap-4"},Se={class:"block"},ke=z({__name:"AbxOrganismSerotype",setup(_e){const U=P(()=>B(()=>import("./FelDataTable-f331e430.js"),["assets/FelDataTable-f331e430.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),D=P(()=>B(()=>import("./vue-multiselect.esm-8e9ddbb7.js"),["assets/vue-multiselect.esm-8e9ddbb7.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),{withClientMutation:y,withClientQuery:h}=R();let g=d(!1),S=d(""),o=w({});const p=d(!0),k=d(!1),r=d([]),_=d([]);let i=w({first:50,after:"",text:"",sortBy:["organism___name"],filterAction:!1});const O=d(0);let A=d({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const M=X(()=>r?.value?.length+" of "+O.value+" organisms"),N=d([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Organism",value:"organism.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serotype",value:"serotype",sortable:!1,sortBy:"asc",hidden:!1},{name:"Serogroup",value:"serogroup",sortable:!1,sortBy:"asc",hidden:!1},{name:"Subspecies",value:"subspecies",sortable:!1,sortBy:"asc",hidden:!1},{name:"O Antigens",value:"oAntigens",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase1",value:"hPhase1",sortable:!1,sortBy:"asc",hidden:!1},{name:"H Phase2",value:"hPhase2",sortable:!1,sortBy:"asc",hidden:!1},{name:"X997 Check",value:"x997Check",sortable:!1,sortBy:"asc",hidden:!1},{name:"Fate",value:"fate",sortable:!1,sortBy:"asc",hidden:!1}]);function x(l){h(se,{text:l.text,pageSize:l.first,sortBy:l.sortBy},void 0).then(e=>{const a=e.abxOrganismSerotypeAll,m=a.items;l.filterAction?(r.value=[],r.value=m):r.value=V(r.value,m,"uid"),O.value=a?.totalCount,A.value=a?.pageInfo}).finally(()=>{k.value=!1})}function T(l,e){l?.length<3||h(oe,{pageSize:50,text:l,sortBy:["name"]},"abxOrganismAll").then(a=>{a&&(_.value=a?.items??[])})}G(()=>{x(i)});function F(l){i.first=100,i.after="",i.text=l.filterText,i.filterAction=!0,x(i)}function I(l){i.first=l.fetchCount,i.after=A?.value?.endCursor,i.text=l.filterText,i.filterAction=!1,x(i)}const E=()=>Object.assign(o,{});function H(l,e={}){p.value=l,g.value=!0,S.value=(l?"Create":"Edit")+" OrganismSerotype",l?Object.assign(o,{}):Object.assign(o,{...e})}function L(){const l={organismUid:o?.organism?.uid,serotype:o?.serotype,serogroup:o?.serogroup,subspecies:o?.subspecies,oAntigens:o?.oAntigens,hPhase1:o?.hPhase1,hPhase2:o?.hPhase2,x997Check:o?.x997Check,fate:o?.fate};p.value===!0&&y(te,{payload:l},"createAbxOrganismSerotype").then(e=>{e&&(r.value=V(r.value,[e],"uid"))}),p.value===!1&&y(le,{uid:o.uid,payload:l},"updateAbxOrganismSerotype").then(e=>{if(e){const a=r.value.findIndex(m=>m.uid==e.uid);r.value[a]=e}}),g.value=!1}return(l,e)=>{const a=v("fel-button"),m=v("fel-heading"),j=v("fel-modal");return C(),$(Y,null,[s("div",ne,[c(m,{title:"Organism Serotypes"},{default:b(()=>[c(a,{onClick:e[0]||(e[0]=n=>H(!0))},{default:b(()=>e[11]||(e[11]=[q("Add Organism Serotype")])),_:1})]),_:1}),s("div",ie,[c(t(U),{columns:N.value,data:r.value,toggleColumns:!0,loading:k.value,paginable:!0,pageMeta:{fetchCount:t(i).first,hasNextPage:!0,countNone:M.value},searchable:!0,filterable:!1,onOnSearchKeyUp:F,onOnSearchFocus:E,onOnPaginate:I,selectable:!1},{footer:b(()=>e[12]||(e[12]=[])),_:1},8,["columns","data","loading","pageMeta"])])]),t(g)?(C(),J(j,{key:0,onClose:e[10]||(e[10]=n=>Z(g)?g.value=!1:g=!1),"content-width":"w-1/2"},{header:b(()=>[s("h3",re,K(t(S)),1)]),body:b(()=>[s("form",{onSubmit:W(L,["prevent"]),class:"space-y-6 p-4"},[s("div",ae,[s("label",de,[e[13]||(e[13]=s("span",{class:"text-sm font-medium text-foreground"},"Organism",-1)),c(t(D),{modelValue:t(o).organism,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).organism=n),options:_.value,searchable:!0,"close-on-select":!0,"clear-on-select":!1,onSearchChange:T,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),s("label",ue,[e[14]||(e[14]=s("span",{class:"text-sm font-medium text-foreground"},"Serotype",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[2]||(e[2]=n=>t(o).serotype=n),placeholder:"Serotype ..."},null,512),[[f,t(o).serotype]])])]),s("div",fe,[s("label",ge,[e[15]||(e[15]=s("span",{class:"text-sm font-medium text-foreground"},"Serogroup",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[3]||(e[3]=n=>t(o).serogroup=n),placeholder:"Serogroup ..."},null,512),[[f,t(o).serogroup]])]),s("label",me,[e[16]||(e[16]=s("span",{class:"text-sm font-medium text-foreground"},"Subspecies",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[4]||(e[4]=n=>t(o).subspecies=n),placeholder:"Subspecies ..."},null,512),[[f,t(o).subspecies]])])]),s("div",be,[s("label",ce,[e[17]||(e[17]=s("span",{class:"text-sm font-medium text-foreground"},"O Antigens",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[5]||(e[5]=n=>t(o).oAntigens=n),placeholder:"O Antigens ..."},null,512),[[f,t(o).oAntigens]])]),s("label",pe,[e[18]||(e[18]=s("span",{class:"text-sm font-medium text-foreground"},"H Phase1",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[6]||(e[6]=n=>t(o).hPhase1=n),placeholder:"H Phase1 ..."},null,512),[[f,t(o).hPhase1]])])]),s("div",xe,[s("label",ve,[e[19]||(e[19]=s("span",{class:"text-sm font-medium text-foreground"},"H Phase2",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[7]||(e[7]=n=>t(o).hPhase2=n),placeholder:"H Phase2 ..."},null,512),[[f,t(o).hPhase2]])]),s("label",ye,[e[20]||(e[20]=s("span",{class:"text-sm font-medium text-foreground"},"X997 Check",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[8]||(e[8]=n=>t(o).x997Check=n),placeholder:"X997 Check ..."},null,512),[[f,t(o).x997Check]])])]),s("div",he,[s("label",Se,[e[21]||(e[21]=s("span",{class:"text-sm font-medium text-foreground"},"Fate",-1)),u(s("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[9]||(e[9]=n=>t(o).fate=n),placeholder:"Fate ..."},null,512),[[f,t(o).fate]])])]),e[22]||(e[22]=s("hr",{class:"border-border"},null,-1)),e[23]||(e[23]=s("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Serotype ",-1))],32)]),_:1})):Q("",!0)],64)}}});const we=ee(ke,[["__scopeId","data-v-a814e9fb"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganismSerotype.vue"]]);export{we as default};
