import{S as F,V as j,a0 as _,W as H,a4 as K,i as C,f as U,a9 as W,a7 as E,a8 as t,r as w,o as l,c,N as o,K as s,a as n,L as p,a5 as f,C as g,D as v,F as k,E as S,y as q,H as b,aa as M,M as z,Z as G,$ as Q,_ as Y}from"./index-6c3e61f6.js";import{u as Z}from"./notification-e67e8e76.js";const J={id:"main-nav",class:"flex items-center px-6 bg-primary border-b border-border",role:"navigation","aria-label":"Main Navigation"},X={class:"flex-1"},ee={class:"flex text-right align-middle"},oe=["aria-expanded"],re={class:"grid grid-cols-3 gap-4",role:"menu","aria-label":"Main Menu"},te={class:"mr-4","aria-hidden":"true"},ne={class:"text-lg font-medium"},se={class:"flex items-center space-x-4"},ie={class:"bg-destructive text-destructive-foreground text-xs rounded-full px-2 py-1"},ae={key:1,class:"border-l border-border h-6","aria-hidden":"true"},le={class:"px-4 flex text-right items-center relative"},ue={class:"flex justify-center items-center h-8 w-8 rounded-full border-2 border-border hover:border-primary text-primary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary cursor-pointer","aria-hidden":"true",tabindex:"0"},de={class:"relative"},ce=["aria-expanded"],fe={class:"text-lg font-medium uppercase"},me={class:"flex items-center justify-between"},pe={key:0,class:"text-muted-foreground italic"},ge={key:1,"aria-label":"Error messages",class:"divide-y divide-border"},ve={class:"block whitespace-pre-wrap"},be=F({__name:"NavigationMain",setup(xe){const A=G(()=>Q(()=>import("./Logo-aaa0d671.js"),["assets/Logo-aaa0d671.js","assets/index-6c3e61f6.js","assets/index-a402b5a2.css"])),I=j(),i=_(!1),u=_(!1);H(()=>I.currentRoute.value,(d,e)=>{d.path!==e?.path&&(i.value=!1,u.value=!1)});const x=K(),T=C(()=>{const d=x.auth?.user?.firstName||"",e=x.auth?.user?.lastName||"";return`${d} ${e}`.trim()}),{errors:m,clearErrors:L}=U(),h=_(!1),$=Z(),P=d=>$.showNotifications(d),{loadPreferedTheme:R}=W();E(()=>{R()});const D=C(()=>[{id:"patients-compact",label:"Compact",icon:"bullseye",route:"/patients-compact",guard:t.PATIENTS_COMPACT},{id:"patients",label:"Patients",icon:"user-injured",route:"/patients",guard:t.PATIENTS},{id:"clients",label:"Clients",icon:"clinic-medical",route:"/clients",guard:t.CLIENTS},{id:"samples",label:"Samples",icon:"vial",route:"/samples",guard:t.SAMPLES},{id:"worksheets",label:"WorkSheets",icon:"grip-vertical",route:"/worksheets",guard:t.WORKSHEETS},{id:"quality-control",label:"QControl",icon:"anchor",route:"/quality-control",guard:t.QC_SAMPLES},{id:"notice-manager",label:"NoticeManager",icon:"bell",route:"/notice-manager",guard:t.NOTICE_MANAGER},{id:"bio-banking",label:"BioBanking",icon:"database",route:"/bio-banking",guard:t.BIO_BANKING},{id:"shipments",label:"Referrals",icon:"truck",route:"/shipments",guard:t.REFERRAL},{id:"inventory",label:"Inventory",icon:"fa-solid fa-boxes-stacked",route:"/inventory",guard:t.INVENTORY},{id:"schemes",label:"Projects",icon:"project-diagram",route:"/schemes",guard:t.SCHEMES},{id:"documents",label:"Documents",icon:"file",route:"/documents",guard:t.DOCUMENT}]),O=()=>{i.value=!1,u.value=!1},B=d=>{d.key==="Escape"&&O()};return E(()=>{document.addEventListener("keydown",B)}),(d,e)=>{const y=w("router-link"),a=w("font-awesome-icon"),V=w("fel-drawer");return l(),c(k,null,[o("nav",J,[s(" Brand and menu section "),o("div",X,[o("div",ee,[s(" Logo and brand name "),n(y,{to:"/",id:"brand",class:"flex items-center md:w-auto text-primary-foreground/80 hover:text-primary-foreground transition-colors","aria-label":"Felicity LIMS Home"},{default:p(()=>[n(f(A)),e[10]||(e[10]=o("h1",{class:"text-left text-2xl font-medium mx-2"},"Felicity LIMS",-1))]),_:1}),e[12]||(e[12]=o("span",{class:"mx-8 border-l border-border my-2","aria-hidden":"true"},null,-1)),s(" Main menu dropdown trigger "),o("button",{onClick:e[0]||(e[0]=r=>i.value=!i.value),class:"hidden md:flex md:items-center focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md p-2","aria-expanded":i.value,"aria-controls":"main-menu"},[e[11]||(e[11]=o("span",{class:"text-xl font-medium mr-2 text-primary-foreground/80 hover:text-primary-foreground uppercase"},"Menu",-1)),n(a,{icon:i.value?"chevron-up":"chevron-down",class:"text-muted-foreground transition-transform duration-200","aria-hidden":"true"},null,8,["icon"])],8,oe),s(" Main menu dropdown content "),g(o("div",{id:"main-menu",class:"absolute left-64 top-12 mt-1 p-4 w-1/2 bg-primary rounded-md shadow-lg border border-border z-20",onClick:e[2]||(e[2]=r=>i.value=!1)},[o("div",re,[(l(!0),c(k,null,S(D.value,r=>g((l(),q(y,{key:r.id,to:r.route,id:`${r.id}-link`,class:"flex items-center py-2 px-4 text-primary-foreground hover:bg-accent hover:text-accent-foreground rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",role:"menuitem",onClick:e[1]||(e[1]=N=>i.value=!1)},{default:p(()=>[o("span",te,[n(a,{icon:r.icon},null,8,["icon"])]),o("span",ne,b(r.label),1)]),_:2},1032,["to","id"])),[[v,M(r.guard)]])),128))])],512),[[v,i.value]])])]),s(" User section and actions "),o("div",se,[s(" Errors button "),f(m).length>0?(l(),c("button",{key:0,class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[3]||(e[3]=r=>h.value=!0),"aria-label":"Show errors"},[n(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[13]||(e[13]=o("span",{class:"text-lg font-medium mr-2 uppercase"},"Errors",-1)),o("span",ie,b(f(m).length),1)])):s("v-if",!0),f(m).length>0?(l(),c("span",ae)):s("v-if",!0),s(" Notifications button "),o("button",{class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[4]||(e[4]=r=>P(!0)),"aria-label":"Show notifications"},[n(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[14]||(e[14]=o("span",{class:"text-lg font-medium uppercase"},"Notifications",-1))]),e[17]||(e[17]=o("span",{class:"border-l border-border h-6","aria-hidden":"true"},null,-1)),s(" Admin settings link "),g(n(y,{to:"/admin",class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md","aria-label":"Settings"},{default:p(()=>[n(a,{icon:"cog",class:"mr-2","aria-hidden":"true"}),e[15]||(e[15]=o("span",{class:"text-lg font-medium uppercase"},"Settings",-1))]),_:1},512),[[v,M(t.ADMINISTRATION)]]),o("div",le,[o("span",ue,[n(a,{icon:"user"})]),o("div",de,[o("button",{onClick:e[5]||(e[5]=r=>u.value=!u.value),class:"text-primary-foreground/80 hover:text-primary-foreground hidden md:flex md:items-center ml-2 focus:outline-none rounded-lg p-1 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary","aria-expanded":u.value,"aria-controls":"user-menu"},[o("span",fe,b(T.value),1),n(a,{icon:u.value?"chevron-up":"chevron-down",class:"ml-2 text-primary-foreground/80 transition-transform","aria-hidden":"true"},null,8,["icon"])],8,ce),g(o("div",{id:"user-menu",class:"absolute right-0 top-11 py-2 w-48 bg-popover text-popover-foreground rounded-lg shadow-xl z-20",onClick:e[7]||(e[7]=r=>u.value=!1),role:"menu"},[o("button",{onClick:e[6]||(e[6]=r=>f(x).logout()),class:"w-full text-left cursor-pointer py-2 px-4 flex items-center hover:bg-primary hover:text-primary-foreground uppercase transition-colors focus:outline-none focus:bg-accent focus:text-accent-foreground rounded",role:"menuitem"},[n(a,{icon:"sign-out-alt",class:"mr-2","aria-hidden":"true"}),e[16]||(e[16]=z(" Log out "))])],512),[[v,u.value]])])])])]),s(" Error drawer "),n(V,{show:h.value,onClose:e[9]||(e[9]=r=>h.value=!1)},{header:p(()=>[o("div",me,[e[18]||(e[18]=o("h3",{class:"font-semibold text-lg"},"Errors List",-1)),o("button",{class:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-secondary transition-colors focus:outline-none",onClick:e[8]||(e[8]=r=>f(L)()),"aria-label":"Clear all errors"},[n(a,{icon:"trash-alt",class:"w-5 h-5","aria-hidden":"true"})])])]),body:p(()=>[f(m).length===0?(l(),c("p",pe,"No errors to display")):(l(),c("ul",ge,[(l(!0),c(k,null,S(f(m),(r,N)=>(l(),c("li",{key:N,class:"mb-2 p-3 bg-background rounded text-sm border-l-4 border-destructive"},[o("code",ve,b(r),1)]))),128))]))]),_:1},8,["show"])],64)}}}),_e=Y(be,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/nav/NavigationMain.vue"]]);export{_e as default};
