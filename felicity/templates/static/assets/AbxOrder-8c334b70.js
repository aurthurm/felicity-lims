import{S as D,f as M,a0 as i,h as E,a7 as N,r as b,o as m,c as _,N as t,a as x,L as c,M as F,F as O,E as B,H as v,K as C,a5 as r,y as S,A as T,C as U,X as $,ad as I,Z as L,$ as j,_ as G}from"./index-0c222abb.js";import{o as K,t as P,J as R,K as H}from"./microbiology.mutations-25da8f0d.js";const J={class:"space-y-6"},Q={class:"rounded-lg border border-border shadow-sm bg-card"},X={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-border"},q={class:"divide-y divide-border bg-background"},z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},W={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Y={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ee=["onClick"],te={class:"text-xl font-semibold text-foreground"},se={class:"grid grid-cols-2 gap-4"},oe={class:"block"},ae={class:"block"},re=D({__name:"AbxOrder",setup(le){const k=L(()=>j(()=>import("./vue-multiselect.esm-9327845c.js"),["assets/vue-multiselect.esm-9327845c.js","assets/index-0c222abb.js","assets/index-8412b2a5.css"])),{withClientMutation:y,withClientQuery:g}=M();let l=i(!1),h=i(""),a=E({});const f=i(!0),w=i([]),n=i([]);N(()=>{g(K,{},"abxOrderAll").then(s=>{s&&(n.value=s)}),g(P,{},"abxClassAll").then(s=>{s&&(w.value=s)})});function A(s,e={}){f.value=s,l.value=!0,h.value=(s?"Create":"Edit")+" Order",s?Object.assign(a,{}):Object.assign(a,{...e})}function V(){const s={name:a.name,classUid:a.class_?.uid};f.value===!0&&y(R,{payload:s},"createAbxOrder").then(e=>{e&&n.value.unshift(e)}),f.value===!1&&y(H,{uid:a.uid,payload:s},"updateAbxOrder").then(e=>{if(e){const u=n.value.findIndex(d=>d.uid==e.uid);u>-1&&(n.value=[...n.value.map((d,p)=>p===u?e:d)])}}),l.value=!1}return(s,e)=>{const u=b("fel-button"),d=b("fel-heading"),p=b("fel-modal");return m(),_(O,null,[t("div",J,[x(d,{title:"Orders"},{default:c(()=>[x(u,{onClick:e[0]||(e[0]=o=>A(!0))},{default:c(()=>e[4]||(e[4]=[F("Add Order")])),_:1})]),_:1}),t("div",Q,[t("div",X,[t("table",Z,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Class"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",q,[(m(!0),_(O,null,B(n.value,o=>(m(),_("tr",{key:o?.uid,class:"hover:bg-muted/50"},[t("td",z,v(o?.name),1),t("td",W,v(o?.class_?.name),1),t("td",Y,[t("button",{onClick:ne=>A(!1,o),class:"text-primary hover:text-primary/80"}," Edit ",8,ee)])]))),128))])])])])]),C(" Order Edit Form Modal "),r(l)?(m(),S(p,{key:0,onClose:e[3]||(e[3]=o=>I(l)?l.value=!1:l=!1),"content-width":"w-1/2"},{header:c(()=>[t("h3",te,v(r(h)),1)]),body:c(()=>[t("form",{onSubmit:T(V,["prevent"]),class:"space-y-6 p-4"},[t("div",se,[t("label",oe,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Order Name",-1)),U(t("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=o=>r(a).name=o),placeholder:"Name ..."},null,512),[[$,r(a).name]])]),t("label",ae,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Class",-1)),x(r(k),{modelValue:r(a).class_,"onUpdate:modelValue":e[2]||(e[2]=o=>r(a).class_=o),options:w.value,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Order ",-1))],32)]),_:1})):C("v-if",!0)],64)}}});const ue=G(re,[["__scopeId","data-v-49ba0efd"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrder.vue"]]);export{ue as default};
