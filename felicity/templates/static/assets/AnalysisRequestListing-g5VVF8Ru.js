import{Y as N,aw as P,P as U,aB as q,an as I,a3 as H,_ as V,r as f,aF as B,c as x,o as c,z as o,a as e,C,K as t,M as r,F as T,H as S,D as w,A as D,I as d,N as z}from"./index-OdhKCqIc.js";import{p as L}from"./index-CXV6PIcj.js";import{S as E}from"./Spinner-Bl8RfjFA.js";import{B as j}from"./index-Dj97WNKd.js";const K=N({__name:"AnalysisRequestListing",props:{target:String,targetUid:String},setup(A,{expose:s}){s();const h=A,{targetUid:i,target:p}=P(h),m=U(),{analysisRequests:n,fetchingAnalysisRequests:g}=q(m);p?.value==="patient-samples"&&m.fetchAnalysisRequestsForPatient(i?.value),p?.value==="client-samples"&&m.fetchAnalysisRequestsForClient(i?.value),I(()=>h.targetUid,(_,y)=>{m.resetAnalysisRequests(),p?.value==="patient-samples"&&m.fetchAnalysisRequestsForPatient(_),p?.value==="client-samples"&&m.fetchAnalysisRequestsForClient(_)});function R(_,y){let v=[];return _.forEach(b=>v.push(b.name)),y.forEach(b=>v.push(b.name)),v.join(", ")}const a={props:h,targetUid:i,target:p,sampleStore:m,analysisRequests:n,fetchingAnalysisRequests:g,profileAnalysesText:R,get parseDate(){return L},get Spinner(){return E},get Badge(){return j},get Button(){return H}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),M={class:"overflow-x-auto mt-4"},O={class:"rounded-lg border border-border bg-card shadow-sm"},Y={class:"text-sm text-foreground"},G={class:"font-medium"},J={class:"text-sm text-primary"},Q={class:"text-sm text-primary"},W={class:"text-sm text-primary"},X={class:"text-sm text-primary"},Z={class:"text-sm text-primary"},$={class:"text-sm text-primary"},ee={key:0,class:"p-4 text-center"},te={class:"inline-flex items-center gap-2"};function se(A,s,h,i,p,m){const n=f("TableHead"),g=f("TableRow"),R=f("TableHeader"),a=f("TableCell"),_=f("font-awesome-icon"),y=f("router-link"),v=f("TableBody"),b=f("Table"),k=B("motion-slide-left"),F=B("motion-slide-right");return c(),x("div",M,[o("div",O,[e(b,{class:"w-full"},{default:t(()=>[e(R,null,{default:t(()=>[e(g,null,{default:t(()=>[e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[0]||(s[0]=[r(" Sample ID ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[1]||(s[1]=[r(" Test(s) ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[2]||(s[2]=[r(" Patient ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[3]||(s[3]=[r(" Client Patient ID ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[4]||(s[4]=[r(" Client ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[5]||(s[5]=[r(" Created ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[6]||(s[6]=[r(" Creator ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"},{default:t(()=>[...s[7]||(s[7]=[r(" Status ",-1)])]),_:1}),e(n,{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"})]),_:1})]),_:1}),e(v,{class:"[&_tr:last-child]:border-0"},{default:t(()=>[(c(!0),x(T,null,S(i.analysisRequests,u=>(c(),x(T,{key:u.uid},[w((c(),D(g,{class:"border-b border-border bg-muted/50"},{default:t(()=>[e(a,{colspan:"10",class:"p-4"},{default:t(()=>[o("div",Y,d(u.clientRequestId),1)]),_:2},1024)]),_:2},1024)),[[k]]),(c(!0),x(T,null,S(u.samples,l=>w((c(),D(g,{key:l.uid,class:"border-b border-border"},{default:t(()=>[e(a,{class:"p-4"},{default:t(()=>[l.priority??!0?(c(),x("span",{key:0,class:z(["text-sm",{"text-destructive":l.priority??!0}])},[e(_,{icon:"fa-star"})],2)):C("",!0)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",G,[e(y,{to:{name:"sample-detail",params:{patientUid:u.patient?.uid,sampleUid:l?.uid}},class:"text-primary hover:underline"},{default:t(()=>[r(d(l.sampleId),1)]),_:2},1032,["to"])])]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",J,d(i.profileAnalysesText(l.profiles??[],l.analyses??[])),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",Q,d(u.patient?.firstName)+" "+d(u.patient?.lastName),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",W,d(u.patient?.clientPatientId),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",X,d(u.client?.name),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",Z,d(i.parseDate(l?.createdAt)),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[o("div",$,d(l?.createdBy?.firstName),1)]),_:2},1024),e(a,{class:"p-4"},{default:t(()=>[e(i.Badge,{variant:"secondary"},{default:t(()=>[r(d(l.status),1)]),_:2},1024)]),_:2},1024),e(a,{class:"p-4 text-right"},{default:t(()=>[e(i.Button,{"as-child":"",variant:"outline",size:"sm"},{default:t(()=>[e(y,{to:{name:"sample-detail",params:{patientUid:u.patient?.uid,sampleUid:l?.uid}}},{default:t(()=>[...s[8]||(s[8]=[r(" View ",-1)])]),_:1},8,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[F]])),128))],64))),128))]),_:1})]),_:1}),i.fetchingAnalysisRequests?(c(),x("div",ee,[o("span",te,[e(i.Spinner,{class:"size-4"}),s[9]||(s[9]=o("span",{class:"text-sm"},"Fetching Analysis Requests ...",-1))])])):C("",!0)])])}const oe=V(K,[["render",se],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/components/sample/AnalysisRequestListing.vue"]]);export{oe as default};
