import{Y as M,u as B,a0 as c,a7 as H,bb as I,a3 as h,a9 as D,aa as A,ab as N,ac as V,ad as R,ae as L,af as q,_ as z,c as S,o as u,z as m,A as p,C as K,a as o,K as a,M as s,F as O,H as P,I as E,B as j,a4 as Y}from"./index-OdhKCqIc.js";import{c as G,a as J,u as Q,F as W}from"./index.esm-BfHj8iGm.js";import{u as X,e as Z,f as $}from"./inventory-CcBllciv.js";import{E as ee,a as te,b as ae,c as oe,d as ne}from"./EmptyTitle-aCQRDpx3.js";import{F as re,a as le,b as se}from"./FormMessage-CgXFMXx9.js";import{F as ie}from"./FormLabel-DxP9wnWS.js";import{I as de}from"./Input-BEm5S0CJ.js";import"./inventory.queries-Bx-sCQu8.js";import"./Label-CS46LzLb.js";const me=M({name:"StockUnit",__name:"StockUnit",setup(U,{expose:t}){t();const i=X(),{withClientMutation:e}=B(),f=c(!1),b=c(""),n=c(!0),d=c(null),T=G({name:J().trim().required("Stock unit name is required")}),g={name:""},{handleSubmit:v,setValues:y}=Q({validationSchema:T,initialValues:{...g}});i.fetchUnits();const x=H(()=>i.getUnits);function _(r){e(Z,{payload:r},"createStockUnit").then(l=>i.addUnit(l))}function k(r){d.value&&e($,{uid:d.value,payload:r},"updateStockUnit").then(l=>i.updateUnit(l))}function C(r,l){n.value=r,b.value=(r?"CREATE":"EDIT")+" STOCK UNIT",r?(d.value=null,y({...g})):(d.value=l?.uid??null,y({name:l?.name??""})),f.value=!0}const w=v(r=>{const l={name:r.name};n.value===!0&&_(l),n.value===!1&&k(l),f.value=!1}),F={inventoryStore:i,withClientMutation:e,showModal:f,formTitle:b,formAction:n,currentUid:d,unitSchema:T,defaultValues:g,handleSubmit:v,setValues:y,stockUnits:x,addStockUnit:_,editStockUnit:k,FormManager:C,onModalFormSubmit:w,Modal:I,get Table(){return q},get TableBody(){return L},get TableCell(){return R},get TableEmpty(){return V},get TableHead(){return N},get TableHeader(){return A},get TableRow(){return D},get Empty(){return ne},get EmptyContent(){return oe},get EmptyDescription(){return ae},get EmptyHeader(){return te},get EmptyTitle(){return ee},get Button(){return h},get FormControl(){return se},get FormField(){return W},get FormItem(){return le},get FormLabel(){return ie},get FormMessage(){return re},get Input(){return de}};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),ue={class:"space-y-6"},fe={class:"flex items-center justify-between"},ce={class:"border border-border bg-card rounded-lg shadow-md"},be={class:"relative w-full overflow-auto"},ge={class:"text-lg font-semibold text-foreground"};function ye(U,t,i,e,f,b){return u(),S("div",ue,[m("div",fe,[t[4]||(t[4]=m("h2",{class:"text-2xl font-semibold text-foreground"},"Stock Units",-1)),o(e.Button,{onClick:t[0]||(t[0]=n=>e.FormManager(!0,null))},{default:a(()=>[...t[3]||(t[3]=[s("Add Stock Unit",-1)])]),_:1})]),m("div",ce,[m("div",be,[o(e.Table,{class:"w-full caption-bottom text-sm"},{default:a(()=>[o(e.TableHeader,{class:"[&_tr]:border-b"},{default:a(()=>[o(e.TableRow,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[o(e.TableHead,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:a(()=>[...t[5]||(t[5]=[s(" Unit Name ",-1)])]),_:1}),o(e.TableHead,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:a(()=>[...t[6]||(t[6]=[s(" Actions ",-1)])]),_:1})]),_:1})]),_:1}),o(e.TableBody,{class:"[&_tr:last-child]:border-0"},{default:a(()=>[e.stockUnits.length===0?(u(),p(e.TableEmpty,{key:0,colspan:2},{default:a(()=>[o(e.Empty,{class:"border-0 bg-transparent p-0"},{default:a(()=>[o(e.EmptyContent,null,{default:a(()=>[o(e.EmptyHeader,null,{default:a(()=>[o(e.EmptyTitle,null,{default:a(()=>[...t[7]||(t[7]=[s("No units defined",-1)])]),_:1}),o(e.EmptyDescription,null,{default:a(()=>[...t[8]||(t[8]=[s("Add stock units to standardize quantities.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(u(!0),S(O,{key:1},P(e.stockUnits,n=>(u(),p(e.TableRow,{key:n?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:a(()=>[o(e.TableCell,{class:"px-4 py-3 align-middle text-sm"},{default:a(()=>[s(E(n?.name),1)]),_:2},1024),o(e.TableCell,{class:"px-4 py-3 text-right align-middle"},{default:a(()=>[o(e.Button,{variant:"outline",size:"sm",onClick:d=>e.FormManager(!1,n)},{default:a(()=>[...t[9]||(t[9]=[s("Edit",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),e.showModal?(u(),p(e.Modal,{key:0,onClose:t[2]||(t[2]=n=>e.showModal=!1)},{header:a(()=>[m("h3",ge,E(e.formTitle),1)]),body:a(()=>[m("form",{onSubmit:t[1]||(t[1]=j((...n)=>e.onModalFormSubmit&&e.onModalFormSubmit(...n),["prevent"])),class:"space-y-6"},[o(e.FormField,{name:"name"},{default:a(({componentField:n})=>[o(e.FormItem,null,{default:a(()=>[o(e.FormLabel,null,{default:a(()=>[...t[10]||(t[10]=[s("Stock Unit Name",-1)])]),_:1}),o(e.FormControl,null,{default:a(()=>[o(e.Input,Y(n,{placeholder:"Enter unit name..."}),null,16)]),_:2},1024),o(e.FormMessage)]),_:2},1024)]),_:1}),o(e.Button,{type:"submit",class:"w-full"},{default:a(()=>[...t[11]||(t[11]=[s("Save Changes",-1)])]),_:1})],32)]),_:1})):K("",!0)])}const xe=z(me,[["render",ye],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/inventory/StockUnit.vue"]]);export{xe as default};
