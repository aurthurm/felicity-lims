import{a0 as v,f as y,g as w,h as j,_ as C,r as m,c as p,o as l,A as e,C as k,E as A,a as g,N as c,P as M,J as _,K as E,L as R,F as D,a2 as F,D as T}from"./index-CNAOKjig.js";import{s as N,t as S}from"./analyses.mutations-BhfuTbLn.js";import{u as V}from"./analysis-CIDyy6YR.js";const B=v({__name:"RejectionReasons",setup(h,{expose:o}){o();const a=V(),{withClientMutation:t}=y(),n=w({showModal:!1,formTitle:"",form:{},formAction:!1});a.fetchRejectionReasons();const b=j(()=>a.getRejectionReasons);function i(){t(N,{reason:n.form.reason},"createRejectionReason").then(r=>a.addRejectionReason(r))}function d(){t(S,{uid:n.form.uid,reason:n.form.reason},"updateRejectionReason").then(r=>a.updateRejectionReason(r))}function u(r,x={}){n.formAction=r,n.showModal=!0,n.formTitle=(r?"CREATE":"EDIT")+" REJECTION REASON",r?n.form={}:n.form={...x}}function s(){n.formAction===!0&&i(),n.formAction===!1&&d(),n.showModal=!1}const f={analysisStore:a,withClientMutation:t,state:n,rejectionReasons:b,addRejectionReason:i,editRejectionReason:d,FormManager:u,saveForm:s};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),O={class:"rounded-md bg-card p-6 shadow-sm"},I={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg"},J={class:"min-w-full"},L={class:"bg-card"},P={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},U={class:"text-sm text-foreground"},K={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},q=["onClick"],z={class:"text-lg font-bold text-foreground"},G={action:"post",class:"p-6 space-y-6"},H={class:"space-y-4"},Q={class:"space-y-2"},W={class:"pt-4"};function X(h,o,a,t,n,b){const i=m("fel-button"),d=m("fel-heading"),u=m("fel-modal");return l(),p(_,null,[e("div",null,[g(d,{title:"Rejection Reasons"},{default:c(()=>[g(i,{onClick:o[0]||(o[0]=s=>t.FormManager(!0))},{default:c(()=>[...o[4]||(o[4]=[M("Add Rejection Reason",-1)])]),_:1})]),_:1}),e("div",O,[e("div",I,[e("table",J,[o[5]||(o[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Reason"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",L,[(l(!0),p(_,null,E(t.rejectionReasons,s=>(l(),p("tr",{key:s?.uid,class:"hover:bg-accent/50"},[e("td",P,[e("div",U,R(s?.reason),1)]),e("td",K,[e("button",{onClick:f=>t.FormManager(!1,s),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"}," Edit ",8,q)])]))),128))])])])])]),t.state.showModal?(l(),k(u,{key:0,onClose:o[3]||(o[3]=s=>t.state.showModal=!1)},{header:c(()=>[e("h3",z,R(t.state.formTitle),1)]),body:c(()=>[e("form",G,[e("div",H,[e("label",Q,[o[6]||(o[6]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Rejection Reason",-1)),D(e("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":o[1]||(o[1]=s=>t.state.form.reason=s),placeholder:"Reason ..."},null,512),[[F,t.state.form.reason]])])]),e("div",W,[e("button",{type:"button",onClick:o[2]||(o[2]=T(s=>t.saveForm(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):A("",!0)],64)}const ee=C(B,[["render",X],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/RejectionReasons.vue"]]);export{ee as default};
