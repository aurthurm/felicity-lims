import{d as A,I as T,J as V,r as i,q as E,n as G,m as M,o as d,c as u,b as e,t as c,F as f,C as j,G as N,f as t,i as b,y as _,B as y,z as v,w as P,e as x,v as g,A as R,j as q,aN as z,_ as I,k as L}from"./index-d5ae4e74.js";import{a as $,b as J}from"./grind.queries-d4db0842.js";const O={class:"h3 text-xl"},Q=e("span",{class:"font-bold mr-4"},"Project Title:",-1),H=e("hr",{class:"mt-2 mb-2"},null,-1),K={class:"leading-2 bg-slate-50 p-2 italic font-medium text-gray-500"},W=e("hr",{class:"mt-2 mb-2"},null,-1),X=e("h4",{class:"h3 text-xl font-semibold mb-2"},"Boards:",-1),Y={class:"flex justify-start items-center mb-2"},Z=["onClick"],ee={class:"text-lg font-semibold"},te={class:"mb-4"},se=e("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"title"},[R(" Scheme Title "),e("span",{class:"text-red-500"},"*")],-1),oe={class:"mb-4"},re=e("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"description"}," Description ",-1),ae={class:"flex justify-end"},ne={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-sky-600 border border-transparent rounded-md shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500"},le=A({__name:"Scheme",setup(ie){const w=q(()=>I(()=>import("./Board-5774e3ca.js"),["assets/Board-5774e3ca.js","assets/index-d5ae4e74.js","assets/index-246842b1.css","assets/grind.queries-d4db0842.js"])),{withClientMutation:k,withClientQuery:B}=T(),h=V(),o=i();E(()=>{C()});function C(){B($,{uid:h.params.schemeUid},"grindSchemeByUid").then(m=>{o.value=m})}let r=i(!1),S=i(!1),p=i(""),a=G({});const D=()=>{r.value=!0,p.value="Create Board",z(a)},U=()=>{r.value=!1,k(J,{payload:{...a,schemeUid:h.params.schemeUid}},"createGrindBoard").then(m=>{o.value.boards||(o.value.boards=[]),o.value.boards.push(m)})};let n=i();return(m,l)=>{const F=M("modal");return d(),u(f,null,[e("h3",O,[Q,e("span",null,c(o.value?.title),1)]),H,e("p",K,c(o.value?.description),1),W,X,e("div",Y,[e("div",null,[(d(!0),u(f,null,j(o.value?.boards,s=>(d(),u("button",{key:s.uid,class:N(["py-1 px-4 mr-2 bg-gray-200 text-gray-600 shadow-md overflow-hidden font-medium border-2 border-gray-200",{"bg-sky-500 text-white border-sky-500":t(n)?.uid===s.uid}]),onClick:de=>b(n)?n.value=s:n=s},c(s.title),11,Z))),128))]),e("button",{onClick:D,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded"},"+ Board")]),t(n)?(d(),_(t(w),{key:0,board:t(n)},null,8,["board"])):y("",!0),t(r)?(d(),_(F,{key:1,onClose:l[2]||(l[2]=s=>b(r)?r.value=!1:r=!1),"content-width":"w-full max-w-2xl"},{header:v(()=>[e("h3",ee,c(t(p)),1)]),body:v(()=>[e("form",{onSubmit:P(U,["prevent"])},[e("div",te,[se,x(e("input",{id:"title","onUpdate:modelValue":l[0]||(l[0]=s=>t(a).title=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter scheme title"},null,512),[[g,t(a).title]])]),e("div",oe,[re,x(e("textarea",{id:"description","onUpdate:modelValue":l[1]||(l[1]=s=>t(a).description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter scheme description"},null,512),[[g,t(a).description]])]),e("div",ae,[e("button",ne,c(t(S)?"Create":"Update"),1)])],32)]),_:1})):y("",!0)],64)}}}),ue=L(le,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{ue as default};
