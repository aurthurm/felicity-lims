import{S as I,f as R,a6 as $,a7 as q,a0 as f,r as x,o as d,c as r,N as e,a5 as s,a as b,H as a,C as v,D as H,y as K,L as D,X as h,ac as C,F as g,E as y,a2 as w,A as X,K as j,_ as z}from"./index-54016222.js";import{A as G,E as J}from"./clients.mutations-0d052e89.js";import{u as O}from"./location-ea064bf1.js";import{u as Q}from"./client-415a3d6e.js";import{h as W,o as Y,a as Z}from"./constants-2cea91a2.js";const tt={class:"grid grid-cols-12 gap-4 mt-2"},et={class:"col-span-12"},ot={class:"bg-background rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},st={key:0,class:"py-4 text-center"},nt={key:1,class:"grid grid-cols-12 gap-3"},lt={class:"col-span-12 px-3 sm:px-0"},it={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-foreground font-bold"},dt={class:"grid grid-cols-2 mt-2"},at={class:"col-span-1"},rt={class:"flex"},ut={class:"text-foreground text-sm md:text-md"},mt={class:"flex"},ct={class:"text-foreground text-sm md:text-md"},pt={class:"flex"},ft={class:"text-foreground text-sm md:text-md"},vt={class:"col-span-1"},xt={class:"flex"},gt={class:"text-foreground text-sm md:text-md"},_t={class:"flex"},bt={class:"text-foreground text-sm md:text-md"},Ct={action:"post",class:"p-1"},yt={class:"grid grid-cols-2 gap-x-4 mb-4"},wt={class:"block col-span-1 mb-2"},kt={class:"block col-span-1 mb-2"},Ut={class:"grid grid-cols-3 gap-x-4 mb-4"},Dt={class:"block col-span-1 mb-2"},ht=["value"],Et={class:"block col-span-1 mb-2"},St=["value"],Mt={class:"block col-span-1 mb-2"},Nt=["value"],Vt=I({__name:"Client",setup(Bt){const u=O(),{withClientMutation:k}=R(),E=$(),l=Q();q(()=>{l.fetchClientByUid(E.query.clientUid),u.fetchCountries()});let m=f(!1),_=f(!1),U=f(""),n=f({}),c=f(),p=f();function S(i){u.filterProvincesByCountry(c.value)}function M(i){u.filterDistrictsByProvince(p.value)}function N(i,t={}){_.value=i,U.value=`${i?"CREATE":"EDIT"} CLIENT`,m.value=!0,i?n.value={}:(c.value=t?.district?.province?.countryUid,p.value=t?.district?.provinceUid,n.value=t)}function V(){k(G,{payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"createClient").then(i=>l.addClient(i))}function B(){k(J,{uid:n?.value?.uid,payload:{name:n?.value?.name,code:n?.value?.code,districtUid:n?.value?.districtUid}},"updateClient").then(i=>l.updateClient(i))}function P(){_.value&&V(),_.value||B(),m.value=!1,n.value={}}return(i,t)=>{const T=x("fel-loader"),A=x("font-awesome-icon"),F=x("router-view"),L=x("fel-modal");return d(),r(g,null,[e("div",null,[e("div",tt,[e("section",et,[e("div",ot,[s(l).fetchingClient?(d(),r("div",st,[b(T,{message:"Fetching client metadata ..."})])):(d(),r("div",nt,[e("div",lt,[e("div",it,[e("span",null,a(s(l).client?.name),1),e("div",null,[v(e("button",{onClick:t[0]||(t[0]=o=>N(!1,s(l).client)),class:"p-1 ml-2 rounded-sm border border-foreground text-muted-foreground text-md transition duration-300 hover:text-primary focus:outline-none"},[b(A,{icon:"fa-edit"})],512),[[H,W(Z.UPDATE,Y.CLIENT)]])])]),t[15]||(t[15]=e("hr",null,null,-1)),e("div",dt,[e("div",at,[e("div",rt,[t[10]||(t[10]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Province:",-1)),e("span",ut,a(s(l).client?.district?.province?.name),1)]),e("div",mt,[t[11]||(t[11]=e("span",{class:"text-foreground text-sm font-medium w-16"},"District:",-1)),e("span",ct,a(s(l).client?.district?.name),1)]),e("div",pt,[t[12]||(t[12]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Code:",-1)),e("span",ft,a(s(l).client?.code),1)])]),e("div",vt,[e("div",xt,[t[13]||(t[13]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Email:",-1)),e("span",gt,a(s(l).client?.email),1)]),e("div",_t,[t[14]||(t[14]=e("span",{class:"text-foreground text-sm font-medium w-16"},"Mobile:",-1)),e("span",bt,a(s(l).client?.mobilePhone),1)])])])])]))])])]),b(F)]),s(m)?(d(),K(L,{key:0,onClose:t[9]||(t[9]=o=>C(m)?m.value=!1:m=!1)},{header:D(()=>[e("h3",null,a(s(U)),1)]),body:D(()=>[e("form",Ct,[e("div",yt,[e("label",wt,[t[16]||(t[16]=e("span",{class:"text-foreground"},"Name",-1)),v(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[1]||(t[1]=o=>s(n).name=o),placeholder:"Name ..."},null,512),[[h,s(n).name]])]),e("label",kt,[t[17]||(t[17]=e("span",{class:"text-foreground"},"Code",-1)),v(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":t[2]||(t[2]=o=>s(n).code=o),placeholder:"Code ..."},null,512),[[h,s(n).code]])])]),e("div",Ut,[e("label",Dt,[t[19]||(t[19]=e("span",{class:"text-foreground"},"Country",-1)),v(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[3]||(t[3]=o=>C(c)?c.value=o:c=o),onChange:t[4]||(t[4]=o=>S(o))},[t[18]||(t[18]=e("option",null,null,-1)),(d(!0),r(g,null,y(s(u).countries,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,ht))),128))],544),[[w,s(c)]])]),e("label",Et,[t[21]||(t[21]=e("span",{class:"text-foreground"},"Province",-1)),v(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[5]||(t[5]=o=>C(p)?p.value=o:p=o),onChange:t[6]||(t[6]=o=>M(o))},[t[20]||(t[20]=e("option",null,null,-1)),(d(!0),r(g,null,y(s(u).provinces,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,St))),128))],544),[[w,s(p)]])]),e("label",Mt,[t[23]||(t[23]=e("span",{class:"text-foreground"},"District",-1)),v(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":t[7]||(t[7]=o=>s(n).districtUid=o)},[t[22]||(t[22]=e("option",null,null,-1)),(d(!0),r(g,null,y(s(u).districts,o=>(d(),r("option",{key:o.uid,value:o.uid},a(o.name),9,Nt))),128))],512),[[w,s(n).districtUid]])])]),t[24]||(t[24]=e("hr",null,null,-1)),e("button",{type:"button",onClick:t[8]||(t[8]=X(o=>P(),["prevent"])),class:"m-2 -mb-4 w-full rounded-sm border border-primary bg-primary px-4 py-2 text-primary-foreground transition-colors duration-500 ease select-none hover:bg-primary focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):j("",!0)],64)}}}),It=z(Vt,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/client/_id/Client.vue"]]);export{It as default};
