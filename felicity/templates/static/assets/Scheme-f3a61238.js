import{P as F,e as V,a9 as E,Z as i,aa as T,f as G,r as M,o as d,c,b as e,E as u,F as b,D as P,a1 as j,a2 as s,a7 as h,x as y,J as x,K as v,z as L,L as N,A as g,V as _,X as R,ar as z,Y as $,_ as q}from"./index-f86d8273.js";import{G as I,A as J}from"./grind.queries-12f686e0.js";const K={class:"h3 text-xl"},O={class:"leading-2 bg-slate-50 p-2 italic font-medium text-gray-500"},Q={class:"flex justify-start items-center mb-2"},X=["onClick"],Y={class:"text-lg font-semibold"},Z={class:"mb-4"},H={class:"mb-4"},W={class:"flex justify-end"},ee={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-sky-600 border border-transparent rounded-md shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500"},te=F({__name:"Scheme",setup(se){const w=R(()=>$(()=>import("./Board-15d619bb.js"),["assets/Board-15d619bb.js","assets/index-f86d8273.js","assets/index-ba19faea.css","assets/grind.queries-12f686e0.js"])),{withClientMutation:k,withClientQuery:B}=V(),p=E(),r=i();T(()=>{C()});function C(){B(I,{uid:p.params.schemeUid},"grindSchemeByUid").then(m=>{r.value=m})}let a=i(!1),D=i(!1),f=i(""),l=G({});const S=()=>{a.value=!0,f.value="Create Board",z(l)},U=()=>{a.value=!1,k(J,{payload:{...l,schemeUid:p.params.schemeUid}},"createGrindBoard").then(m=>{r.value.boards||(r.value.boards=[]),r.value.boards.push(m)})};let n=i();return(m,t)=>{const A=M("modal");return d(),c(b,null,[e("h3",K,[t[3]||(t[3]=e("span",{class:"font-bold mr-4"},"Project Title:",-1)),e("span",null,u(r.value?.title),1)]),t[6]||(t[6]=e("hr",{class:"mt-2 mb-2"},null,-1)),e("p",O,u(r.value?.description),1),t[7]||(t[7]=e("hr",{class:"mt-2 mb-2"},null,-1)),t[8]||(t[8]=e("h4",{class:"h3 text-xl font-semibold mb-2"},"Boards:",-1)),e("div",Q,[e("div",null,[(d(!0),c(b,null,P(r.value?.boards,o=>(d(),c("button",{key:o.uid,class:j(["py-1 px-4 mr-2 bg-gray-200 text-gray-600 shadow-md overflow-hidden font-medium border-2 border-gray-200",{"bg-sky-500 text-white border-sky-500":s(n)?.uid===o.uid}]),onClick:oe=>h(n)?n.value=o:n=o},u(o.title),11,X))),128))]),e("button",{onClick:S,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded"},"+ Board")]),s(n)?(d(),y(s(w),{key:0,board:s(n)},null,8,["board"])):x("",!0),s(a)?(d(),y(A,{key:1,onClose:t[2]||(t[2]=o=>h(a)?a.value=!1:a=!1),"content-width":"w-full max-w-2xl"},{header:v(()=>[e("h3",Y,u(s(f)),1)]),body:v(()=>[e("form",{onSubmit:L(U,["prevent"])},[e("div",Z,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"title"},[N(" Scheme Title "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>s(l).title=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter scheme title"},null,512),[[_,s(l).title]])]),e("div",H,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"description"}," Description ",-1)),g(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=o=>s(l).description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter scheme description"},null,512),[[_,s(l).description]])]),e("div",W,[e("button",ee,u(s(D)?"Create":"Update"),1)])],32)]),_:1})):x("",!0)],64)}}}),le=q(te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/grind/_id/Scheme.vue"]]);export{le as default};
