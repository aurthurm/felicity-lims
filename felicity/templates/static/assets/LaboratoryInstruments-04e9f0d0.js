import{P as L,e as U,Z as c,f as A,h as v,o as d,c as m,b as t,F as y,D as w,E as n,a2 as a,x as E,K as h,A as u,a4 as S,V as b,z as V,a7 as T,J as M,X as R,Y as B,_ as F}from"./index-d30fd8e2.js";import{a as O,b as $}from"./instrument.mutations-8262b5ac.js";import{u as P}from"./setup-dd094621.js";import"./_queries-3ca7633b.js";const j={class:""},Y={class:"container w-full my-4"},z={class:"overflow-x-auto mt-4"},J={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},K={class:"min-w-full"},X={class:"bg-white"},Z={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},q={class:"text-sm leading-5 text-gray-800"},G={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},H={class:"text-sm leading-5 text-gray-800"},Q={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},W={class:"text-sm leading-5 text-sky-800"},tt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},et={class:"text-sm leading-5 text-sky-800"},st={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ot={class:"text-sm leading-5 text-sky-800"},at={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},rt=["onClick"],nt={action:"post",class:"p-1"},lt={class:"grid grid-cols-3 gap-x-4 mb-4"},it={class:"block col-span-1 mb-2"},dt={class:"w-full"},mt=["value"],ut={class:"block col-span-2 mb-2"},bt={class:"block col-span-2 mb-2"},pt={class:"block col-span-2 mb-2"},ct={class:"block col-span-2 mb-2"},yt=L({__name:"LaboratoryInstruments",setup(xt){const k=R(()=>B(()=>import("./index-d30fd8e2.js").then(r=>r.cN),["assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),l=P(),{withClientMutation:x}=U();let i=c(!1),f=c("");const p=c(!0);let o=A({});l.fetchInstruments(),l.fetchLaboratoryInstruments();const _=v(()=>l.getInstruments),N=v(()=>l.getLaboratoryInstruments);function D(){const r={labName:o.labName,serialNumber:o.serialNumber,dateCommissioned:o.dateCommissioned,dateDecommissioned:o.dateDecommissioned,instrumentUid:o.instrumentUid};x(O,{payload:r},"createLaboratoryInstrument").then(e=>l.addLaboratoryInstrument(e))}function I(){const r={labName:o.labName,serialNumber:o.serialNumber,dateCommissioned:o.dateCommissioned,dateDecommissioned:o.dateDecommissioned,instrumentUid:o.instrumentUid};x($,{uid:o.uid,payload:r},"updateLaboratoryInstrument").then(e=>l.updateLaboratoryInstrument(e))}function g(r,e={}){p.value=r,i.value=!0,f.value=(r?"CREATE":"EDIT")+" LABORATORY INSTRUMENT",r?Object.assign(o,{}):Object.assign(o,{...e})}function C(){p.value===!0&&D(),p.value===!1&&I(),i.value=!1}return(r,e)=>(d(),m(y,null,[t("div",j,[t("div",Y,[e[8]||(e[8]=t("hr",null,null,-1)),t("button",{class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:e[0]||(e[0]=s=>g(!0))}," Add Laboratory Instrument"),e[9]||(e[9]=t("hr",null,null,-1))]),e[11]||(e[11]=t("hr",null,null,-1)),t("div",z,[t("div",J,[t("table",K,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Instrument"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Lab Name/ID"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Serial Number"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Date Commisioned"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Date Decommisioned"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",X,[(d(!0),m(y,null,w(N.value,s=>(d(),m("tr",{key:s?.uid},[t("td",Z,[t("div",q,n(s?.instrument?.name),1)]),t("td",G,[t("div",H,n(s?.labName),1)]),t("td",Q,[t("div",W,n(s?.serialNumber),1)]),t("td",tt,[t("div",et,n(s?.dateCommissioned),1)]),t("td",st,[t("div",ot,n(s?.dateDecommissioned),1)]),t("td",at,[t("button",{onClick:ft=>g(!1,s),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,rt)])]))),128))])])])])]),a(i)?(d(),E(a(k),{key:0,onClose:e[7]||(e[7]=s=>T(i)?i.value=!1:i=!1)},{header:h(()=>[t("h3",null,n(a(f)),1)]),body:h(()=>[t("form",nt,[t("div",lt,[t("label",it,[e[13]||(e[13]=t("span",{class:"text-gray-700 w-4/12"},"Instrument",-1)),t("div",dt,[u(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[1]||(e[1]=s=>a(o).instrumentUid=s)},[e[12]||(e[12]=t("option",null,null,-1)),(d(!0),m(y,null,w(_.value,s=>(d(),m("option",{key:s?.uid,value:s.uid},n(s?.name),9,mt))),128))],512),[[S,a(o).instrumentUid]])])]),t("label",ut,[e[14]||(e[14]=t("span",{class:"text-gray-700"},"Laboratory Name/ID",-1)),u(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[2]||(e[2]=s=>a(o).labName=s),placeholder:"Name ..."},null,512),[[b,a(o).labName]])]),t("label",bt,[e[15]||(e[15]=t("span",{class:"text-gray-700"},"Serial Number",-1)),u(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":e[3]||(e[3]=s=>a(o).serialNumber=s),placeholder:"Name ..."},null,512),[[b,a(o).serialNumber]])]),t("label",pt,[e[16]||(e[16]=t("span",{class:"text-gray-700"},"Date Commisioned",-1)),u(t("input",{type:"date",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[4]||(e[4]=s=>a(o).dateCommissioned=s)},null,512),[[b,a(o).dateCommissioned]])]),t("label",ct,[e[17]||(e[17]=t("span",{class:"text-gray-700"},"Date Decommisioned",-1)),u(t("input",{type:"date",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[5]||(e[5]=s=>a(o).dateDecommissioned=s)},null,512),[[b,a(o).dateDecommissioned]])])]),e[18]||(e[18]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[6]||(e[6]=V(s=>C(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):M("",!0)],64))}}),kt=F(yt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/LaboratoryInstruments.vue"]]);export{kt as default};
