import{S as g,a0 as n,a7 as x,o as l,c as i,K as o,N as t,H as v,ah as p,j as h,_}from"./index-3686e2f1.js";const y={class:"flex items-center gap-x-4 bg-background/50 px-4 py-2 rounded-lg border border-border/50"},b={class:"flex items-center gap-x-2"},w={class:"text-sm font-medium text-foreground"},k={key:0,class:"flex items-center gap-x-2 text-primary"},C={class:"text-sm font-medium"},V=g({__name:"VersionDisplay",setup(D){const s=n(!1),u=n("0.0.0"),r=n(null),c=n(null),f=async()=>{s.value=!0,p.get("/version").then(({data:{version:e}})=>{u.value=e}).catch(e=>{c.value="Failed to get current version",console.error(e)}).finally(()=>s.value=!1)},{toastInfo:d}=h(),m=async()=>{s.value=!0,p.get("/version/updates").then(({data:e})=>{r.value=e,e.update_available?d(`Update available: ${e.latest_version}`):d("No updates available")}).catch(e=>{c.value="Failed to get current version",console.error(e)}).finally(()=>s.value=!1)};return x(()=>{f()}),(e,a)=>(l(),i("div",y,[o(" Current version "),t("div",b,[t("span",w,"v"+v(u.value),1),o(" Refresh button when no update "),r.value?.update_available?o("v-if",!0):(l(),i("button",{key:0,onClick:m,class:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":"Check for updates"},a[0]||(a[0]=[t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"})],-1)])))]),o(" Update available "),r.value?.update_available?(l(),i("div",k,[t("span",C,"v"+v(e.latestVersion)+" available",1),a[1]||(a[1]=t("svg",{class:"w-4 h-4 animate-pulse",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t("line",{x1:"12",y1:"8",x2:"12",y2:"8"})],-1))])):o("v-if",!0)]))}}),M=_(V,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/VersionDisplay.vue"]]);export{M as default};
