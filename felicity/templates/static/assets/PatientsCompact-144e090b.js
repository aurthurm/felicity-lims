import{S as z,ah as H,a0 as E,h as Z,i as k,a7 as q,r as u,aj as J,o as n,c as i,a as f,N as e,y,L as v,M as W,K as g,C as A,a5 as C,F as X,E as Y,a3 as ee,H as r,Z as p,$ as m,_ as te}from"./index-54016222.js";import{u as oe}from"./patient-024bb3e3.js";import{u as se}from"./location-ea064bf1.js";import{h as S,o as w,a as I}from"./constants-2cea91a2.js";const ne={class:"space-y-6"},ae={class:"flex justify-between items-center"},ie={class:"flex items-center space-x-4"},re={class:"grid grid-cols-12 gap-6"},le={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 h-[calc(100vh-200px)] overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ce={key:1,class:"space-y-2"},de=["onClick"],ue={class:"space-y-2"},pe={class:"flex justify-between items-center"},me={class:"font-semibold text-foreground"},_e={class:"text-sm text-muted-foreground"},fe={class:"flex justify-between text-sm text-muted-foreground"},ge={class:"flex justify-between text-sm text-muted-foreground"},ye={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9 space-y-6"},ve=z({__name:"PatientsCompact",setup(he){const _={MALE:0,FEMALE:1,MISSING:2,TRANS:3},T={[_.MALE]:"Male",[_.FEMALE]:"Female",[_.MISSING]:"Missing",[_.TRANS]:"Trans Gender"},h={PatientForm:p(()=>m(()=>import("./PatientForm-1412ea71.js"),["assets/PatientForm-1412ea71.js","assets/index-54016222.js","assets/index-a1ed10d8.css","assets/vue-multiselect.esm-03413bf7.js","assets/array-7d74d738.js","assets/patient.mutations-7a461365.js","assets/client-415a3d6e.js","assets/location-ea064bf1.js","assets/patient-024bb3e3.js","assets/index-f9df72b1.js","assets/vue-multiselect-a538cd7c.css"])),PatientInfo:p(()=>m(()=>import("./PatientInfo-cbe6e869.js"),["assets/PatientInfo-cbe6e869.js","assets/index-54016222.js","assets/index-a1ed10d8.css","assets/constants-2cea91a2.js","assets/patient-024bb3e3.js","assets/index-f9df72b1.js"]))},c=oe(),N=se(),{patients:L,fetchingPatients:R}=H(c),d=E(!1),a=E({}),l=Z({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),D=k(()=>Object.keys(a.value).length>0),F=k(()=>[{id:"samples",label:"Samples",component:p(()=>m(()=>import("./FelAnalyisRequestListing-05d543df.js"),["assets/FelAnalyisRequestListing-05d543df.js","assets/index-54016222.js","assets/index-a1ed10d8.css","assets/index-f9df72b1.js"])),props:{target:"patient-samples",targetUid:a.value.uid}},{id:"billing",label:"Billing",component:p(()=>m(()=>import("./PatientBill-6bc29df4.js"),["assets/PatientBill-6bc29df4.js","assets/index-54016222.js","assets/index-a1ed10d8.css","assets/billing-395bc348.js","assets/index-f9df72b1.js","assets/array-7d74d738.js","assets/PatientBill-29a3da4a.css"])),props:{patientUid:a.value.uid}},{id:"logs",label:"Logs",component:p(()=>m(()=>import("./FelAuditLog-1328e5cc.js"),["assets/FelAuditLog-1328e5cc.js","assets/index-54016222.js","assets/index-a1ed10d8.css","assets/user-e2c3c5eb.js","assets/_queries-7a4a5593.js","assets/index-f9df72b1.js"])),props:{targetType:"patient",targetUid:a.value.uid}}]),M=t=>`${t.firstName} ${t.lastName}`,V=t=>T[t]||"Unknown",b=t=>{a.value=t,c.setPatient(t)},x=()=>{a.value={},c.resetPatient()},j=t=>{const s=t.target;l.first=100,l.before="",l.text=s.value,l.filterAction=!0,c.fetchPatients(l)},B=async()=>{x(),d.value=!0},G=t=>{b(t),d.value=!1};return q(()=>{N.fetchCountries(),c.fetchPatients(l)}),(t,s)=>{const O=u("fel-heading"),U=u("router-link"),$=u("fel-loader"),Q=u("fel-tabs"),K=u("fel-modal"),P=J("motion");return n(),i("div",ne,[f(O,{title:"Patients Quick View"}),e("div",ae,[e("div",ie,[S(I.CREATE,w.PATIENT)?(n(),y(U,{key:0,to:"/patients/search",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:v(()=>s[2]||(s[2]=[W(" Add Patient ")])),_:1})):g("",!0),e("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-foreground placeholder-muted-foreground border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyup:j,onFocus:x},null,32)]),S(I.CREATE,w.PATIENT)?(n(),i("button",{key:0,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:B}," Quick Registration ")):g("",!0)]),e("div",re,[A((n(),i("section",le,[C(R)?(n(),y($,{key:0,message:"Fetching patients..."})):(n(),i("div",ce,[(n(!0),i(X,null,Y(C(L),o=>(n(),i("div",{key:o.patientId,onClick:be=>b(o),class:ee(["bg-background p-4 rounded-lg shadow-sm border border-border cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary",{"border-primary bg-primary/5":o.uid===a.value?.uid}])},[e("div",ue,[e("div",pe,[e("span",me,r(M(o)),1),e("span",_e,r(o.age)+" yrs, "+r(V(o.gender)),1)]),e("div",fe,[e("span",null,r(o.patientId),1),e("span",null,r(o.clientPatientId),1)]),e("div",ge,[e("span",null,r(o?.client?.district?.province?.name),1),e("span",null,r(o?.client?.name),1)])])],10,de))),128))]))])),[[P]]),D.value?A((n(),i("section",ye,[f(h.PatientInfo,{onEditPatient:s[0]||(s[0]=o=>d.value=!0)}),f(Q,{tabs:F.value,"initial-tab":"samples",class:"rounded-lg"},null,8,["tabs"])])),[[P]]):g("",!0)]),d.value?(n(),y(K,{key:0,onClose:s[1]||(s[1]=o=>d.value=!1),"content-width":"w-3/6",class:"bg-background"},{header:v(()=>s[3]||(s[3]=[e("h3",{class:"text-xl font-semibold text-foreground"},"Patient Form",-1)])),body:v(()=>[f(h.PatientForm,{patient:a.value,navigate:!1,onClose:G},null,8,["patient"])]),_:1})):g("",!0)])}}});const Ae=te(ve,[["__scopeId","data-v-81af20fc"],["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{Ae as default};
