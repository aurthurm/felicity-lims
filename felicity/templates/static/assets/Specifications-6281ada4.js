import{W as F,f as I,t as O,a2 as c,h as B,Y as L,i as $,r as S,o as u,c as p,a as A,M as f,N as j,O as e,F as g,H as R,J as d,a7 as s,z as P,D as l,Z as a,a4 as k,C as q,af as G,L as Y,a0 as z,a1 as H,_ as J}from"./index-93739211.js";import{N as Q,O as Z}from"./analyses.mutations-e3a0ff1f.js";import{u as K}from"./setup-e711c708.js";import{u as X}from"./analysis-689a99f8.js";import"./_queries-2ba61825.js";const ee={class:"overflow-x-auto mt-4"},te={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},oe={class:"min-w-full"},re={class:"bg-card"},se={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ne={class:"text-sm text-destructive"},de={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},le={class:"text-sm text-warning"},ae={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ie={class:"text-sm text-foreground"},ue={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},pe={class:"text-sm text-foreground"},be={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},fe={class:"text-sm text-warning"},xe={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},me={class:"text-sm text-destructive"},ce={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ge={class:"text-sm text-foreground"},ye={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ve={class:"text-sm text-foreground"},we={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},_e={class:"text-sm text-foreground"},he={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Me={class:"text-sm text-foreground"},Ve={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Se={class:"text-sm text-foreground"},Ae={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},Re={class:"text-sm text-foreground"},ke={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},Ue=["onClick"],Ce={class:"text-lg font-bold text-foreground"},We={action:"post",class:"p-6 space-y-6"},Te={class:"space-y-4"},Ne={class:"grid grid-cols-6 gap-4"},De={class:"space-y-2"},Ee={class:"space-y-2"},Fe={class:"space-y-2"},Ie={class:"space-y-2"},Oe={class:"space-y-2"},Be={class:"space-y-2"},Le={class:"space-y-4"},$e={class:"grid grid-cols-2 gap-4"},je={class:"space-y-2"},Pe={class:"space-y-2"},qe={class:"space-y-4"},Ge={class:"grid grid-cols-4 gap-4"},Ye={class:"space-y-2"},ze=["value"],He={class:"space-y-2"},Je={class:"space-y-2"},Qe={class:"space-y-2"},Ze={class:"pt-4"},Ke=F({__name:"Specifications",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(U){const C=z(()=>H(()=>import("./index-93739211.js").then(n=>n.cQ),["assets/index-93739211.js","assets/index-0f090789.css"])),y=X(),v=K(),{withClientMutation:w}=I(),_=U,{analysis:h}=O(_);let i=c(!1),M=c(""),r=B({});const x=c(!0);L(()=>_.analysisUid,(n,t)=>{}),v.fetchMethods();const b=$(()=>v.getMethods);function W(){const n={...r,analysisUid:h?.value?.uid};w(Q,{payload:n},"createAnalysisSpecification").then(t=>y.addAnalysisSpecification(t))}function T(){const n={...r};delete n.uid,delete n.__typename,delete n.unit,w(Z,{uid:r.uid,payload:n},"updateAnalysisSpecification").then(t=>y.updateAnalysisSpecification(t))}function V(n,t={}){x.value=n,i.value=!0,M.value=(n?"CREATE":"EDIT")+" ANALYSIS SPECIFICATION",n?Object.assign(r,{analysisUid:null,min:null,max:null,minWarn:null,maxWarn:null,minReport:null,maxReport:null,warnValues:null,warnReport:null,gender:null,ageMin:null,ageMax:null,methodUid:null}):Object.assign(r,{...t})}function N(){x.value===!0&&W(),x.value===!1&&T(),i.value=!1}const D=n=>{if(!n||!b.value)return"";const t=b.value.findIndex(m=>m.uid===n);return b.value[t]?.name||""};return(n,t)=>{const m=S("fel-button"),E=S("fel-heading");return u(),p(g,null,[A(E,{title:"Specifications"},{default:f(()=>[A(m,{onClick:t[0]||(t[0]=o=>V(!0))},{default:f(()=>t[15]||(t[15]=[j("Add Specification")])),_:1})]),_:1}),e("div",ee,[e("div",te,[e("table",oe,[t[16]||(t[16]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Min Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Min Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Max"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-warning"},"Max Warn"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-destructive"},"Max Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Warn Texts"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Text Report"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Method"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Gender"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Min"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-foreground"},"Age Max"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",re,[(u(!0),p(g,null,R(s(h)?.specifications,o=>(u(),p("tr",{key:o?.uid,class:"hover:bg-accent/50"},[e("td",se,[e("div",ne,d(o.minReport),1)]),e("td",de,[e("div",le,d(o.minWarn),1)]),e("td",ae,[e("div",ie,d(o.min),1)]),e("td",ue,[e("div",pe,d(o.max),1)]),e("td",be,[e("div",fe,d(o.maxWarn),1)]),e("td",xe,[e("div",me,d(o.maxReport),1)]),e("td",ce,[e("div",ge,d(o.warnValues),1)]),e("td",ye,[e("div",ve,d(o.warnReport),1)]),e("td",we,[e("div",_e,d(D(o?.methodUid)||""),1)]),e("td",he,[e("div",Me,d(o.gender),1)]),e("td",Ve,[e("div",Se,d(o.ageMin),1)]),e("td",Ae,[e("div",Re,d(o.ageMax),1)]),e("td",ke,[e("button",{onClick:Xe=>V(!1,o),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"},"Edit",8,Ue)])]))),128))])])])]),s(i)?(u(),P(s(C),{key:0,onClose:t[14]||(t[14]=o=>G(i)?i.value=!1:i=!1),contentWidth:"w-3/4"},{header:f(()=>[e("h3",Ce,d(s(M)),1)]),body:f(()=>[e("form",We,[e("div",Te,[t[23]||(t[23]=e("h4",{class:"text-lg font-semibold text-foreground"},"Numerical Results",-1)),t[24]||(t[24]=e("hr",{class:"border-border"},null,-1)),e("div",Ne,[e("label",De,[t[17]||(t[17]=e("span",{class:"text-sm font-medium text-destructive"},"Min Report",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=o=>s(r).minReport=o),placeholder:"Value ..."},null,512),[[a,s(r).minReport]])]),e("label",Ee,[t[18]||(t[18]=e("span",{class:"text-sm font-medium text-warning"},"Min Warn",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=o=>s(r).minWarn=o),placeholder:"Value ..."},null,512),[[a,s(r).minWarn]])]),e("label",Fe,[t[19]||(t[19]=e("span",{class:"text-sm font-medium text-foreground"},"Min",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=o=>s(r).min=o),placeholder:"Value ..."},null,512),[[a,s(r).min]])]),e("label",Ie,[t[20]||(t[20]=e("span",{class:"text-sm font-medium text-foreground"},"Max",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[4]||(t[4]=o=>s(r).max=o),placeholder:"Value ..."},null,512),[[a,s(r).max]])]),e("label",Oe,[t[21]||(t[21]=e("span",{class:"text-sm font-medium text-warning"},"Max Warn",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[5]||(t[5]=o=>s(r).maxWarn=o),placeholder:"Value ..."},null,512),[[a,s(r).maxWarn]])]),e("label",Be,[t[22]||(t[22]=e("span",{class:"text-sm font-medium text-destructive"},"Max Report",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[6]||(t[6]=o=>s(r).maxReport=o),placeholder:"Value ..."},null,512),[[a,s(r).maxReport]])])])]),e("div",Le,[t[27]||(t[27]=e("h4",{class:"text-lg font-semibold text-foreground"},"Textual Results",-1)),t[28]||(t[28]=e("hr",{class:"border-border"},null,-1)),e("div",$e,[e("label",je,[t[25]||(t[25]=e("span",{class:"text-sm font-medium text-foreground"},"Textual Results (comma separated)",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[7]||(t[7]=o=>s(r).warnValues=o),placeholder:"Value ..."},null,512),[[a,s(r).warnValues]])]),e("label",Pe,[t[26]||(t[26]=e("span",{class:"text-sm font-medium text-foreground"},"Report Message",-1)),l(e("input",{type:"text",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[8]||(t[8]=o=>s(r).warnReport=o),placeholder:"Value ..."},null,512),[[a,s(r).warnReport]])])])]),e("div",qe,[t[35]||(t[35]=e("h4",{class:"text-lg font-semibold text-foreground"},"Conditions if Any",-1)),t[36]||(t[36]=e("hr",{class:"border-border"},null,-1)),e("div",Ge,[e("label",Ye,[t[30]||(t[30]=e("span",{class:"text-sm font-medium text-foreground"},"Method",-1)),l(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[9]||(t[9]=o=>s(r).methodUid=o)},[t[29]||(t[29]=e("option",{value:""},"Select Method",-1)),(u(!0),p(g,null,R(b.value,o=>(u(),p("option",{key:o?.uid,value:o.uid},d(o?.name),9,ze))),128))],512),[[k,s(r).methodUid]])]),e("label",He,[t[32]||(t[32]=e("span",{class:"text-sm font-medium text-foreground"},"Gender",-1)),l(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[10]||(t[10]=o=>s(r).gender=o)},t[31]||(t[31]=[e("option",{value:"all"},"All",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1)]),512),[[k,s(r).gender]])]),e("label",Je,[t[33]||(t[33]=e("span",{class:"text-sm font-medium text-foreground"},"Age Min",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[11]||(t[11]=o=>s(r).ageMin=o),placeholder:"Value ..."},null,512),[[a,s(r).ageMin]])]),e("label",Qe,[t[34]||(t[34]=e("span",{class:"text-sm font-medium text-foreground"},"Age Max",-1)),l(e("input",{type:"number",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[12]||(t[12]=o=>s(r).ageMax=o),placeholder:"Value ..."},null,512),[[a,s(r).ageMax]])])])]),e("div",Ze,[e("button",{type:"button",onClick:t[13]||(t[13]=q(o=>N(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):Y("",!0)],64)}}}),nt=J(Ke,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/services/Specifications.vue"]]);export{nt as default};
