import{P as R,e as F,t as O,Z as x,f as B,R as $,h as A,o as a,c as i,b as t,F as m,D as f,E as r,a2 as l,x as j,K as M,A as u,a4 as V,V as g,z as L,a7 as P,J as Y,X as q,Y as z,_ as J}from"./index-d30fd8e2.js";import{N as K,O as W}from"./analyses.mutations-ddd21bab.js";import{u as X}from"./setup-dd094621.js";import{u as Z}from"./analysis-38cab438.js";import"./_queries-3ca7633b.js";const G={class:"overflow-x-auto mt-4"},H={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},Q={class:"min-w-full"},tt={class:"bg-white"},et={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},st={class:"flex items-center"},nt={class:"text-sm leading-5 text-gray-800"},ot={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},lt={class:"text-sm leading-5 text-sky-800"},at={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},rt={class:"text-sm leading-5 text-sky-800"},it={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},dt={class:"text-sm leading-5 text-sky-800"},ut={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},pt={class:"text-sm leading-5 text-sky-800"},mt={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},ct=["onClick"],yt={action:"post",class:"p-1"},bt={class:"grid grid-cols-5 gap-x-4 mb-4"},xt={class:"block col-span-1 mb-2"},ft={class:"w-full"},gt=["value"],vt={class:"block col-span-1 mb-2"},ht={class:"w-full"},wt=["value"],_t={class:"block col-span-1 mb-2"},kt={class:"block col-span-1 mb-2"},Ut={class:"block col-span-1 mb-2"},At=R({__name:"Uncertainty",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(C){const S=q(()=>z(()=>import("./index-d30fd8e2.js").then(n=>n.cN),["assets/index-d30fd8e2.js","assets/index-81d3252e.css"])),v=Z(),p=X(),{withClientMutation:h}=F(),w=C,{analysis:_}=O(w);let d=x(!1),k=x(""),o=B({});const c=x(!0);$(()=>w.analysisUid,(n,e)=>{}),p.fetchInstruments();const y=A(()=>p.getInstruments);p.fetchMethods();const b=A(()=>p.getMethods);function E(){const n={...o,analysisUid:_?.value?.uid};h(K,{payload:n},"createAnalysisUncertainty").then(e=>v.addAnalysisUncertainty(e))}function I(){const n={...o};delete n.uid,delete n.__typename,h(W,{uid:o.uid,payload:n},"updateAnalysisUncertainty").then(e=>v.updateAnalysisUncertainty(e))}function U(n,e={}){c.value=n,d.value=!0,k.value=(n?"CREATE":"EDIT")+" ANALYSIS UNCERTAINTY",n?Object.assign(o,{min:null,max:null,value:null,instrumentUid:null,methodUid:null}):Object.assign(o,{...e})}function D(){c.value===!0&&E(),c.value===!1&&I(),d.value=!1}const N=n=>{const e=y?.value?.findIndex(s=>s.uid===n);return y?.value[e]?.name||"unknown"},T=n=>{const e=b?.value?.findIndex(s=>s.uid===n);return b?.value[e]?.name||"unknown"};return(n,e)=>(a(),i(m,null,[t("button",{class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:e[0]||(e[0]=s=>U(!0))},"Add Uncertainty"),e[17]||(e[17]=t("hr",null,null,-1)),t("div",G,[t("div",H,[t("table",Q,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Intrument"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Method"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Min"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Max"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Variance (+/-)"),t("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1)),t("tbody",tt,[(a(!0),i(m,null,f(l(_)?.uncertainties,s=>(a(),i("tr",{key:s?.uid},[t("td",et,[t("div",st,[t("div",null,[t("div",nt,r(N(s?.instrumentUid)),1)])])]),t("td",ot,[t("div",lt,r(T(s?.instrumentUid)),1)]),t("td",at,[t("div",rt,r(s.min),1)]),t("td",it,[t("div",dt,r(s.max),1)]),t("td",ut,[t("div",pt,r(s.value),1)]),t("td",mt,[t("button",{onClick:Mt=>U(!1,s),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,ct)])]))),128))])])])]),l(d)?(a(),j(l(S),{key:0,onClose:e[7]||(e[7]=s=>P(d)?d.value=!1:d=!1),contentWidth:"w-2/4"},{header:M(()=>[t("h3",null,r(l(k)),1)]),body:M(()=>[t("form",yt,[t("div",bt,[t("label",xt,[e[10]||(e[10]=t("span",{class:"text-gray-700 w-4/12"},"Instrument",-1)),t("div",ft,[u(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[1]||(e[1]=s=>l(o).instrumentUid=s)},[e[9]||(e[9]=t("option",null,null,-1)),(a(!0),i(m,null,f(y.value,s=>(a(),i("option",{key:s?.uid,value:s.uid},r(s?.name),9,gt))),128))],512),[[V,l(o).instrumentUid]])])]),t("label",vt,[e[12]||(e[12]=t("span",{class:"text-gray-700 w-4/12"},"Method",-1)),t("div",ht,[u(t("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":e[2]||(e[2]=s=>l(o).methodUid=s)},[e[11]||(e[11]=t("option",null,null,-1)),(a(!0),i(m,null,f(b.value,s=>(a(),i("option",{key:s?.uid,value:s.uid},r(s?.name),9,wt))),128))],512),[[V,l(o).methodUid]])])]),t("label",_t,[e[13]||(e[13]=t("span",{class:"text-gray-700"},"Min",-1)),u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[3]||(e[3]=s=>l(o).min=s),placeholder:"Value ..."},null,512),[[g,l(o).min]])]),t("label",kt,[e[14]||(e[14]=t("span",{class:"text-gray-700"},"Max",-1)),u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[4]||(e[4]=s=>l(o).max=s),placeholder:"Value ..."},null,512),[[g,l(o).max]])]),t("label",Ut,[e[15]||(e[15]=t("span",{class:"text-gray-700"},"Variance +/-",-1)),u(t("input",{type:"number",class:"form-input mt-1 block w-full","onUpdate:modelValue":e[5]||(e[5]=s=>l(o).value=s),placeholder:"Value ..."},null,512),[[g,l(o).value]])])]),e[16]||(e[16]=t("hr",null,null,-1)),t("button",{type:"button",onClick:e[6]||(e[6]=L(s=>D(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):Y("",!0)],64))}}),Dt=J(At,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/services/Uncertainty.vue"]]);export{Dt as default};
