import{_ as Z,aE as ee,t as te,a5 as se,a2 as le,w as oe}from"./shipment-53265c2d.js";import{f as ie,G as ae,r as ne,h as r,k as u,x as e,B as L,u as s,i as c,D as o,ag as n,F as _,ak as v,_ as de}from"./_plugin-vue_export-helper-dacf3d65.js";import re from"./vue-multiselect.esm-51069c0e.js";import{c as O,a as m,d as g,f as T,u as ue,b as p}from"./array-9d3d6c63.js";import{l as ce}from"./inventory.mutations-f4d79d64.js";import{v as w,d as f,b as Q,a as pe}from"./runtime-dom.esm-bundler-98433118.js";const me=["inert"],_e={class:"flex items-center whitespace-nowrap w-full"},ve=e("span",{class:"text-gray-700 w-4/12"},"Stock Item",-1),we={class:"w-full"},fe={class:"text-orange-600 w-4/12"},he={class:"flex items-center whitespace-nowrap w-full"},Ue=e("span",{class:"text-gray-700 w-4/12"},"Name",-1),ge={class:"w-full"},xe={class:"text-orange-600 w-4/12"},ye={class:"flex items-center whitespace-nowrap w-full"},be=e("span",{class:"text-gray-700 w-4/12"},"Department",-1),ke=e("option",{value:"null"},null,-1),Se=["value"],Re={class:"text-orange-600 w-4/12"},qe={class:"flex items-center whitespace-nowrap w-full"},Ve=e("span",{class:"text-gray-700 w-4/12"},"Category",-1),De=e("option",{value:"null"},null,-1),ze=["value"],Ne={class:"text-orange-600 w-4/12"},Be={class:"flex items-center whitespace-nowrap w-full"},Ie=e("span",{class:"text-gray-700 w-4/12"},"Hazard",-1),Pe=e("option",{value:"null"},null,-1),Fe=["value"],Ce={class:"text-orange-600 w-4/12"},Ee={class:"flex items-center whitespace-nowrap w-full"},Me=e("span",{class:"text-gray-700 w-4/12"},"Store Room",-1),Ae=e("option",{value:"null"},null,-1),Le=["value"],Oe={class:"text-orange-600 w-4/12"},Te={class:"flex items-center whitespace-nowrap w-full"},Qe=e("span",{class:"text-gray-700 w-4/12"},"Supplier",-1),$e=e("option",{value:"null"},null,-1),He=["value"],je={class:"text-orange-600 w-4/12"},Ge={class:"flex items-center whitespace-nowrap w-full"},Ke=e("span",{class:"text-gray-700 w-4/12"},"Lot Number",-1),Je={class:"w-full"},We={class:"text-orange-600 w-4/12"},Xe={class:"flex items-center whitespace-nowrap w-full"},Ye=e("span",{class:"text-gray-700 w-4/12"},"Batch",-1),Ze={class:"w-full"},et={class:"text-orange-600 w-4/12"},tt={class:"flex items-center whitespace-nowrap w-full"},st=e("span",{class:"text-gray-700 w-4/12"},"Size",-1),lt={class:"w-full"},ot={class:"text-orange-600 w-4/12"},it={class:"flex items-center whitespace-nowrap w-full"},at=e("span",{class:"text-gray-700 w-4/12"},"Unit",-1),nt=e("option",{value:"null"},null,-1),dt=["value"],rt={class:"text-orange-600 w-4/12"},ut={class:"flex items-center whitespace-nowrap w-full"},ct=e("span",{class:"text-gray-700 w-4/12"},"Packaging",-1),pt=e("option",{value:"null"},null,-1),mt=["value"],_t={class:"text-orange-600 w-4/12"},vt={class:"flex items-center whitespace-nowrap w-full"},wt=e("span",{class:"text-gray-700 w-4/12"},"Quantity Received",-1),ft={class:"w-full"},ht={class:"text-orange-600 w-4/12"},Ut={class:"flex items-center whitespace-nowrap w-full"},gt=e("span",{class:"text-gray-700 w-4/12"},"Price ",-1),xt={class:"w-full"},yt={class:"text-orange-600 w-4/12"},bt={class:"flex items-center whitespace-nowrap w-full"},kt=e("span",{class:"text-gray-700 w-4/12"},"Received Date",-1),St={class:"w-full"},Rt={class:"text-orange-600 w-4/12"},qt={class:"flex items-center whitespace-nowrap w-full"},Vt=e("span",{class:"text-gray-700 w-4/12"},"Expiry Date",-1),Dt={class:"w-full"},zt={class:"text-orange-600 w-4/12"},Nt={class:"flex items-center whitespace-nowrap w-full"},Bt=e("span",{class:"text-gray-700 w-4/12"},"Received By",-1),It=e("option",{value:"null"},null,-1),Pt=["value"],Ft={class:"text-orange-600 w-4/12"},Ct=e("hr",{class:"my-4"},null,-1),Et={type:"submit",class:"-mb-4 w-1/5 border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"},Mt=ie({__name:"StockProductForm",props:{product:Object},emits:["close"],setup($,{emit:H}){const a=$,j=ae(()=>Z(()=>import("./LoadingMessage-097e117a.js"),["assets/LoadingMessage-097e117a.js","assets/_plugin-vue_export-helper-dacf3d65.js"])),h=ee(),M=te(),G=se(),K=le(),{withClientMutation:J}=oe(),U=ne(!1),W=O({uid:m(),name:m().nullable(),stockItem:O().required("StockItem is required"),departmentUid:m().nullable(),supplierUid:m().required(),categoryUid:m().required(),hazardUid:m().required("Hazard type is required"),storeRoomUid:m().required("Store room is required"),lotNumber:m().required(),batch:m().required(),size:g().required(),unitUid:m().required(),packagingUid:m().required(),price:g().nullable(),quantityReceived:g().required("Quantity received is required"),remaining:g().nullable(),dateReceived:T().required("Date received is required"),expiryDate:T().required("Date expiring is required"),receivedByUid:m().required("Receiver is required")}),{handleSubmit:X,errors:d}=ue({validationSchema:W,initialValues:{uid:a.product?.uid,name:a.product?.name,stockItem:a.product?.stockItem,departmentUid:a.product?.departmentUid,supplierUid:a.product?.supplierUid,categoryUid:a.product?.categoryUid,hazardUid:a.product?.hazardUid,storeRoomUid:a.product?.storeRoomUid,lotNumber:a.product?.lotNumber,batch:a.product?.batch,size:a.product?.size,unitUid:a.product?.unitUid,packagingUid:a.product?.packagingUid,price:a.product?.price,quantityReceived:a.product?.quantityReceived,expiryDate:a.product?.expiryDate,dateReceived:a.product?.dateReceived,receivedByUid:a.product?.receivedByUid}}),{value:x}=p("name"),{value:y}=p("stockItem"),{value:b}=p("departmentUid"),{value:k}=p("supplierUid"),{value:S}=p("categoryUid"),{value:R}=p("hazardUid"),{value:q}=p("storeRoomUid"),{value:V}=p("lotNumber"),{value:D}=p("batch"),{value:z}=p("size"),{value:N}=p("unitUid"),{value:B}=p("packagingUid"),{value:I}=p("price"),{value:P}=p("quantityReceived"),{value:F}=p("dateReceived"),{value:C}=p("expiryDate"),{value:E}=p("receivedByUid"),A=X(i=>{i?.uid||Y(i)});function Y(i){U.value=!0,J(ce,{payload:{name:i.name,stockItemUid:i.stockItem.uid,departmentUid:i.departmentUid,supplierUid:i.supplierUid,categoryUid:i.categoryUid,hazardUid:i.hazardUid,storeRoomUid:i.storeRoomUid,lotNumber:i.lotNumber,batch:i.batch,size:i.size,unitUid:i.unitUid,packagingUid:i.packagingUid,price:i.price,quantityReceived:i.quantityReceived,dateReceived:i.dateReceived,expiryDate:i.expiryDate,receivedByUid:i.receivedByUid}},"createStockProduct").then(l=>{h.addStockProduct(l)}).finally(()=>{U.value=!1,H("close")})}return(i,l)=>(r(),u("form",{onSubmit:l[17]||(l[17]=pe((...t)=>s(A)&&s(A)(...t),["prevent"])),class:"rounded-sm py-2",autocomplete:"off",inert:U.value},[e("label",_e,[ve,e("div",we,[L(s(re),{placeholder:"Select a Stock Item",modelValue:s(y),"onUpdate:modelValue":l[0]||(l[0]=t=>c(y)?y.value=t:null),options:s(h).stockItems,searchable:!0,label:"name","track-by":"uid"},null,8,["modelValue","options"]),e("div",fe,o(s(d).stockItem),1)])]),e("label",he,[Ue,e("div",ge,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[1]||(l[1]=t=>c(x)?x.value=t:null),placeholder:"Product Name..."},null,512),[[w,s(x)]]),e("div",xe,o(s(d).name),1)])]),e("label",ye,[be,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[2]||(l[2]=t=>c(b)?b.value=t:null)},[ke,(r(!0),u(_,null,v(s(M).departments,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,Se))),128))],512),[[f,s(b)]])]),e("div",Re,o(s(d).departmentUid),1),e("label",qe,[Ve,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[3]||(l[3]=t=>c(S)?S.value=t:null)},[De,(r(!0),u(_,null,v(s(h).categories,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,ze))),128))],512),[[f,s(S)]])]),e("div",Ne,o(s(d).categoryUid),1),e("label",Be,[Ie,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[4]||(l[4]=t=>c(R)?R.value=t:null)},[Pe,(r(!0),u(_,null,v(s(h).hazards,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,Fe))),128))],512),[[f,s(R)]])]),e("div",Ce,o(s(d).hazardUid),1),e("label",Ee,[Me,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[5]||(l[5]=t=>c(q)?q.value=t:null)},[Ae,(r(!0),u(_,null,v(s(G).storeRooms,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,Le))),128))],512),[[f,s(q)]])]),e("div",Oe,o(s(d).storeRoomUid),1),e("label",Te,[Qe,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[6]||(l[6]=t=>c(k)?k.value=t:null)},[$e,(r(!0),u(_,null,v(s(M).suppliers,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,He))),128))],512),[[f,s(k)]])]),e("div",je,o(s(d).supplierUid),1),e("label",Ge,[Ke,e("div",Je,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[7]||(l[7]=t=>c(V)?V.value=t:null),placeholder:"Lot Number..."},null,512),[[w,s(V)]]),e("div",We,o(s(d).lotNumber),1)])]),e("label",Xe,[Ye,e("div",Ze,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[8]||(l[8]=t=>c(D)?D.value=t:null),placeholder:"Batch Number..."},null,512),[[w,s(D)]]),e("div",et,o(s(d).batch),1)])]),e("label",tt,[st,e("div",lt,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[9]||(l[9]=t=>c(z)?z.value=t:null),placeholder:"Size..."},null,512),[[w,s(z)]]),e("div",ot,o(s(d).size),1)])]),e("label",it,[at,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[10]||(l[10]=t=>c(N)?N.value=t:null)},[nt,(r(!0),u(_,null,v(s(h).units,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,dt))),128))],512),[[f,s(N)]])]),e("div",rt,o(s(d).unitUid),1),e("label",ut,[ct,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[11]||(l[11]=t=>c(B)?B.value=t:null)},[pt,(r(!0),u(_,null,v(s(h).packages,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.name),9,mt))),128))],512),[[f,s(B)]])]),e("div",_t,o(s(d).packagingUid),1),e("label",vt,[wt,e("div",ft,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[12]||(l[12]=t=>c(P)?P.value=t:null),placeholder:"Quantity Received..."},null,512),[[w,s(P)]]),e("div",ht,o(s(d).quantityReceived),1)])]),e("label",Ut,[gt,e("div",xt,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[13]||(l[13]=t=>c(I)?I.value=t:null),placeholder:"Price..."},null,512),[[w,s(I)]]),e("div",yt,o(s(d).price),1)])]),e("label",bt,[kt,e("div",St,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[14]||(l[14]=t=>c(F)?F.value=t:null),placeholder:"Received Date"},null,512),[[w,s(F)]]),e("div",Rt,o(s(d).dateReceived),1)])]),e("label",qt,[Vt,e("div",Dt,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[15]||(l[15]=t=>c(C)?C.value=t:null),placeholder:"Expiry Date"},null,512),[[w,s(C)]]),e("div",zt,o(s(d).expiryDate),1)])]),e("label",Nt,[Bt,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[16]||(l[16]=t=>c(E)?E.value=t:null)},[It,(r(!0),u(_,null,v(s(K).users,t=>(r(),u("option",{key:t.uid,value:t.uid},o(t.firstName)+" "+o(t.lastName),9,Pt))),128))],512),[[f,s(E)]])]),e("div",Ft,o(s(d).receivedByUid),1),Ct,n(e("button",Et," Save ",512),[[Q,!U.value]]),n(L(s(j),{message:"Adding Inventory ..."},null,512),[[Q,U.value]])],40,me))}}),Ht=de(Mt,[["__file","/home/aurthurm/Development/felicity-lims/webapp/views/inventory/StockProductForm.vue"]]);export{Ht as default};
