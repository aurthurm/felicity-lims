const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-BoOjdWpS.js","assets/index-CNAOKjig.js","assets/index-vawJu9QC.css"])))=>i.map(i=>d[i]);
import{a0 as D,f as P,a7 as m,g as N,ad as E,a1 as F,a6 as T,_ as S,r as x,c as v,o as f,A as e,C as B,E as I,a as _,N as c,P as O,J as w,K as U,L as h,D as j,F as L,a2 as G}from"./index-CNAOKjig.js";import{t as H,r as J,H as K,I as Q}from"./microbiology.mutations-Sq_uOjPv.js";const R=D({__name:"AbxClass",setup(A,{expose:t}){t();const y=F(()=>T(()=>import("./vue-multiselect.esm-BoOjdWpS.js"),__vite__mapDeps([0,1,2]))),{withClientMutation:o,withClientQuery:u}=P();let i=m(!1),d=m(""),a=N({});const r=m(!0),l=m([]),p=m([]);E(()=>{u(H,{},"abxClassAll").then(s=>{s&&(l.value=s)}),u(J,{},"abxPhylumAll").then(s=>{s&&(p.value=s)})});function M(s,n={}){r.value=s,i.value=!0,d.value=(s?"Create":"Edit")+" Class",s?Object.assign(a,{}):Object.assign(a,{...n})}function k(){const s={name:a.name,phylumUid:a?.phylum?.uid};r.value===!0&&o(K,{payload:s},"createAbxClass").then(n=>{n&&l.value.unshift(n)}),r.value===!1&&o(Q,{uid:a.uid,payload:s},"updateAbxClass").then(n=>{if(n){const C=l.value.findIndex(b=>b.uid==n.uid);C>-1&&(l.value=[...l.value.map((b,V)=>V===C?n:b)])}}),i.value=!1}const g={VueMultiselect:y,withClientMutation:o,withClientQuery:u,get showModal(){return i},set showModal(s){i=s},get formTitle(){return d},set formTitle(s){d=s},get form(){return a},set form(s){a=s},formAction:r,abxClasss:l,abxPhylums:p,FormManager:M,saveForm:k};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),q={class:"space-y-6"},z={class:"rounded-md border border-border shadow-sm bg-card p-6"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-border"},Y={class:"divide-y divide-border bg-background"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},ee={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},te=["onClick"],se={class:"text-xl font-semibold text-foreground"},oe={class:"grid grid-cols-2 gap-4"},le={class:"block"},ae={class:"block"};function ne(A,t,y,o,u,i){const d=x("fel-button"),a=x("fel-heading"),r=x("fel-modal");return f(),v(w,null,[e("div",q,[_(a,{title:"Classes"},{default:c(()=>[_(d,{onClick:t[0]||(t[0]=l=>o.FormManager(!0))},{default:c(()=>[...t[4]||(t[4]=[O("Add Class",-1)])]),_:1})]),_:1}),e("div",z,[e("div",W,[e("table",X,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Phylum"),e("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Y,[(f(!0),v(w,null,U(o.abxClasss,l=>(f(),v("tr",{key:l?.uid,class:"hover:bg-muted/50"},[e("td",Z,h(l?.name),1),e("td",$,h(l?.phylum?.name),1),e("td",ee,[e("button",{onClick:p=>o.FormManager(!1,l),class:"text-primary hover:text-primary/80"}," Edit ",8,te)])]))),128))])])])])]),o.showModal?(f(),B(r,{key:0,onClose:t[3]||(t[3]=l=>o.showModal=!1),"content-width":"w-1/2"},{header:c(()=>[e("h3",se,h(o.formTitle),1)]),body:c(()=>[e("form",{onSubmit:j(o.saveForm,["prevent"]),class:"space-y-6 p-4"},[e("div",oe,[e("label",le,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-foreground"},"Class Name",-1)),L(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=l=>o.form.name=l),placeholder:"Name ..."},null,512),[[G,o.form.name]])]),e("label",ae,[t[7]||(t[7]=e("span",{class:"text-sm font-medium text-foreground"},"Phylum",-1)),_(o.VueMultiselect,{modelValue:o.form.phylum,"onUpdate:modelValue":t[2]||(t[2]=l=>o.form.phylum=l),options:o.abxPhylums,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),t[8]||(t[8]=e("hr",{class:"border-border"},null,-1)),t[9]||(t[9]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Class ",-1))],32)]),_:1})):I("",!0)],64)}const de=S(R,[["render",ne],["__scopeId","data-v-83715e86"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxClass.vue"]]);export{de as default};
