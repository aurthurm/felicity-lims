import{S as T,f as B,a0 as m,h as L,i as _,r as f,o as d,c as i,a as C,L as u,M as $,N as e,F as g,E as h,H as c,K as A,a5 as r,y as O,C as b,X as w,a2 as R,A as j,ac as Y,_ as G}from"./index-6c3e61f6.js";import{k as H,E as I}from"./analyses.mutations-1d25f58b.js";import{u as K}from"./setup-390c605e.js";import{u as X}from"./analysis-fcba6c2e.js";import"./_queries-c1bc77c2.js";const q={class:"overflow-x-auto mt-4"},z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},J={class:"min-w-full"},P={class:"bg-card"},Q={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},W={class:"text-sm text-foreground"},Z={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ee={class:"text-sm text-foreground"},te={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},oe=["onClick"],se={class:"text-lg font-bold text-foreground"},ne={action:"post",class:"p-6 space-y-6"},re={class:"space-y-4"},ae={class:"grid grid-cols-2 gap-4"},de={class:"col-span-2 space-y-2"},ie={class:"col-span-1 space-y-2"},le=["value"],ue={class:"col-span-2 space-y-2"},ce={class:"pt-4"},pe=T({__name:"AnalysesCategories",setup(me){const l=X(),k=K(),{withClientMutation:y}=B();let a=m(!1),v=m(""),o=L({});const p=m(!0),D=_(()=>k.getDepartments);l.fetchAnalysesCategories();const S=_(()=>l.getAnalysesCategories);function E(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(H,{payload:n},"createAnalysisCategory").then(t=>l.addAnalysisCategory(t))}function U(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(I,{uid:o.uid,payload:n},"updateAnalysisCategory").then(t=>l.updateAnalysisCategory(t))}function x(n,t){p.value=n,a.value=!0,v.value=(n?"CREATE":"EDIT")+" ANALYSES CATEGORY",n?Object.assign(o,{}):Object.assign(o,{...t})}function N(){p.value===!0&&E(),p.value===!1&&U(),a.value=!1}return(n,t)=>{const M=f("fel-button"),V=f("fel-heading"),F=f("fel-modal");return d(),i(g,null,[C(V,{title:"Analyses Categories"},{default:u(()=>[C(M,{onClick:t[0]||(t[0]=s=>x(!0,null))},{default:u(()=>t[6]||(t[6]=[$("Add Analyses Category")])),_:1})]),_:1}),e("div",q,[e("div",z,[e("table",J,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Category Name"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Department"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",P,[(d(!0),i(g,null,h(S.value,s=>(d(),i("tr",{key:s?.uid,class:"hover:bg-accent/50"},[e("td",Q,[e("div",W,c(s?.name),1)]),e("td",Z,[e("div",ee,c(s?.department?.name),1)]),e("td",te,[e("button",{onClick:fe=>x(!1,s),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"}," Edit ",8,oe)])]))),128))])])])]),A(" Location Edit Form Modal "),r(a)?(d(),O(F,{key:0,onClose:t[5]||(t[5]=s=>Y(a)?a.value=!1:a=!1)},{header:u(()=>[e("h3",se,c(r(v)),1)]),body:u(()=>[e("form",ne,[e("div",re,[e("div",ae,[e("label",de,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Category Name",-1)),b(e("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=s=>r(o).name=s),placeholder:"Name ..."},null,512),[[w,r(o).name]])]),e("label",ie,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Department",-1)),b(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).departmentUid=s)},[t[9]||(t[9]=e("option",{value:""},"Select Department",-1)),(d(!0),i(g,null,h(D.value,s=>(d(),i("option",{key:s.uid,value:s?.uid},c(s.name),9,le))),128))],512),[[R,r(o).departmentUid]])]),e("label",ue,[t[11]||(t[11]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),b(e("textarea",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[w,r(o).description]])])])]),e("div",ce,[e("button",{type:"button",onClick:t[4]||(t[4]=j(s=>N(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):A("v-if",!0)],64)}}}),_e=G(pe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/AnalysesCategories.vue"]]);export{_e as default};
