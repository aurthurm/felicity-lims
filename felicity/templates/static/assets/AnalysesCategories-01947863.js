import{S as T,f as F,a0 as m,h as B,i as _,r as f,o as d,c as i,a as C,L as u,M as $,N as e,F as g,E as h,H as c,a5 as r,y as L,C as b,X as A,a2 as O,A as R,ac as j,K as Y,_ as G}from"./index-8d0a01b3.js";import{k as H,E as I}from"./analyses.mutations-56a25983.js";import{u as K}from"./setup-8486ed9e.js";import{u as X}from"./analysis-250c489a.js";import"./_queries-5236cda4.js";const q={class:"overflow-x-auto mt-4"},z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card text-card-foreground rounded-lg border border-border"},J={class:"min-w-full"},P={class:"bg-card"},Q={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},W={class:"text-sm text-foreground"},Z={class:"px-4 py-2 whitespace-no-wrap border-b border-border"},ee={class:"text-sm text-foreground"},te={class:"px-4 py-2 whitespace-no-wrap text-right border-b border-border"},oe=["onClick"],se={class:"text-lg font-bold text-foreground"},ne={action:"post",class:"p-6 space-y-6"},re={class:"space-y-4"},ae={class:"grid grid-cols-2 gap-4"},de={class:"col-span-2 space-y-2"},ie={class:"col-span-1 space-y-2"},le=["value"],ue={class:"col-span-2 space-y-2"},ce={class:"pt-4"},pe=T({__name:"AnalysesCategories",setup(me){const l=X(),w=K(),{withClientMutation:y}=F();let a=m(!1),x=m(""),o=B({});const p=m(!0),k=_(()=>w.getDepartments);l.fetchAnalysesCategories();const D=_(()=>l.getAnalysesCategories);function S(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(H,{payload:n},"createAnalysisCategory").then(t=>l.addAnalysisCategory(t))}function U(){const n={name:o.name,description:o.description,departmentUid:o.departmentUid,active:o.active};y(I,{uid:o.uid,payload:n},"updateAnalysisCategory").then(t=>l.updateAnalysisCategory(t))}function v(n,t){p.value=n,a.value=!0,x.value=(n?"CREATE":"EDIT")+" ANALYSES CATEGORY",n?Object.assign(o,{}):Object.assign(o,{...t})}function E(){p.value===!0&&S(),p.value===!1&&U(),a.value=!1}return(n,t)=>{const N=f("fel-button"),M=f("fel-heading"),V=f("fel-modal");return d(),i(g,null,[C(M,{title:"Analyses Categories"},{default:u(()=>[C(N,{onClick:t[0]||(t[0]=s=>v(!0,null))},{default:u(()=>t[6]||(t[6]=[$("Add Analyses Category")])),_:1})]),_:1}),e("div",q,[e("div",z,[e("table",J,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Category Name"),e("th",{class:"px-4 py-2 border-b border-border text-left text-sm font-medium text-muted-foreground"},"Department"),e("th",{class:"px-4 py-2 border-b border-border"})])],-1)),e("tbody",P,[(d(!0),i(g,null,h(D.value,s=>(d(),i("tr",{key:s?.uid,class:"hover:bg-accent/50"},[e("td",Q,[e("div",W,c(s?.name),1)]),e("td",Z,[e("div",ee,c(s?.department?.name),1)]),e("td",te,[e("button",{onClick:fe=>v(!1,s),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"}," Edit ",8,oe)])]))),128))])])])]),r(a)?(d(),L(V,{key:0,onClose:t[5]||(t[5]=s=>j(a)?a.value=!1:a=!1)},{header:u(()=>[e("h3",se,c(r(x)),1)]),body:u(()=>[e("form",ne,[e("div",re,[e("div",ae,[e("label",de,[t[8]||(t[8]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Category Name",-1)),b(e("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[1]||(t[1]=s=>r(o).name=s),placeholder:"Name ..."},null,512),[[A,r(o).name]])]),e("label",ie,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Department",-1)),b(e("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[2]||(t[2]=s=>r(o).departmentUid=s)},[t[9]||(t[9]=e("option",{value:""},"Select Department",-1)),(d(!0),i(g,null,h(k.value,s=>(d(),i("option",{key:s.uid,value:s?.uid},c(s.name),9,le))),128))],512),[[O,r(o).departmentUid]])]),e("label",ue,[t[11]||(t[11]=e("span",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),b(e("textarea",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring","onUpdate:modelValue":t[3]||(t[3]=s=>r(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[A,r(o).description]])])])]),e("div",ce,[e("button",{type:"button",onClick:t[4]||(t[4]=R(s=>E(),["prevent"])),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])])]),_:1})):Y("",!0)],64)}}}),_e=G(pe,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/AnalysesCategories.vue"]]);export{_e as default};
