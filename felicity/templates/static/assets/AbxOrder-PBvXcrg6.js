const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-Bo98CR0X.js","assets/index-C5OmCQ1r.js","assets/index-DNLAO2yS.css"])))=>i.map(i=>d[i]);
import{a0 as V,f as D,a7 as u,g as N,ad as E,a1 as F,a6 as T,_ as S,r as x,c as _,o as c,A as e,C as B,E as P,a as v,N as p,P as U,J as A,K as j,L as g,D as I,F as L,a2 as G}from"./index-C5OmCQ1r.js";import{o as J,t as K,J as Q,K as R}from"./microbiology.mutations-CSRJRj-c.js";const q=V({__name:"AbxOrder",setup(O,{expose:t}){t();const h=F(()=>T(()=>import("./vue-multiselect.esm-Bo98CR0X.js"),__vite__mapDeps([0,1,2]))),{withClientMutation:s,withClientQuery:f}=D();let d=u(!1),m=u(""),a=N({});const i=u(!0),r=u([]),n=u([]);E(()=>{f(J,{},"abxOrderAll").then(o=>{o&&(n.value=o)}),f(K,{},"abxClassAll").then(o=>{o&&(r.value=o)})});function C(o,l={}){i.value=o,d.value=!0,m.value=(o?"Create":"Edit")+" Order",o?Object.assign(a,{}):Object.assign(a,{...l})}function M(){const o={name:a.name,classUid:a.class_?.uid};i.value===!0&&s(Q,{payload:o},"createAbxOrder").then(l=>{l&&n.value.unshift(l)}),i.value===!1&&s(R,{uid:a.uid,payload:o},"updateAbxOrder").then(l=>{if(l){const w=n.value.findIndex(b=>b.uid==l.uid);w>-1&&(n.value=[...n.value.map((b,k)=>k===w?l:b)])}}),d.value=!1}const y={VueMultiselect:h,withClientMutation:s,withClientQuery:f,get showModal(){return d},set showModal(o){d=o},get formTitle(){return m},set formTitle(o){m=o},get form(){return a},set form(o){a=o},formAction:i,abxClasses:r,abxOrders:n,FormManager:C,saveForm:M};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),z={class:"space-y-6"},H={class:"rounded-lg border border-border shadow-sm bg-card"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-border"},Y={class:"divide-y divide-border bg-background"},Z={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},ee={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},te=["onClick"],oe={class:"text-xl font-semibold text-foreground"},se={class:"grid grid-cols-2 gap-4"},re={class:"block"},ae={class:"block"};function le(O,t,h,s,f,d){const m=x("fel-button"),a=x("fel-heading"),i=x("fel-modal");return c(),_(A,null,[e("div",z,[v(a,{title:"Orders"},{default:p(()=>[v(m,{onClick:t[0]||(t[0]=r=>s.FormManager(!0))},{default:p(()=>[...t[4]||(t[4]=[U("Add Order",-1)])]),_:1})]),_:1}),e("div",H,[e("div",W,[e("table",X,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Class"),e("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Y,[(c(!0),_(A,null,j(s.abxOrders,r=>(c(),_("tr",{key:r?.uid,class:"hover:bg-muted/50"},[e("td",Z,g(r?.name),1),e("td",$,g(r?.class_?.name),1),e("td",ee,[e("button",{onClick:n=>s.FormManager(!1,r),class:"text-primary hover:text-primary/80"}," Edit ",8,te)])]))),128))])])])])]),s.showModal?(c(),B(i,{key:0,onClose:t[3]||(t[3]=r=>s.showModal=!1),"content-width":"w-1/2"},{header:p(()=>[e("h3",oe,g(s.formTitle),1)]),body:p(()=>[e("form",{onSubmit:I(s.saveForm,["prevent"]),class:"space-y-6 p-4"},[e("div",se,[e("label",re,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-foreground"},"Order Name",-1)),L(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=r=>s.form.name=r),placeholder:"Name ..."},null,512),[[G,s.form.name]])]),e("label",ae,[t[7]||(t[7]=e("span",{class:"text-sm font-medium text-foreground"},"Class",-1)),v(s.VueMultiselect,{modelValue:s.form.class_,"onUpdate:modelValue":t[2]||(t[2]=r=>s.form.class_=r),options:s.abxClasses,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),t[8]||(t[8]=e("hr",{class:"border-border"},null,-1)),t[9]||(t[9]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Order ",-1))],32)]),_:1})):P("",!0)],64)}const de=S(q,[["render",le],["__scopeId","data-v-49ba0efd"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrder.vue"]]);export{de as default};
