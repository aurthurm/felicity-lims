import{e as T,d as te,a3 as B,P as A,Z as w,h as $,r as oe,o as s,c as d,b as o,z as C,x as y,aC as G,a2 as a,a1 as L,E as j,a as h,A as E,J as O,F as U,D as q,_ as I,V as z,L as S,b7 as K,Q as ne,b8 as se,R as ie,aa as X}from"./index-fa13e788.js";import{G as le,a as re,A as de,b as ce}from"./document.mutations-cce26b80.js";import{b as ae}from"./_isIterateeCall-63f093c4.js";import{t as Q}from"./toFinite-e1ccf554.js";var ue=Math.floor,me=Math.random;function fe(e,t){return e+ue(me()*(t-e+1))}var he=parseFloat,pe=Math.min,ve=Math.random;function be(e,t,n){if(n&&typeof n!="boolean"&&ae(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Q(e),t===void 0?(t=e,e=0):t=Q(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var r=ve();return pe(e+r*(t-e+he("1e-"+((r+"").length-1))),t)}return fe(e,t)}const{withClientQuery:J}=T(),V=te("documents",{state:()=>({documents:[],folders:[],currentFolder:null,selectedDocument:null,isPreviewOpen:!1,recentDocuments:[].sort((e,t)=>t.updatedAt?.getTime()-e.updatedAt?.getTime()).slice(0,25)}),actions:{fetchDocuments(e,t=!1){J(le,{first:100,text:"",sortBy:["-created_at"],...e},"documentAll").then(n=>{this.documents=n?.items,t&&(this.recentDocuments=this.documents.slice(0,25))})},addDocument(e){this.documents.push(e),this.recentDocuments=[e,...this.recentDocuments].slice(0,5)},updateDocument(e){const t={...e,updatedAt:new Date};this.documents=this.documents.map(n=>n.uid===e.uid?t:n),this.recentDocuments=[t,...this.recentDocuments.filter(n=>n.uid!==e.uid)].slice(0,5)},deleteDocument(e){this.documents=this.documents.filter(t=>t.uid!==e),this.recentDocuments=this.recentDocuments.filter(t=>t.uid!==e)},duplicateDocument(e){const t=this.documents.find(l=>l.uid===e);if(!t)return;const n={...t,uid:be(1e3,9999).toString(),name:`${t.name} (Copy)`,createdAt:new Date,updatedAt:new Date};this.documents.push(n),this.recentDocuments=[n,...this.recentDocuments].slice(0,5)},setCurrentFolder(e){this.currentFolder=e,this.fetchDocuments({folderUid:e})},getFolders(){J(re,{},"documentFolderAll").then(e=>{this.folders=e?.items})},addFolder(e){this.folders.push(e)},deleteFolder(e){this.folders=this.folders.filter(t=>t.uid!==e),this.documents=this.documents.filter(t=>t.folderUid!==e)},updateFolder(e){this.folders=this.folders.map(t=>t.uid===e.uid?e:t)},setSelectedDocument(e){this.selectedDocument=e},togglePreview(e){this.isPreviewOpen=e},toggleFolderExpanded(e){this.folders=this.folders.map(t=>t.uid===e?{...t,expanded:!t.expanded}:t)}},getters:{getChildFolders:e=>t=>e.folders?.filter(n=>n.parentUid===t),getDocumentsInFolder:e=>t=>e.documents.filter(n=>n.folderUid===t)}});/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=({size:e,strokeWidth:t=2,absoluteStrokeWidth:n,color:l,iconNode:r,name:i,class:u,...f},{slots:p})=>B("svg",{...R,width:e||R.width,height:e||R.height,stroke:l||R.stroke,"stroke-width":n?Number(t)*24/Number(e):t,class:["lucide",`lucide-${ge(i??"icon")}`],...f},[...r.map(x=>B(...x)),...p.default?[p.default()]:[]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=(e,t)=>(n,{slots:l})=>B(ye,{...n,iconNode:t,name:e},l);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=D("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=D("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=D("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=D("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=D("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=D("FolderPlusIcon",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=D("FolderIcon",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=D("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=D("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=D("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),je={key:1,class:"w-4"},Ae={class:"mr-2 text-muted-foreground"},Ie={class:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Me={class:"relative"},Oe={key:0,class:"absolute right-0 mt-1 w-48 rounded-md border bg-white p-1 text-popover-foreground shadow-md z-10"},Ne=o("span",null,"Delete Folder",-1),Ve={key:0,class:"mt-1 ml-1 pl-1 border-l border-border"},Ee=A({__name:"FolderItem",props:{folder:{type:Object,required:!0},level:{type:Number,default:0}},emits:["add-subfolder"],setup(e,{emit:t}){const n=e,l=V(),r=w(!1),i=$(()=>l.getChildFolders(n.folder.uid)),u=$(()=>l.currentFolder===n.folder.uid),f=$(()=>!!n.folder.expanded);function p(){l.setCurrentFolder(n.folder.uid)}function x(){l.toggleFolderExpanded(n.folder.uid)}function k(){const c=i.value.length>0,m=l.documents.some(F=>F.folderUid===n.folder.uid);c||m?window.confirm("Delete this folder and all its contents?")&&l.deleteFolder(n.folder.uid):l.deleteFolder(n.folder.uid),r.value=!1}const b={mounted(c,m){c._clickOutside=F=>{c===F.target||c.contains(F.target)||m.value(F)},document.addEventListener("click",c._clickOutside)},unmounted(c){document.removeEventListener("click",c._clickOutside)}};return(c,m)=>{const F=oe("FolderItem",!0);return s(),d("div",null,[o("div",{class:L(["flex justify-start items-center p-2 rounded-md cursor-pointer group transition-colors duration-200",e.level>0&&"ml-6"]),onClick:p},[o("div",{class:"flex items-center mr-2",onClick:C(x,["stop"])},[i.value.length>0?(s(),y(G(i.value.length>0?f.value?a(Y):a(_e):"div"),{key:0,class:"w-4 h-4 text-muted-foreground"})):(s(),d("div",je))]),o("div",Ae,[(s(),y(G(f.value?a(ke):a(H)),{class:L(["w-[18px] h-[18px]",u.value&&"text-sky-600"])},null,8,["class"]))]),o("div",{class:L(["flex-1 truncate",u.value&&"text-sky-600"])},j(e.folder.name),3),o("div",Ie,[o("button",{onClick:m[0]||(m[0]=C(M=>c.$emit("add-subfolder",e.folder.uid),["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[h(a(N),{class:"text-muted-foreground w-4 h-4"})]),o("div",Me,[o("button",{onClick:m[1]||(m[1]=C(M=>r.value=!r.value,["stop"])),class:"h-7 w-7 flex items-center justify-center rounded-full hover:bg-secondary transition-colors"},[h(a(we),{class:"text-muted-foreground w-4 h-4"})]),r.value?E((s(),d("div",Oe,[o("button",{onClick:C(k,["stop"]),class:"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground text-destructive w-full text-left"},[h(a(Ce),{class:"mr-2 w-4 h-4"}),Ne])])),[[b,()=>r.value=!1]]):O("",!0)])])],2),f.value&&i.value.length>0?(s(),d("div",Ve,[(s(!0),d(U,null,q(i.value,M=>(s(),y(F,{key:M.uid,folder:M,level:e.level+1,onAddSubfolder:m[2]||(m[2]=P=>c.$emit("add-subfolder",P))},null,8,["folder","level"]))),128))])):O("",!0)])}}}),Se=I(Ee,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderItem.vue"]]),Ue={class:"h-full overflow-hidden flex flex-col"},qe={class:"px-4 py-3 flex items-center justify-between"},Pe=o("h2",{class:"font-semibold text-sm"},"Folders",-1),Re={class:"flex-1 overflow-auto"},ze={class:"px-2 py-1"},Le={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},Be={class:"text-lg font-medium mb-4"},Te={class:"mb-4"},He=o("label",{for:"folderName",class:"block text-sm font-medium mb-1"},"Folder Name",-1),Ze={class:"flex justify-end gap-2"},Ge=A({__name:"FolderNavigation",setup(e){const{withClientMutation:t}=T(),n=V(),l=w(!1),r=w(""),i=w(null),u=$(()=>n.getChildFolders(null));function f(b){i.value=b,l.value=!0}function p(){l.value=!1,r.value=""}function x(){if(r.value.trim()){if(t(de,{payload:{name:r.value,parentUid:i.value}},"createDocumentFolder").then(b=>n.addFolder(b)),i.value){const b=n.folders.find(c=>c.uid===i.value);b&&!b.expanded&&n.toggleFolderExpanded(i.value)}r.value="",l.value=!1}}function k(b){return n.folders.find(c=>c.uid===b)}return(b,c)=>(s(),d("div",Ue,[o("div",qe,[Pe,o("button",{onClick:c[0]||(c[0]=m=>f(null)),class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none hover:bg-accent hover:text-accent-foreground h-8 w-8"},[h(a(N),{class:"w-4 h-4"})])]),o("div",Re,[o("div",ze,[(s(!0),d(U,null,q(u.value,m=>(s(),y(Se,{key:m.uid,folder:m,onAddSubfolder:f},null,8,["folder"]))),128))])]),(s(),y(K,{to:"body"},[l.value?(s(),d("div",Le,[o("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",onClick:c[2]||(c[2]=C(()=>{},["stop"]))},[o("h3",Be,j(i.value?`Add subfolder to ${k(i.value)?.name}`:"Add new folder"),1),o("div",Te,[He,E(o("input",{id:"folderName","onUpdate:modelValue":c[1]||(c[1]=m=>r.value=m),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",placeholder:"Enter folder name"},null,512),[[z,r.value]])]),o("div",Ze,[o("button",{onClick:p,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),o("button",{onClick:x,class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[h(a(Fe),{class:"w-4 h-4 mr-2"}),S(" Add Folder ")])])])])):O("",!0)]))]))}}),Qe=I(Ge,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderNavigation.vue"]]),Je={class:"document-card animate-scale-in group"},Ke={class:"relative mb-4 rounded-lg overflow-hidden bg-gray-50 aspect-[3/4] flex items-center justify-center"},Xe={key:0,class:"w-full h-full"},Ye=["src","alt"],We=o("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1),et={class:"absolute inset-0 flex items-center justify-center gap-x-2 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},tt={class:"h-12 w-12 rounded-full bg-white/90 flex items-center justify-center"},ot={class:"flex flex-col"},nt=["title"],st={class:"text-xs text-muted-foreground mt-1"},it=A({__name:"DocumentCard",props:{document:{type:Object,required:!0}},setup(e){const t=e,n=ne();function l(){n.push({name:"document-editor",params:{documentVersionUid:t.document?.latestVersion?.uid}})}function r(i){return se(new Date(i),"MMM d, yyyy")}return(i,u)=>(s(),d("div",Je,[o("div",Ke,[i.document?.latestVersion?.thumbnail?(s(),d("div",Xe,[o("img",{src:`data:image/png;base64,${i.document?.latestVersion?.thumbnail}`,alt:i.document.name,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,Ye),We])):(s(),y(a(De),{key:1,class:"text-gray-400 w-12 h-12"})),o("div",et,[o("button",{onClick:C(l,["stop"])},[o("div",tt,[h(a($e),{class:"text-gray-900 w-5 h-5"})])])])]),o("div",ot,[o("h3",{class:"font-medium text-sm truncate",title:i.document.name},j(i.document.name),9,nt),o("p",st,j(r(i.document.updatedAt)),1)])]))}}),W=I(it,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/DocumentCard.vue"]]),lt={key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},rt=o("h3",{class:"text-lg font-medium mb-4"},"Create new document",-1),dt={class:"space-y-4"},ct=o("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document Name",-1),at=o("label",{for:"name",class:"block text-sm font-medium mb-1"},"Document ID",-1),ut=o("label",{for:"folder",class:"block text-sm font-medium mb-1"},"Folder X",-1),mt={class:"relative"},ft={key:0,class:"absolute top-full left-0 z-10 mt-1 w-full rounded-md border bg-white shadow-md"},ht={class:"max-h-[200px] overflow-auto p-1"},pt=["onClick"],vt={key:1,class:"mr-2 w-4"},bt={class:"flex justify-end gap-2 mt-6"},gt=["disabled"],yt=A({__name:"CreateDocumentDialog",props:{isOpen:{type:Boolean,required:!0},initialFolderId:{type:[String,null],required:!1}},emits:["update:isOpen"],setup(e,{emit:t}){const{withClientMutation:n}=T(),l=e,r=t,i=V(),u=w(""),f=w(""),p=w(""),x=w(!1),k=w("");ie(()=>l.initialFolderId,g=>{g&&(f.value=g)},{immediate:!0});const b=$(()=>{if(!k.value)return i.folders;const g=k.value.toLowerCase();return i.folders.filter(v=>v.name.toLowerCase().includes(g))}),c=$(()=>{const g=i.folders.find(v=>v.uid===f.value);return g?g.name:"Select folder"}),m=$(()=>u.value.trim()!==""&&f.value!=="");function F(g){f.value=g,x.value=!1}function M(){m.value&&(n(ce,{payload:{name:u.value,folderUid:f.value,documentId:p.value}},"createDocument").then(g=>{i.addDocument(g)}),Z(),P())}function P(){Z(),r("update:isOpen",!1)}function Z(){u.value="",x.value=!1,k.value=""}return(g,v)=>(s(),y(K,{to:"body"},[g.isOpen?(s(),d("div",lt,[o("div",{class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",onClick:v[4]||(v[4]=C(()=>{},["stop"]))},[rt,o("div",dt,[o("div",null,[ct,E(o("input",{id:"name","onUpdate:modelValue":v[0]||(v[0]=_=>u.value=_),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document name"},null,512),[[z,u.value]])]),o("div",null,[at,E(o("input",{id:"docu","onUpdate:modelValue":v[1]||(v[1]=_=>p.value=_),class:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter document id"},null,512),[[z,p.value]])]),o("div",null,[ut,o("div",mt,[o("button",{id:"folder",type:"button",onClick:v[2]||(v[2]=_=>x.value=!x.value),class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[S(j(c.value)+" ",1),h(a(Y),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),x.value?(s(),d("div",ft,[o("div",ht,[E(o("input",{"onUpdate:modelValue":v[3]||(v[3]=_=>k.value=_),class:"flex h-8 w-full rounded-sm border-0 bg-white px-3 py-1 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring mb-1",placeholder:"Search folders..."},null,512),[[z,k.value]]),(s(!0),d(U,null,q(b.value,_=>(s(),d("button",{key:_.uid,onClick:Qt=>F(_.uid),class:"flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent text-left"},[_.uid===f.value?(s(),y(a(xe),{key:0,class:"mr-2 h-4 w-4"})):(s(),d("span",vt)),S(" "+j(_.name),1)],8,pt))),128))])])):O("",!0)])])]),o("div",bt,[o("button",{onClick:P,class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-white hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancel "),o("button",{onClick:M,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",disabled:!m.value}," Create ",8,gt)])])])):O("",!0)]))}}),ee=I(yt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/CreateDocumentDialog.vue"]]),xt={class:"animate-fade-in"},_t={class:"flex items-center justify-between mb-6"},wt=o("h1",{class:"text-2xl font-medium"},"Recent Documents",-1),Dt={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},kt={key:1,class:"flex flex-col items-center justify-center py-12 text-center"},Ft={class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4"},$t=o("h3",{class:"text-lg font-medium mb-2"},"No recent documents",-1),Ct=o("p",{class:"text-muted-foreground max-w-md mb-6"}," Start creating documents to see them appear here. ",-1),jt=A({__name:"RecentDocuments",setup(e){const t=V(),n=w(!1);function l(){n.value=!0}return X(()=>t.fetchDocuments({first:25,sortBy:["-updated_at"]},!0)),(r,i)=>(s(),d("div",xt,[o("div",_t,[wt,o("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[h(a(N),{class:"w-4 h-4"}),S(" New Document ")])]),a(t).recentDocuments.length>0?(s(),d("div",Dt,[(s(!0),d(U,null,q(a(t).recentDocuments,u=>(s(),y(W,{key:u.id,document:u},null,8,["document"]))),128))])):(s(),d("div",kt,[o("div",Ft,[h(a(N),{class:"text-muted-foreground w-8 h-8"})]),$t,Ct,o("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),h(ee,{isOpen:n.value,"onUpdate:isOpen":i[0]||(i[0]=u=>n.value=u)},null,8,["isOpen"])]))}}),At=I(jt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/RecentDocuments.vue"]]),It={class:"animate-fade-in"},Mt={key:0,class:"flex items-center justify-between mb-6"},Ot={class:"flex items-center"},Nt={class:"text-2xl font-medium"},Vt={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},Et={key:2,class:"flex flex-col items-center justify-center py-12 text-center"},St=o("h3",{class:"text-lg font-medium mb-2"},"No documents in this folder",-1),Ut=o("p",{class:"text-muted-foreground max-w-md mb-6"}," Create a new document in this folder. ",-1),qt=A({__name:"FolderDocuments",setup(e){const t=V(),n=w(!1),l=$(()=>t.currentFolder?t.getDocumentsInFolder(t.currentFolder):[]),r=$(()=>t.folders.find(u=>u.uid===t.currentFolder));function i(){n.value=!0}return(u,f)=>(s(),d("div",It,[r.value?(s(),d("div",Mt,[o("div",Ot,[h(a(H),{class:"mr-2 text-muted-foreground w-5 h-5"}),o("h1",Nt,j(r.value.name),1)]),o("button",{onClick:i,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[h(a(N),{class:"w-4 h-4"}),S(" New Document ")])])):O("",!0),l.value.length>0?(s(),d("div",Vt,[(s(!0),d(U,null,q(l.value,p=>(s(),y(W,{key:p.id,document:p},null,8,["document"]))),128))])):(s(),d("div",Et,[o("div",{class:"h-20 w-20 rounded-full bg-muted flex items-center justify-center mb-4",onClick:i},[h(a(N),{class:"text-muted-foreground w-8 h-8"})]),St,Ut,o("button",{onClick:i,class:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Create Document ")])),h(ee,{isOpen:n.value,"onUpdate:isOpen":f[0]||(f[0]=p=>n.value=p),initialFolderId:a(t).currentFolder},null,8,["isOpen","initialFolderId"])]))}}),Pt=I(qt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/document/FolderDocuments.vue"]]),Rt={class:"flex h-screen overflow-hidden bg-background"},zt={class:"fixed inset-y-0 left-0 z-20 w-64 transform bg-doc-folder border-r border-border transition-transform duration-300 ease-in-out -translate-x-full lg:relative lg:translate-x-0"},Lt={class:"flex-1 overflow-hidden"},Bt={class:"lg:hidden p-4 flex items-center"},Tt={class:"mr-4 border border-border rounded-md p-2"},Ht=o("h1",{class:"text-xl font-medium"},"Document Manager",-1),Zt={class:"h-full overflow-auto p-6"},Gt=A({__name:"DocumentEntry",setup(e){const t=V();return X(()=>{t.getFolders()}),(n,l)=>(s(),d("div",Rt,[o("div",zt,[h(Qe)]),o("div",Lt,[o("div",Bt,[o("button",Tt,[h(a(H),{class:"h-5 w-5"})]),Ht]),o("div",Zt,[a(t).currentFolder?(s(),y(Pt,{key:1})):(s(),y(At,{key:0}))])])]))}}),Wt=I(Gt,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/document/DocumentEntry.vue"]]);export{Wt as default};
