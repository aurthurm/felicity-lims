import{W,f as Y,a2 as i,h as U,i as z,a9 as $,r as y,o as _,c as J,O as t,a as p,M as g,N as K,a7 as l,z as Q,J as Z,C as X,D as r,Z as d,ai as ee,L as oe,F as te,a0 as V,a1 as D,ah as O,_ as se}from"./index-5d85e9da.js";import{j as le,a4 as ne,a5 as ie,c as ae,a6 as re,a7 as de,a8 as fe,a9 as ue}from"./microbiology.mutations-bbc8c44b.js";const be={class:"space-y-6"},ce={class:"rounded-lg shadow-sm bg-card p-6"},me={class:"text-xl font-semibold text-foreground"},pe={class:"space-y-4"},ge={class:"grid grid-cols-2 gap-4"},ve={class:"block"},xe={class:"block"},ye={class:"space-y-4"},he={class:"grid grid-cols-3 gap-4"},ke={class:"block"},Be={class:"block"},Ae={class:"block"},Ce={class:"block"},we={class:"block"},Te={class:"block"},Ee={class:"block"},Ue={class:"block"},_e={class:"block"},Ve={class:"block"},De={class:"block"},Oe=W({__name:"AbxBreakpoint",setup(Se){const S=V(()=>D(()=>import("./FelDataTable-f331e430.js"),["assets/FelDataTable-f331e430.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),h=V(()=>D(()=>import("./vue-multiselect.esm-8e9ddbb7.js"),["assets/vue-multiselect.esm-8e9ddbb7.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),{withClientMutation:k,withClientQuery:b}=Y();let c=i(!1),B=i(""),o=U({});const v=i(!0),A=i(!1),f=i([]),C=i([]),M=i([]),I=i([]),P=i([]),w=i([]);let a=U({first:50,after:"",text:"",sortBy:["-guideline_year___year"],filterAction:!1});const T=i(0);let E=i({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const G=z(()=>f?.value?.length+" of "+T.value+" antibiotics"),N=i([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Guideline",value:"guidelineYear.code",sortable:!1,sortBy:"asc",hidden:!1},{name:"Test Method",value:"testMethod.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Potency",value:"potency",sortable:!1,sortBy:"asc",hidden:!1},{name:"OrganismCode",value:"organismCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"OrganismCodeType",value:"organismCodeType",sortable:!1,sortBy:"asc",hidden:!1},{name:"BreakpointType",value:"breakpointType.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Host",value:"host.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"SiteOfInfection",value:"siteOfInfection.name",sortable:!1,sortBy:"asc",hidden:!0},{name:"ReferenceTable",value:"referenceTable",sortable:!1,sortBy:"asc",hidden:!0},{name:"ReferenceSequence",value:"referenceSequence",sortable:!1,sortBy:"asc",hidden:!0},{name:"WhonetAbxCode",value:"whonetAbxCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"R",value:"r",sortable:!1,sortBy:"asc",hidden:!1},{name:"I",value:"i",sortable:!1,sortBy:"asc",hidden:!1},{name:"SDD",value:"sdd",sortable:!1,sortBy:"asc",hidden:!1},{name:"S",value:"s",sortable:!1,sortBy:"asc",hidden:!1},{name:"EcvEcoff",value:"ecvEcoff",sortable:!1,sortBy:"asc",hidden:!0},{name:"ecvEcoffTentative",value:"EcvEcoffTentative",sortable:!1,sortBy:"asc",hidden:!0}]);function x(s){b(de,{text:s.text,pageSize:s.first,sortBy:s.sortBy},void 0).then(e=>{const u=e.abxBreakpointAll,m=u.items;s.filterAction?(f.value=[],f.value=m):f.value=O(f.value,m,"uid"),T.value=u?.totalCount,E.value=u?.pageInfo}).finally(()=>{A.value=!1})}$(()=>{b(le,{},"abxGuidelinesAll").then(s=>{s&&(C.value=s)}),x(a),b(ne,{},"abxHostAll").then(s=>{s&&(M.value=s)}),b(ie,{},"abxSiteOfInfectionAll").then(s=>{s&&(P.value=s)}),b(ae,{},"abxTestMethodAll").then(s=>{s&&(w.value=s)}),b(re,{},"abxBreakpointTypeAll").then(s=>{s&&(I.value=s)})});function R(s){a.first=100,a.after="",a.text=s.filterText,a.filterAction=!0,x(a)}function q(s){a.first=s.fetchCount,a.after=E?.value?.endCursor,a.text=s.filterText,a.filterAction=!1,x(a)}const F=()=>Object.assign(o,{});function j(s,e={}){v.value=s,c.value=!0,B.value=(s?"Create":"Edit")+" Breakpoint",s?Object.assign(o,{}):Object.assign(o,{...e})}function H(){const s={guidelineUid:o.guidelineUid,year:o.year,testMethod:o.testMethod,potency:o.potency,organismCode:o.organismCode,organismCodeType:o.organismCodeType,breakpointTypeUid:o.breakpointTypeUid,hostUid:o.hostUid,siteOfInfectionUid:o.siteOfInfectionUid,referenceTable:o.referenceTable,referenceSequence:o.referenceSequence,whonetAbxCode:o.whonetAbxCode,comments:o.comments,r:o.r,i:o.i,sdd:o.sdd,s:o.s,ecvEcoff:o.ecvEcoff,ecvEcoffTentative:o.ecvEcoffTentative};v.value===!0&&k(fe,{payload:s},"createAbxBreakpoint").then(e=>{e&&(f.value=O(f.value,[e],"uid"))}),v.value===!1&&k(ue,{uid:o.uid,payload:s},"updateAbxBreakpoint").then(e=>{if(e){const u=f.value.findIndex(m=>m.uid==e.uid);f.value[u]=e}}),c.value=!1}return(s,e)=>{const u=y("fel-button"),m=y("fel-heading"),L=y("fel-modal");return _(),J(te,null,[t("div",be,[p(m,{title:"Antibiotic Breakpoints"},{default:g(()=>[p(u,{onClick:e[0]||(e[0]=n=>j(!0))},{default:g(()=>e[15]||(e[15]=[K("Add Breakpoint")])),_:1})]),_:1}),t("div",ce,[p(l(S),{columns:N.value,data:f.value,toggleColumns:!0,loading:A.value,paginable:!0,pageMeta:{fetchCount:l(a).first,hasNextPage:!0,countNone:G.value},searchable:!0,filterable:!1,onOnSearchKeyUp:R,onOnSearchFocus:F,onOnPaginate:q,selectable:!1},{footer:g(()=>e[16]||(e[16]=[])),_:1},8,["columns","data","loading","pageMeta"])])]),l(c)?(_(),Q(L,{key:0,onClose:e[14]||(e[14]=n=>ee(c)?c.value=!1:c=!1),"content-width":"w-1/2"},{header:g(()=>[t("h3",me,Z(l(B)),1)]),body:g(()=>[t("form",{onSubmit:X(H,["prevent"]),class:"space-y-6 p-4"},[t("div",pe,[e[19]||(e[19]=t("h4",{class:"text-lg font-semibold text-foreground"},"Basic Information",-1)),t("div",ge,[t("label",ve,[e[17]||(e[17]=t("span",{class:"text-sm font-medium text-foreground"},"Guidelines",-1)),p(l(h),{modelValue:l(o).guidelines,"onUpdate:modelValue":e[1]||(e[1]=n=>l(o).guidelines=n),options:C.value,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),t("label",xe,[e[18]||(e[18]=t("span",{class:"text-sm font-medium text-foreground"},"Year",-1)),r(t("input",{type:"number",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[2]||(e[2]=n=>l(o).year=n),placeholder:"Year"},null,512),[[d,l(o).year]])])])]),t("div",ye,[e[31]||(e[31]=t("h4",{class:"text-lg font-semibold text-foreground"},"Coding Systems",-1)),t("div",he,[t("label",ke,[e[20]||(e[20]=t("span",{class:"text-sm font-medium text-foreground"},"Test Method",-1)),p(l(h),{modelValue:l(o).testMethod,"onUpdate:modelValue":e[3]||(e[3]=n=>l(o).testMethod=n),options:w.value,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])]),t("label",Be,[e[21]||(e[21]=t("span",{class:"text-sm font-medium text-foreground"},"Potency",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[4]||(e[4]=n=>l(o).potency=n),placeholder:"Potency"},null,512),[[d,l(o).potency]])]),t("label",Ae,[e[22]||(e[22]=t("span",{class:"text-sm font-medium text-foreground"},"Organism Code",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[5]||(e[5]=n=>l(o).organismCode=n),placeholder:"Organism Code"},null,512),[[d,l(o).organismCode]])]),t("label",Ce,[e[23]||(e[23]=t("span",{class:"text-sm font-medium text-foreground"},"Organism Code Type",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[6]||(e[6]=n=>l(o).organismCodeType=n),placeholder:"Organism Code Type"},null,512),[[d,l(o).organismCodeType]])]),t("label",we,[e[24]||(e[24]=t("span",{class:"text-sm font-medium text-foreground"},"Whonet AbxCode",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[7]||(e[7]=n=>l(o).whonetAbxCode=n),placeholder:"Whonet AbxCode"},null,512),[[d,l(o).whonetAbxCode]])]),t("label",Te,[e[25]||(e[25]=t("span",{class:"text-sm font-medium text-foreground"},"R",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[8]||(e[8]=n=>l(o).r=n),placeholder:"R"},null,512),[[d,l(o).r]])]),t("label",Ee,[e[26]||(e[26]=t("span",{class:"text-sm font-medium text-foreground"},"I",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[9]||(e[9]=n=>l(o).i=n),placeholder:"I"},null,512),[[d,l(o).i]])]),t("label",Ue,[e[27]||(e[27]=t("span",{class:"text-sm font-medium text-foreground"},"SDD",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[10]||(e[10]=n=>l(o).sdd=n),placeholder:"SDD"},null,512),[[d,l(o).sdd]])]),t("label",_e,[e[28]||(e[28]=t("span",{class:"text-sm font-medium text-foreground"},"S",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[11]||(e[11]=n=>l(o).s=n),placeholder:"S"},null,512),[[d,l(o).s]])]),t("label",Ve,[e[29]||(e[29]=t("span",{class:"text-sm font-medium text-foreground"},"EcvEcoff",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[12]||(e[12]=n=>l(o).ecvEcoff=n),placeholder:"EcvEcoff"},null,512),[[d,l(o).ecvEcoff]])]),t("label",De,[e[30]||(e[30]=t("span",{class:"text-sm font-medium text-foreground"},"EcvEcoff Tentative",-1)),r(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[13]||(e[13]=n=>l(o).ecvEcoffTentative=n),placeholder:"EcvEcoff Tentative"},null,512),[[d,l(o).ecvEcoffTentative]])])])]),e[32]||(e[32]=t("hr",{class:"border-border"},null,-1)),e[33]||(e[33]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Breakpoint ",-1))],32)]),_:1})):oe("",!0)],64)}}});const Pe=se(Oe,[["__scopeId","data-v-98440155"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxBreakpoint.vue"]]);export{Pe as default};
