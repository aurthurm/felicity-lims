import{Y as S,u as L,a0 as g,ah as P,a3 as V,_ as q,r as m,c as C,o as y,z as u,A as w,C as M,a as t,K as o,M as l,F as I,H as R,I as E,B as U,a4 as D}from"./index-OdhKCqIc.js";import{c as z,a as G,u as K,F as O}from"./index.esm-BfHj8iGm.js";import{a6 as Q,ae as Y,af as J}from"./microbiology.mutations-cVAbKt4K.js";import{E as W,a as X,b as Z,c as j,d as $}from"./EmptyTitle-aCQRDpx3.js";import{I as ee}from"./Input-BEm5S0CJ.js";import{F as te,a as oe,b as ae}from"./FormMessage-CgXFMXx9.js";import{F as re}from"./FormLabel-DxP9wnWS.js";import{P as ne}from"./PageHeading-Czi_4opS.js";import"./Label-CS46LzLb.js";const le=S({__name:"AbxBreakpointType",setup(H,{expose:a}){a();const{withClientMutation:_,withClientQuery:e}=L();let b=g(!1),x=g("");const i=g(!0),s=g(null),T=z({name:G().trim().required("Name is required")}),{handleSubmit:p,resetForm:v,setValues:F}=K({validationSchema:T,initialValues:{name:"",description:""}}),d=g([]);P(()=>{e(Q,{},"abxBreakpointTypeAll").then(r=>{r&&(d.value=r)})});function k(r,f={}){i.value=r,b.value=!0,x.value=(r?"Create":"Edit")+" Abx BreakpointType",r?(s.value=null,v()):(s.value=f.uid??null,F({name:f.name??"",description:f.description??""}))}const n=p(r=>{const f={name:r.name,description:r.description};i.value===!0&&_(Y,{payload:f},"createAbxBreakpointType").then(c=>{c&&d.value.unshift(c)}),i.value===!1&&s.value&&_(J,{uid:s.value,payload:f},"updateAbxBreakpointType").then(c=>{if(c){const A=d.value.findIndex(B=>B.uid==c.uid);A>-1&&(d.value=[...d.value.map((B,N)=>N===A?c:B)])}}),b.value=!1}),h={withClientMutation:_,withClientQuery:e,get showModal(){return b},set showModal(r){b=r},get formTitle(){return x},set formTitle(r){x=r},formAction:i,currentUid:s,breakpointTypeSchema:T,handleSubmit:p,resetForm:v,setValues:F,abxBreakpointTypes:d,FormManager:k,saveForm:n,get Empty(){return $},get EmptyContent(){return j},get EmptyDescription(){return Z},get EmptyHeader(){return X},get EmptyTitle(){return W},get Button(){return V},get Input(){return ee},get FormControl(){return ae},get FormField(){return O},get FormItem(){return oe},get FormLabel(){return re},get FormMessage(){return te},PageHeading:ne};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),ie={class:"space-y-6"},se={class:"border border-border bg-card rounded-lg shadow-md"},de={class:"relative w-full overflow-auto"},me={class:"text-xl font-semibold text-foreground"},ue={class:"grid grid-cols-2 gap-4"};function pe(H,a,_,e,b,x){const i=m("TableHead"),s=m("TableRow"),T=m("TableHeader"),p=m("TableCell"),v=m("TableEmpty"),F=m("TableBody"),d=m("Table"),k=m("Modal");return y(),C(I,null,[u("div",ie,[t(e.PageHeading,{title:"Antibiotic Breakpoint Type"}),u("div",se,[u("div",de,[t(d,{class:"w-full caption-bottom text-sm"},{default:o(()=>[t(T,{class:"[&_tr]:border-b"},{default:o(()=>[t(s,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[2]||(a[2]=[l("Name",-1)])]),_:1}),t(i,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[3]||(a[3]=[l("Description",-1)])]),_:1}),t(i,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:o(()=>[...a[4]||(a[4]=[l("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(F,{class:"[&_tr:last-child]:border-0"},{default:o(()=>[(y(!0),C(I,null,R(e.abxBreakpointTypes,n=>(y(),w(s,{key:n?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:o(()=>[t(p,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[l(E(n?.name),1)]),_:2},1024),t(p,{class:"px-4 py-3 align-middle whitespace-nowrap text-sm text-foreground"},{default:o(()=>[l(E(n?.description),1)]),_:2},1024),t(p,{class:"px-4 py-3 align-middle text-right text-sm"})]),_:2},1024))),128)),!e.abxBreakpointTypes||e.abxBreakpointTypes.length===0?(y(),w(v,{key:0,colspan:3},{default:o(()=>[t(e.Empty,{class:"border-0 bg-transparent p-0"},{default:o(()=>[t(e.EmptyContent,null,{default:o(()=>[t(e.EmptyHeader,null,{default:o(()=>[t(e.EmptyTitle,null,{default:o(()=>[...a[5]||(a[5]=[l("No breakpoint types found",-1)])]),_:1}),t(e.EmptyDescription,null,{default:o(()=>[...a[6]||(a[6]=[l("Add a breakpoint type to get started.",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1})]),_:1})])])]),e.showModal?(y(),w(k,{key:0,onClose:a[1]||(a[1]=n=>e.showModal=!1)},{header:o(()=>[u("h3",me,E(e.formTitle),1)]),body:o(()=>[u("form",{onSubmit:a[0]||(a[0]=U((...n)=>e.saveForm&&e.saveForm(...n),["prevent"])),class:"space-y-6 p-4"},[u("div",ue,[t(e.FormField,{name:"name"},{default:o(({componentField:n})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[7]||(a[7]=[l("Name",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,D(n,{placeholder:"Name ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1}),t(e.FormField,{name:"description"},{default:o(({componentField:n})=>[t(e.FormItem,null,{default:o(()=>[t(e.FormLabel,null,{default:o(()=>[...a[8]||(a[8]=[l("Description",-1)])]),_:1}),t(e.FormControl,null,{default:o(()=>[t(e.Input,D(n,{placeholder:"Begin typing ..."}),null,16)]),_:2},1024),t(e.FormMessage)]),_:2},1024)]),_:1})]),a[10]||(a[10]=u("hr",{class:"border-border"},null,-1)),t(e.Button,{type:"submit",class:"w-full"},{default:o(()=>[...a[9]||(a[9]=[l(" Save Abx BreakpointType ",-1)])]),_:1})],32)]),_:1})):M("",!0)],64)}const Fe=q(le,[["render",pe],["__scopeId","data-v-8a067a63"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/microbiology/breakpoints/AbxBreakpointType.vue"]]);export{Fe as default};
