import{V as T,a1 as f,h as V,i as y,a8 as j,r as p,o as l,c as _,O as e,a as h,M as r,N as B,F as M,H as O,J as c,L as A,a6 as a,z as L,ae as $,$ as I,a0 as P,_ as R}from"./index-74595aff.js";import{u as H}from"./analysis-7c37619c.js";import{u as U}from"./setup-fa628218.js";import"./_queries-3a88eae7.js";const z={class:"space-y-6"},J={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},Y={class:"relative w-full overflow-auto"},q={class:"w-full caption-bottom text-sm"},G={class:"[&_tr:last-child]:border-0"},K={class:"px-4 py-2 align-middle"},Q={class:"px-4 py-2 align-middle text-primary"},W={class:"px-4 py-2 align-middle text-primary"},X={class:"px-4 py-2 align-middle text-right"},Z=["onClick"],ee={class:"text-lg font-semibold text-foreground"},te=T({__name:"Methods",setup(oe){const k=I(()=>P(()=>import("./MethodForm-af4a82dd.js"),["assets/MethodForm-af4a82dd.js","assets/index-74595aff.js","assets/index-8412b2a5.css","assets/instrument.mutations-57806917.js","assets/analysis-7c37619c.js","assets/setup-fa628218.js","assets/_queries-3a88eae7.js","assets/vue-multiselect-a538cd7c.css"])),g=H(),m=U();let s=f(!1),b=f("");const C=f(!0);let d=V({});const E={first:1e3,after:"",text:"",sortBy:["name"]};g.fetchAnalysesServices(E);const S=y(()=>g.getAnalysesServicesSimple);j(()=>m.fetchMethods());const w=y(()=>m.getMethods);function v(n,t={}){C.value=n,s.value=!0,b.value=(n?"CREATE":"EDIT")+" ANALYSES METHOD",n?Object.assign(d,{}):Object.assign(d,{...t})}function N(n){let t=[];return S.value?.forEach(i=>{i?.methods?.some(u=>u.uid==n?.uid)&&t.push(i?.name)}),t.join(", ")}const D=()=>{s.value=!1,m.fetchMethods()};return(n,t)=>{const i=p("fel-button"),u=p("fel-heading"),F=p("fel-modal");return l(),_(M,null,[e("div",z,[h(u,{title:"Methods"},{default:r(()=>[h(i,{onClick:t[0]||(t[0]=o=>v(!0))},{default:r(()=>t[2]||(t[2]=[B(" Add Method")])),_:1})]),_:1}),e("div",J,[e("div",Y,[e("table",q,[t[3]||(t[3]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Name"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instruments"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Analyses"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",G,[(l(!0),_(M,null,O(w.value,o=>(l(),_("tr",{key:o?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",K,c(o?.name),1),e("td",Q,c(o?.instruments?.map(x=>x?.name)?.join(", ")),1),e("td",W,c(N(o)),1),e("td",X,[e("button",{onClick:x=>v(!1,o),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,Z)])]))),128))])])])])]),A(" Method Edit Form Modal "),a(s)?(l(),L(F,{key:0,onClose:t[1]||(t[1]=o=>$(s)?s.value=!1:s=!1)},{header:r(()=>[e("h3",ee,c(a(b)),1)]),body:r(()=>[h(a(k),{method:a(d),methodUid:a(d)?.uid,onClose:D},null,8,["method","methodUid"])]),_:1})):A("v-if",!0)],64)}}}),ie=R(te,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/Methods.vue"]]);export{ie as default};
