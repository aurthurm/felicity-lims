import{W as D,f as V,a2 as d,h as F,a9 as N,r as b,o as m,c as x,O as t,a as v,M as f,N as M,F as G,H as E,J as _,a7 as a,z as O,C as B,D as T,Z as U,ai as I,L,a0 as S,a1 as $,_ as j}from"./index-5d85e9da.js";import{s as P,p as R,N as z,O as H}from"./microbiology.mutations-bbc8c44b.js";const J={class:"space-y-6"},Q={class:"rounded-md border border-border shadow-sm bg-card p-6"},W={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-border"},q={class:"divide-y divide-border bg-background"},K={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},X={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Y={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ee=["onClick"],te={class:"text-xl font-semibold text-foreground"},se={class:"grid grid-cols-2 gap-4"},oe={class:"block"},ne={class:"block"},ae=D({__name:"AbxGenus",setup(le){const k=S(()=>$(()=>import("./vue-multiselect.esm-8e9ddbb7.js"),["assets/vue-multiselect.esm-8e9ddbb7.js","assets/index-5d85e9da.js","assets/index-8a6751fe.css"])),{withClientMutation:y,withClientQuery:g}=V();let l=d(!1),h=d(""),n=F({});const p=d(!0),i=d([]),w=d([]);N(()=>{g(P,{},"abxGenusAll").then(s=>{s&&(i.value=s)}),g(R,{},"abxFamilyAll").then(s=>{s&&(w.value=s)})});function A(s,e={}){p.value=s,l.value=!0,h.value=(s?"Create":"Edit")+" Genus",s?Object.assign(n,{}):Object.assign(n,{...e})}function C(){const s={name:n.name,familyUid:n.family?.uid};p.value===!0&&y(z,{payload:s},"createAbxGenus").then(e=>{e&&i.value.unshift(e)}),p.value===!1&&y(H,{uid:n.uid,payload:s},"updateAbxGenus").then(e=>{if(e){const u=i.value.findIndex(r=>r.uid==e.uid);u>-1&&(i.value=[...i.value.map((r,c)=>c===u?e:r)])}}),l.value=!1}return(s,e)=>{const u=b("fel-button"),r=b("fel-heading"),c=b("fel-modal");return m(),x(G,null,[t("div",J,[v(r,{title:"Genera"},{default:f(()=>[v(u,{onClick:e[0]||(e[0]=o=>A(!0))},{default:f(()=>e[4]||(e[4]=[M("Add Genus")])),_:1})]),_:1}),t("div",Q,[t("div",W,[t("table",Z,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Family"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",q,[(m(!0),x(G,null,E(i.value,o=>(m(),x("tr",{key:o?.uid,class:"hover:bg-muted/50"},[t("td",K,_(o?.name),1),t("td",X,_(o?.family?.name),1),t("td",Y,[t("button",{onClick:ie=>A(!1,o),class:"text-primary hover:text-primary/80"}," Edit ",8,ee)])]))),128))])])])])]),a(l)?(m(),O(c,{key:0,onClose:e[3]||(e[3]=o=>I(l)?l.value=!1:l=!1),"content-width":"w-1/2"},{header:f(()=>[t("h3",te,_(a(h)),1)]),body:f(()=>[t("form",{onSubmit:B(C,["prevent"]),class:"space-y-6 p-4"},[t("div",se,[t("label",oe,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Genus Name",-1)),T(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[1]||(e[1]=o=>a(n).name=o),placeholder:"Name ..."},null,512),[[U,a(n).name]])]),t("label",ne,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Family",-1)),v(a(k),{modelValue:a(n).family,"onUpdate:modelValue":e[2]||(e[2]=o=>a(n).family=o),options:w.value,multiple:!1,searchable:!0,label:"name",class:"mt-1 multiselect-blue"},null,8,["modelValue","options"])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Genus ",-1))],32)]),_:1})):L("",!0)],64)}}});const ue=j(ae,[["__scopeId","data-v-d18a9f06"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxGenus.vue"]]);export{ue as default};
