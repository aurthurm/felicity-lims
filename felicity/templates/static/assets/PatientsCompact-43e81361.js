import{d as $,s as H,r as x,n as Q,p as k,q as z,m as q,x as K,o,c as u,g as y,y as a,b as e,z as g,A as h,B as J,e as A,f as I,F as W,C as X,j as n,D as Y,E as Z,G as ee,t as l,_ as i,k as te}from"./index-06e172a4.js";import{u as se}from"./patient-17d0183e.js";import{u as oe}from"./location-11442f09.js";import{h as T,o as L,a as w}from"./constants-8a084a80.js";const C=v=>(Y("data-v-81af20fc"),v=v(),Z(),v),ae={class:"p-4"},ne={class:"flex justify-between mb-4"},ie={class:"flex items-center gap-4"},re=C(()=>e("hr",{class:"my-4"},null,-1)),le={class:"grid grid-cols-12 gap-4"},ce={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 h-screen overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},de=["onClick"],_e={class:"flex-grow p-3"},ue={class:"flex justify-between font-semibold"},pe={class:"text-sm text-gray-500"},me={class:"text-sm text-gray-500 flex justify-between mt-1"},ve={class:"text-sm text-gray-500 flex justify-between mt-1"},fe={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9"},ye=C(()=>e("h3",null,"Patient Form",-1)),ge=$({__name:"PatientsCompact",setup(v){const f={MALE:0,FEMALE:1,MISSING:2,TRANS:3},S={[f.MALE]:"Male",[f.FEMALE]:"Female",[f.MISSING]:"Missing",[f.TRANS]:"Trans Gender"},c={LoadingMessage:n(()=>i(()=>import("./FelLoadingMessage-f3bf91ab.js"),["assets/FelLoadingMessage-f3bf91ab.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),PageHeading:n(()=>i(()=>import("./FelPageHeading-8b58e015.js"),["assets/FelPageHeading-8b58e015.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),Modal:n(()=>i(()=>import("./FelModal-7579de8d.js"),["assets/FelModal-7579de8d.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/FelModal-780aeea9.css"])),PatientForm:n(()=>i(()=>import("./PatientForm-53297d3b.js"),["assets/PatientForm-53297d3b.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/vue-multiselect.esm-7066afb0.js","assets/patient.mutations-02ce4553.js","assets/client-cc579a4e.js","assets/location-11442f09.js","assets/patient-17d0183e.js","assets/array-e4b47dec.js","assets/vue-multiselect-a538cd7c.css"])),PatientInfo:n(()=>i(()=>import("./PatientInfo-0f66c587.js"),["assets/PatientInfo-0f66c587.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/constants-8a084a80.js","assets/patient-17d0183e.js"])),Tabs:n(()=>i(()=>import("./FelTabs-ed9e609e.js"),["assets/FelTabs-ed9e609e.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/FelTabs-e0c91a0a.css"]))},p=se(),R=oe(),{patients:D,fetchingPatients:M}=H(p),m=x(!1),r=x({}),d=Q({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),N=k(()=>Object.keys(r.value).length>0),V=k(()=>[{id:"samples",label:"Samples",component:n(()=>i(()=>import("./FelAnalyisRequestListing-1a965bcc.js"),["assets/FelAnalyisRequestListing-1a965bcc.js","assets/index-06e172a4.js","assets/index-3e01f4af.css"])),props:{target:"patient-samples",targetUid:r.value.uid}},{id:"billing",label:"Billing",component:n(()=>i(()=>import("./PatientBill-2ceef509.js"),["assets/PatientBill-2ceef509.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/billing-56ed4ed6.js","assets/array-e4b47dec.js","assets/PatientBill-7bdbff76.css"])),props:{patientUid:r.value.uid}},{id:"logs",label:"Logs",component:n(()=>i(()=>import("./FelAuditLog-19158758.js"),["assets/FelAuditLog-19158758.js","assets/index-06e172a4.js","assets/index-3e01f4af.css","assets/user-d1932fe2.js","assets/_queries-bf8d5dc4.js"])),props:{targetType:"patient",targetUid:r.value.uid}}]),F=t=>`${t.firstName} ${t.lastName}`,O=t=>S[t]||"Unknown",b=t=>{r.value=t,p.setPatient(t)},P=()=>{r.value={},p.resetPatient()},B=t=>{const _=t.target;d.first=100,d.before="",d.text=_.value,d.filterAction=!0,p.fetchPatients(d)},j=async()=>{P(),m.value=!0},G=t=>{b(t),m.value=!1};return z(()=>{R.fetchCountries(),p.fetchPatients(d)}),(t,_)=>{const U=q("router-link"),E=K("motion");return o(),u("div",ae,[y(c.PageHeading,{title:"Patients Quick View"}),a(" Header Actions "),e("div",ne,[e("div",ie,[T(w.CREATE,L.PATIENT)?(o(),g(U,{key:0,to:"/patients/search",class:"px-4 py-2 text-sm border border-sky-800 text-dark-800 rounded-sm hover:bg-sky-800 hover:text-gray-100 transition-colors duration-150"},{default:h(()=>[J(" Add Patient ")]),_:1})):a("v-if",!0),e("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-gray-800 placeholder-gray-400 border border-gray-400 rounded-sm focus:border-sky-800 focus:outline-none focus:ring-1 focus:ring-sky-800",onKeyup:B,onFocus:P},null,32)]),T(w.CREATE,L.PATIENT)?(o(),u("button",{key:0,class:"px-4 py-2 text-sm border border-sky-800 text-dark-700 rounded-sm hover:bg-sky-800 hover:text-gray-100 transition-colors duration-150",onClick:j}," Quick Registration ")):a("v-if",!0)]),re,a(" Main Content "),e("div",le,[a(" Patient List "),A((o(),u("section",ce,[I(M)?(o(),g(c.LoadingMessage,{key:0,message:"Fetching patients..."})):(o(!0),u(W,{key:1},X(I(D),s=>(o(),u("div",{key:s.patientId,onClick:he=>b(s),class:ee(["bg-white w-full flex items-center mb-1 rounded-sm shadow border cursor-pointer transition-colors duration-150 hover:border-sky-800 hover:bg-sky-50",{"border-sky-800 bg-emerald-200":s.uid===r.value?.uid}])},[e("div",_e,[e("div",ue,[e("span",null,l(F(s)),1),e("span",pe,l(s.age)+" yrs, "+l(O(s.gender)),1)]),e("div",me,[e("span",null,l(s.patientId),1),e("span",null,l(s.clientPatientId),1)]),e("div",ve,[e("span",null,l(s?.client?.district?.province?.name),1),e("span",null,l(s?.client?.name),1)])])],10,de))),128))])),[[E]]),a(" Patient Details "),N.value?A((o(),u("section",fe,[y(c.PatientInfo,{onEditPatient:_[0]||(_[0]=s=>m.value=!0)}),y(c.Tabs,{tabs:V.value,"initial-tab":"samples"},null,8,["tabs"])])),[[E]]):a("v-if",!0)]),a(" Edit Modal "),m.value?(o(),g(c.Modal,{key:0,onClose:_[1]||(_[1]=s=>m.value=!1),"content-width":"w-3/6"},{header:h(()=>[ye]),body:h(()=>[y(c.PatientForm,{patient:r.value,navigate:!1,onClose:G},null,8,["patient"])]),_:1})):a("v-if",!0)])}}});const ke=te(ge,[["__scopeId","data-v-81af20fc"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/patient/PatientsCompact.vue"]]);export{ke as default};
