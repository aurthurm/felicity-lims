import{S as F,V as j,a0 as h,W as H,a4 as K,i as N,f as U,a9 as W,a7 as C,a8 as t,r as _,o as i,c as d,N as o,a as n,L as m,a5 as c,C as p,D as g,F as k,E as S,y as q,H as v,aa as E,K as M,M as z,Z as G,$ as Q,_ as Y}from"./index-54016222.js";import{u as Z}from"./notification-b9edf3fd.js";const J={id:"main-nav",class:"flex items-center px-6 bg-primary border-b border-border",role:"navigation","aria-label":"Main Navigation"},X={class:"flex-1"},ee={class:"flex text-right align-middle"},oe=["aria-expanded"],re={class:"grid grid-cols-3 gap-4",role:"menu","aria-label":"Main Menu"},te={class:"mr-4","aria-hidden":"true"},ne={class:"text-lg font-medium"},se={class:"flex items-center space-x-4"},ae={class:"bg-destructive text-destructive-foreground text-xs rounded-full px-2 py-1"},ie={key:1,class:"border-l border-border h-6","aria-hidden":"true"},le={class:"px-4 flex text-right items-center relative"},ue={class:"flex justify-center items-center h-8 w-8 rounded-full border-2 border-border hover:border-primary text-primary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary cursor-pointer","aria-hidden":"true",tabindex:"0"},de={class:"relative"},ce=["aria-expanded"],fe={class:"text-lg font-medium uppercase"},me={class:"flex items-center justify-between"},pe={key:0,class:"text-muted-foreground italic"},ge={key:1,"aria-label":"Error messages",class:"divide-y divide-border"},ve={class:"block whitespace-pre-wrap"},be=F({__name:"NavigationMain",setup(xe){const A=G(()=>Q(()=>import("./Logo-59ffdd46.js"),["assets/Logo-59ffdd46.js","assets/index-54016222.js","assets/index-a1ed10d8.css"])),I=j(),s=h(!1),l=h(!1);H(()=>I.currentRoute.value,(u,e)=>{u.path!==e?.path&&(s.value=!1,l.value=!1)});const b=K(),T=N(()=>{const u=b.auth?.user?.firstName||"",e=b.auth?.user?.lastName||"";return`${u} ${e}`.trim()}),{errors:f,clearErrors:$}=U(),x=h(!1),L=Z(),P=u=>L.showNotifications(u),{loadPreferedTheme:R}=W();C(()=>{R()});const D=N(()=>[{id:"patients-compact",label:"Compact",icon:"bullseye",route:"/patients-compact",guard:t.PATIENTS_COMPACT},{id:"patients",label:"Patients",icon:"user-injured",route:"/patients",guard:t.PATIENTS},{id:"clients",label:"Clients",icon:"clinic-medical",route:"/clients",guard:t.CLIENTS},{id:"samples",label:"Samples",icon:"vial",route:"/samples",guard:t.SAMPLES},{id:"worksheets",label:"WorkSheets",icon:"grip-vertical",route:"/worksheets",guard:t.WORKSHEETS},{id:"quality-control",label:"QControl",icon:"anchor",route:"/quality-control",guard:t.QC_SAMPLES},{id:"notice-manager",label:"NoticeManager",icon:"bell",route:"/notice-manager",guard:t.NOTICE_MANAGER},{id:"bio-banking",label:"BioBanking",icon:"database",route:"/bio-banking",guard:t.BIO_BANKING},{id:"shipments",label:"Referrals",icon:"truck",route:"/shipments",guard:t.REFERRAL},{id:"inventory",label:"Inventory",icon:"fa-solid fa-boxes-stacked",route:"/inventory",guard:t.INVENTORY},{id:"schemes",label:"Projects",icon:"project-diagram",route:"/schemes",guard:t.SCHEMES},{id:"documents",label:"Documents",icon:"file",route:"/documents",guard:t.DOCUMENT}]),O=()=>{s.value=!1,l.value=!1},B=u=>{u.key==="Escape"&&O()};return C(()=>{document.addEventListener("keydown",B)}),(u,e)=>{const y=_("router-link"),a=_("font-awesome-icon"),V=_("fel-drawer");return i(),d(k,null,[o("nav",J,[o("div",X,[o("div",ee,[n(y,{to:"/",id:"brand",class:"flex items-center md:w-auto text-primary-foreground/80 hover:text-primary-foreground transition-colors","aria-label":"Felicity LIMS Home"},{default:m(()=>[n(c(A)),e[10]||(e[10]=o("h1",{class:"text-left text-2xl font-medium mx-2"},"Felicity LIMS",-1))]),_:1}),e[12]||(e[12]=o("span",{class:"mx-8 border-l border-border my-2","aria-hidden":"true"},null,-1)),o("button",{onClick:e[0]||(e[0]=r=>s.value=!s.value),class:"hidden md:flex md:items-center focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md p-2","aria-expanded":s.value,"aria-controls":"main-menu"},[e[11]||(e[11]=o("span",{class:"text-xl font-medium mr-2 text-primary-foreground/80 hover:text-primary-foreground uppercase"},"Menu",-1)),n(a,{icon:s.value?"chevron-up":"chevron-down",class:"text-muted-foreground transition-transform duration-200","aria-hidden":"true"},null,8,["icon"])],8,oe),p(o("div",{id:"main-menu",class:"absolute left-64 top-12 mt-1 p-4 w-1/2 bg-primary rounded-md shadow-lg border border-border z-20",onClick:e[2]||(e[2]=r=>s.value=!1)},[o("div",re,[(i(!0),d(k,null,S(D.value,r=>p((i(),q(y,{key:r.id,to:r.route,id:`${r.id}-link`,class:"flex items-center py-2 px-4 text-primary-foreground hover:bg-accent hover:text-accent-foreground rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",role:"menuitem",onClick:e[1]||(e[1]=w=>s.value=!1)},{default:m(()=>[o("span",te,[n(a,{icon:r.icon},null,8,["icon"])]),o("span",ne,v(r.label),1)]),_:2},1032,["to","id"])),[[g,E(r.guard)]])),128))])],512),[[g,s.value]])])]),o("div",se,[c(f).length>0?(i(),d("button",{key:0,class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[3]||(e[3]=r=>x.value=!0),"aria-label":"Show errors"},[n(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[13]||(e[13]=o("span",{class:"text-lg font-medium mr-2 uppercase"},"Errors",-1)),o("span",ae,v(c(f).length),1)])):M("",!0),c(f).length>0?(i(),d("span",ie)):M("",!0),o("button",{class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[4]||(e[4]=r=>P(!0)),"aria-label":"Show notifications"},[n(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[14]||(e[14]=o("span",{class:"text-lg font-medium uppercase"},"Notifications",-1))]),e[17]||(e[17]=o("span",{class:"border-l border-border h-6","aria-hidden":"true"},null,-1)),p(n(y,{to:"/admin",class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md","aria-label":"Settings"},{default:m(()=>[n(a,{icon:"cog",class:"mr-2","aria-hidden":"true"}),e[15]||(e[15]=o("span",{class:"text-lg font-medium uppercase"},"Settings",-1))]),_:1},512),[[g,E(t.ADMINISTRATION)]]),o("div",le,[o("span",ue,[n(a,{icon:"user"})]),o("div",de,[o("button",{onClick:e[5]||(e[5]=r=>l.value=!l.value),class:"text-primary-foreground/80 hover:text-primary-foreground hidden md:flex md:items-center ml-2 focus:outline-none rounded-lg p-1 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary","aria-expanded":l.value,"aria-controls":"user-menu"},[o("span",fe,v(T.value),1),n(a,{icon:l.value?"chevron-up":"chevron-down",class:"ml-2 text-primary-foreground/80 transition-transform","aria-hidden":"true"},null,8,["icon"])],8,ce),p(o("div",{id:"user-menu",class:"absolute right-0 top-11 py-2 w-48 bg-popover text-popover-foreground rounded-lg shadow-xl z-20",onClick:e[7]||(e[7]=r=>l.value=!1),role:"menu"},[o("button",{onClick:e[6]||(e[6]=r=>c(b).logout()),class:"w-full text-left cursor-pointer py-2 px-4 flex items-center hover:bg-primary hover:text-primary-foreground uppercase transition-colors focus:outline-none focus:bg-accent focus:text-accent-foreground rounded",role:"menuitem"},[n(a,{icon:"sign-out-alt",class:"mr-2","aria-hidden":"true"}),e[16]||(e[16]=z(" Log out "))])],512),[[g,l.value]])])])])]),n(V,{show:x.value,onClose:e[9]||(e[9]=r=>x.value=!1)},{header:m(()=>[o("div",me,[e[18]||(e[18]=o("h3",{class:"font-semibold text-lg"},"Errors List",-1)),o("button",{class:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-secondary transition-colors focus:outline-none",onClick:e[8]||(e[8]=r=>c($)()),"aria-label":"Clear all errors"},[n(a,{icon:"trash-alt",class:"w-5 h-5","aria-hidden":"true"})])])]),body:m(()=>[c(f).length===0?(i(),d("p",pe,"No errors to display")):(i(),d("ul",ge,[(i(!0),d(k,null,S(c(f),(r,w)=>(i(),d("li",{key:w,class:"mb-2 p-3 bg-background rounded text-sm border-l-4 border-destructive"},[o("code",ve,v(r),1)]))),128))]))]),_:1},8,["show"])],64)}}}),_e=Y(be,[["__file","/Users/admin/Documents/Development/felicity/felicity-lims/webapp/components/nav/NavigationMain.vue"]]);export{_e as default};
