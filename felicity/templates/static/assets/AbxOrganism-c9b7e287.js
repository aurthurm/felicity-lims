import{d as X,I as Y,r as u,n as S,p as b,q as Z,o as F,c as ee,b as e,g as p,z as x,f as l,y as se,t as oe,w as le,e as i,v as d,ae,i as te,B as ne,F as ie,j as v,_ as k,a6 as P,D as de,E as ue,k as re}from"./index-fe6b305f.js";import{e as me,f as ce,g as pe,h as fe,i as be,j as ge,k as he,l as _e,m as ye}from"./microbiology.mutations-4b872ed4.js";const n=h=>(de("data-v-4d09f0a0"),h=h(),ue(),h),xe={class:"w-full my-4"},ve=n(()=>e("hr",null,null,-1)),ke={class:"mb-6"},Ce=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),Be={class:"grid grid-cols-2 gap-4"},Ge={class:"block"},Ae=n(()=>e("span",{class:"text-gray-700"},"Organism Name",-1)),Ve={class:"block"},we=n(()=>e("span",{class:"text-gray-700"},"WHONET Code",-1)),Oe={class:"block"},Te=n(()=>e("span",{class:"text-gray-700"},"Replaced By",-1)),Ue={class:"block"},Ie=n(()=>e("span",{class:"text-gray-700"},"Taxonomic Status",-1)),De={class:"mb-6"},Se=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),Fe={class:"grid grid-cols-2 gap-4"},Pe={class:"block"},Ee=n(()=>e("span",{class:"text-gray-700"},"Common",-1)),Me={class:"block"},Ne=n(()=>e("span",{class:"text-gray-700"},"Organism Type",-1)),Re={class:"block"},Ke=n(()=>e("span",{class:"text-gray-700"},"Anaerobe",-1)),Le={class:"block"},je=n(()=>e("span",{class:"text-gray-700"},"Morphology",-1)),qe={class:"mb-6"},ze=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Taxonomy",-1)),He={class:"grid grid-cols-2 gap-4"},We={class:"block"},Qe=n(()=>e("span",{class:"text-gray-700"},"Subkingdom Code",-1)),$e={class:"block"},Je=n(()=>e("span",{class:"text-gray-700"},"Family Code",-1)),Xe={class:"block"},Ye=n(()=>e("span",{class:"text-gray-700"},"Genus Group",-1)),Ze={class:"block"},es=n(()=>e("span",{class:"text-gray-700"},"Genus Code",-1)),ss={class:"block"},os=n(()=>e("span",{class:"text-gray-700"},"Species Group",-1)),ls={class:"block"},as=n(()=>e("span",{class:"text-gray-700"},"Serovar Group",-1)),ts={class:"mb-6"},ns=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),is={class:"grid grid-cols-2 gap-4"},ds={class:"block"},us=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxon ID",-1)),rs={class:"block"},ms=n(()=>e("span",{class:"text-gray-700"},"GBIF Dataset ID",-1)),cs={class:"block"},ps=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxonomic Status",-1)),fs={class:"mb-6"},bs=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),gs={class:"grid grid-cols-2 gap-4"},hs={class:"block"},_s=n(()=>e("span",{class:"text-gray-700"},"Kingdom",-1)),ys={class:"block"},xs=n(()=>e("span",{class:"text-gray-700"},"Phylum",-1)),vs={class:"grid grid-cols-2 gap-4"},ks={class:"block"},Cs=n(()=>e("span",{class:"text-gray-700"},"Class",-1)),Bs={class:"block"},Gs=n(()=>e("span",{class:"text-gray-700"},"Order",-1)),As={class:"grid grid-cols-2 gap-4"},Vs={class:"block"},ws=n(()=>e("span",{class:"text-gray-700"},"Family",-1)),Os={class:"block"},Ts=n(()=>e("span",{class:"text-gray-700"},"Genus",-1)),Us={class:"mb-6"},Is=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Comments",-1)),Ds={class:"block"},Ss=n(()=>e("span",{class:"text-gray-700"},"Additional Comments",-1)),Fs=n(()=>e("hr",{class:"my-6"},null,-1)),Ps=n(()=>e("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Organism ",-1)),Es=X({__name:"AbxOrganism",setup(h){const E=v(()=>k(()=>import("./FelModal-e3732985.js"),["assets/FelModal-e3732985.js","assets/index-fe6b305f.js","assets/index-299c91dd.css","assets/FelModal-780aeea9.css"])),M=v(()=>k(()=>import("./FelDataTable-30bec11c.js"),["assets/FelDataTable-30bec11c.js","assets/index-fe6b305f.js","assets/index-299c91dd.css"])),f=v(()=>k(()=>import("./vue-multiselect.esm-448e7f5d.js"),["assets/vue-multiselect.esm-448e7f5d.js","assets/index-fe6b305f.js","assets/index-299c91dd.css"])),{withClientMutation:C,withClientQuery:c}=Y();let g=u(!1),N=u(""),s=S({});const B=u(!0),G=u(!1),m=u([]),A=u([]),V=u([]),R=b(()=>V.value.filter(t=>t.kingdomUid===s.kingdom?.uid)),w=u([]),K=b(()=>w.value.filter(t=>t.phylumUid===s.phylum?.uid)),O=u([]),L=b(()=>O.value.filter(t=>t.classUid===s.class?.uid)),T=u([]),j=b(()=>T.value.filter(t=>t.orderUid===s.order?.uid)),U=u([]),q=b(()=>U.value.filter(t=>t.familyUid===s.family?.uid));let r=S({first:50,after:"",text:"",sortBy:["name"],filterAction:!1});const I=u(0);let D=u({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const z=b(()=>m?.value?.length+" of "+I.value+" organisms"),H=u([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"whonetOrgCode",value:"whonetOrgCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"replacedBy",value:"replacedBy",sortable:!1,sortBy:"asc",hidden:!0},{name:"taxonomicStatus",value:"taxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"common",value:"common",sortable:!1,sortBy:"asc",hidden:!0},{name:"organismType",value:"organismType",sortable:!1,sortBy:"asc",hidden:!1},{name:"anaerobe",value:"anaerobe",sortable:!1,sortBy:"asc",hidden:!1},{name:"morphology",value:"morphology",sortable:!1,sortBy:"asc",hidden:!0},{name:"subkingdomCode",value:"subkingdomCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"familyCode",value:"familyCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusGroup",value:"genusGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusCode",value:"genusCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"speciesGroup",value:"speciesGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"serovarGroup",value:"serovarGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"msfGrpClin",value:"msfGrpClin",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctCode",value:"sctCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctText",value:"sctText",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonId",value:"gbifTaxonId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifDatasetId",value:"gbifDatasetId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonomicStatus",value:"gbifTaxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"kingdom",value:"kingdom.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"phylum",value:"phylum.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"class",value:"class_.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"order",value:"order.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"family",value:"family.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"genus",value:"genus.name",sortable:!1,sortBy:"asc",hidden:!1}]);function y(t){c(he,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(o=>{const a=o.abxOrganismAll,_=a.items;t.filterAction?(m.value=[],m.value=_):m.value=P(m.value,_,"uid"),I.value=a?.totalCount,D.value=a?.pageInfo}).finally(()=>{G.value=!1})}Z(()=>{y(r),c(me,{},"abxOrderAll").then(t=>{t&&(O.value=t)}),c(ce,{},"abxFamilyAll").then(t=>{t&&(T.value=t)}),c(pe,{},"abxKingdomAll").then(t=>{t&&(A.value=t)}),c(fe,{},"abxPhylumAll").then(t=>{t&&(V.value=t)}),c(be,{},"abxGenusAll").then(t=>{t&&(U.value=t)}),c(ge,{},"abxClassAll").then(t=>{t&&(w.value=t)})});function W(t){r.first=100,r.after="",r.text=t.filterText,r.filterAction=!0,y(r)}function Q(t){r.first=t.fetchCount,r.after=D?.value?.endCursor,r.text=t.filterText,r.filterAction=!1,y(r)}const $=()=>Object.assign(s,{});function J(){const t={name:s?.name,whonetOrgCode:s?.whonetOrgCode,replacedBy:s?.replacedBy,taxonomicStatus:s?.taxonomicStatus,common:s?.common,organismType:s?.organismType,anaerobe:s?.anaerobe,morphology:s?.morphology,subkingdomCode:s?.subkingdomCode,familyCode:s?.familyCode,genusGroup:s?.genusGroup,genusCode:s?.genusCode,speciesGroup:s?.speciesGroup,serovarGroup:s?.serovarGroup,msfGrpClin:s?.msfGrpClin,sctCode:s?.sctCode,sctText:s?.sctText,gbifTaxonId:s?.gbifTaxonId,gbifDatasetId:s?.gbifDatasetId,gbifTaxonomicStatus:s?.gbifTaxonomicStatus,kingdomUid:s?.kingdom?.uid,phylumUid:s?.phylum?.uid,classUid:s?.class?.uid,orderUid:s?.order?.uid,familyUid:s?.family?.uid,genusUid:s?.genus?.uid,comments:s?.comments};B.value===!0&&C(_e,{payload:t},"createAbxOrganism").then(o=>{o&&(m.value=P(m.value,[o],"uid"))}),B.value===!1&&C(ye,{uid:s.uid,payload:t},"updateAbxOrganism").then(o=>{if(o){const a=m.value.findIndex(_=>_.uid==o.uid);m.value[a]=o}}),g.value=!1}return(t,o)=>(F(),ee(ie,null,[e("div",xe,[ve,p(l(M),{columns:H.value,data:m.value,toggleColumns:!0,loading:G.value,paginable:!0,pageMeta:{fetchCount:l(r).first,hasNextPage:!0,countNone:z.value},searchable:!0,filterable:!1,onOnSearchKeyUp:W,onOnSearchFocus:$,onOnPaginate:Q,selectable:!1},{footer:x(()=>[]),_:1},8,["columns","data","loading","pageMeta"])]),l(g)?(F(),se(l(E),{key:0,onClose:o[24]||(o[24]=a=>te(g)?g.value=!1:g=!1),"content-width":"w-1/2"},{header:x(()=>[e("h3",null,oe(l(N)),1)]),body:x(()=>[e("form",{onSubmit:le(J,["prevent"]),class:"p-4"},[e("div",ke,[Ce,e("div",Be,[e("label",Ge,[Ae,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[0]||(o[0]=a=>l(s).name=a),placeholder:"Enter organism name"},null,512),[[d,l(s).name]])]),e("label",Ve,[we,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=a=>l(s).whonetOrgCode=a),placeholder:"WHONET code"},null,512),[[d,l(s).whonetOrgCode]])]),e("label",Oe,[Te,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[2]||(o[2]=a=>l(s).replacedBy=a),placeholder:"Replaced by"},null,512),[[d,l(s).replacedBy]])]),e("label",Ue,[Ie,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[3]||(o[3]=a=>l(s).taxonomicStatus=a),placeholder:"Taxonomic status"},null,512),[[d,l(s).taxonomicStatus]])])])]),e("div",De,[Se,e("div",Fe,[e("label",Pe,[Ee,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[4]||(o[4]=a=>l(s).common=a),placeholder:"Common"},null,512),[[d,l(s).common]])]),e("label",Me,[Ne,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[5]||(o[5]=a=>l(s).organismType=a),placeholder:"Organism type"},null,512),[[d,l(s).organismType]])]),e("label",Re,[Ke,i(e("input",{type:"checkbox",class:"form-checkbox mt-1","onUpdate:modelValue":o[6]||(o[6]=a=>l(s).anaerobe=a)},null,512),[[ae,l(s).anaerobe]])]),e("label",Le,[je,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[7]||(o[7]=a=>l(s).morphology=a),placeholder:"Morphology"},null,512),[[d,l(s).morphology]])])])]),e("div",qe,[ze,e("div",He,[e("label",We,[Qe,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[8]||(o[8]=a=>l(s).subkingdomCode=a),placeholder:"Subkingdom code"},null,512),[[d,l(s).subkingdomCode]])]),e("label",$e,[Je,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[9]||(o[9]=a=>l(s).familyCode=a),placeholder:"Family code"},null,512),[[d,l(s).familyCode]])]),e("label",Xe,[Ye,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[10]||(o[10]=a=>l(s).genusGroup=a),placeholder:"Genus group"},null,512),[[d,l(s).genusGroup]])]),e("label",Ze,[es,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[11]||(o[11]=a=>l(s).genusCode=a),placeholder:"Genus code"},null,512),[[d,l(s).genusCode]])]),e("label",ss,[os,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[12]||(o[12]=a=>l(s).speciesGroup=a),placeholder:"Species group"},null,512),[[d,l(s).speciesGroup]])]),e("label",ls,[as,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[13]||(o[13]=a=>l(s).serovarGroup=a),placeholder:"Serovar group"},null,512),[[d,l(s).serovarGroup]])])])]),e("div",ts,[ns,e("div",is,[e("label",ds,[us,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[14]||(o[14]=a=>l(s).gbifTaxonId=a),placeholder:"GBIF Taxon ID"},null,512),[[d,l(s).gbifTaxonId]])]),e("label",rs,[ms,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[15]||(o[15]=a=>l(s).gbifDatasetId=a),placeholder:"GBIF Dataset ID"},null,512),[[d,l(s).gbifDatasetId]])]),e("label",cs,[ps,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[16]||(o[16]=a=>l(s).gbifTaxonomicStatus=a),placeholder:"GBIF Taxonomic Status"},null,512),[[d,l(s).gbifTaxonomicStatus]])])])]),e("div",fs,[bs,e("div",gs,[e("label",hs,[_s,p(l(f),{modelValue:l(s).kingdom,"onUpdate:modelValue":o[17]||(o[17]=a=>l(s).kingdom=a),options:A.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",ys,[xs,p(l(f),{modelValue:l(s).phylum,"onUpdate:modelValue":o[18]||(o[18]=a=>l(s).phylum=a),options:R.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",vs,[e("label",ks,[Cs,p(l(f),{modelValue:l(s).class_,"onUpdate:modelValue":o[19]||(o[19]=a=>l(s).class_=a),options:K.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Bs,[Gs,p(l(f),{modelValue:l(s).Order,"onUpdate:modelValue":o[20]||(o[20]=a=>l(s).Order=a),options:L.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",As,[e("label",Vs,[ws,p(l(f),{modelValue:l(s).family,"onUpdate:modelValue":o[21]||(o[21]=a=>l(s).family=a),options:j.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Os,[Ts,p(l(f),{modelValue:l(s).genus,"onUpdate:modelValue":o[22]||(o[22]=a=>l(s).genus=a),options:q.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),e("div",Us,[Is,e("label",Ds,[Ss,i(e("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":o[23]||(o[23]=a=>l(s).comments=a),rows:"3",placeholder:"Additional comments..."},null,512),[[d,l(s).comments]])])]),Fs,Ps],32)]),_:1})):ne("",!0)],64))}});const Rs=re(Es,[["__scopeId","data-v-4d09f0a0"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganism.vue"]]);export{Rs as default};
