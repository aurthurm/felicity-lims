const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-Cvm3ZCjW.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/ResultOptions-y-5OB2Zl.js","assets/index.esm-BfHj8iGm.js","assets/analyses.mutations-DUxQZn1r.js","assets/analysis-PB9AMevg.js","assets/Input-BEm5S0CJ.js","assets/FormMessage-CgXFMXx9.js","assets/FormLabel-DxP9wnWS.js","assets/Label-CS46LzLb.js","assets/PageHeading-Czi_4opS.js","assets/InterimFields-aOoUmDJc.js","assets/setup-BcFG_bXr.js","assets/SelectValue-Ds0cfAgl.js","assets/useNonce-B4v0IDPb.js","assets/chevron-down-Dqf-ptA3.js","assets/useFocusGuards-Bjb6OG0k.js","assets/PopperContent-BfyCnGUj.js","assets/CorrectionFactor-CwP095Lw.js","assets/Uncertainty-D6R_ymti.js","assets/DetectionLimit-BnIQ7SO9.js","assets/Specifications-vSqfj5Pu.js","assets/Billing-BfI7n2je.js","assets/billing.mutations-BKsnFCTJ.js","assets/billing-COaJ61t1.js","assets/billing.queries-CxKPIhZs.js","assets/SmsTemplate-FTSS7a0q.js","assets/Textarea-T3VcJTEo.js","assets/SmsTemplate-CkIQ37tN.css"])))=>i.map(i=>d[i]);
import{Y as pe,ag as be,P as ye,u as ve,a0 as C,av as z,a7 as V,an as xe,a5 as v,a6 as x,a3 as Se,_ as _e,r as S,c as u,o as d,z as t,A as I,C as N,a as n,K as i,M as c,F as _,H as w,I as a,N as ke,D as g,al as b,aG as P,E as we}from"./index-OdhKCqIc.js";import{j as Te,E as Ue,k as Ce,l as Ve}from"./analyses.mutations-DUxQZn1r.js";import{u as Me}from"./setup-BcFG_bXr.js";import{u as Ae}from"./analysis-PB9AMevg.js";import{m as q,r as ee}from"./index-tFVefQDg.js";import{C as Ee,a as Fe,b as De}from"./CollapsibleTrigger-BinpFqP8.js";import{T as Le,a as Be,b as Ie,c as Pe}from"./TabsTrigger-D8hXW_BI.js";import{P as he}from"./PageHeading-Czi_4opS.js";import"./CollapsibleTrigger-CC-LRQ5L.js";const Re=pe({__name:"ServicesAdmin",setup(te,{expose:e}){e();const H=v(()=>x(()=>import("./vue-multiselect.esm-Cvm3ZCjW.js"),__vite__mapDeps([0,1,2]))),s=v(()=>x(()=>import("./ResultOptions-y-5OB2Zl.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11]))),Y=v(()=>x(()=>import("./InterimFields-aOoUmDJc.js"),__vite__mapDeps([12,1,2,4,5,6,13,7,8,9,10,14,15,16,17,18,11]))),G=v(()=>x(()=>import("./CorrectionFactor-CwP095Lw.js"),__vite__mapDeps([19,1,2,4,5,6,13,7,8,9,10,14,15,16,17,18,11]))),h=v(()=>x(()=>import("./Uncertainty-D6R_ymti.js"),__vite__mapDeps([20,1,2,4,5,13,6,7,8,9,10,14,15,16,17,18,11]))),T=v(()=>x(()=>import("./DetectionLimit-BnIQ7SO9.js"),__vite__mapDeps([21,1,2,4,5,6,13,7,8,9,10,14,15,16,17,18,11]))),A=v(()=>x(()=>import("./Specifications-vSqfj5Pu.js"),__vite__mapDeps([22,1,2,4,5,13,6,7,8,9,10,14,15,16,17,18,11]))),R=v(()=>x(()=>import("./Billing-BfI7n2je.js"),__vite__mapDeps([23,1,2,4,24,25,26,7,8,9,10,14,15,16,17,18]))),U=v(()=>x(()=>import("./SmsTemplate-FTSS7a0q.js"),__vite__mapDeps([27,1,2,4,7,28,8,9,10,14,15,16,17,18,11,29]))),E=be(),f=Ae(),M=ye(),y=Me(),{withClientMutation:o}=ve();let k=C("summary");const W=[{id:"summary",label:"Summary"},{id:"uncertainities",label:"Uncertainties"},{id:"result-options",label:"Result options"},{id:"interims",label:"Interims"},{id:"correction-factor",label:"Correction factor"},{id:"detection-limits",label:"Detection limits"},{id:"specifications",label:"Specifications"},{id:"mappings",label:"Mappings"},{id:"billing",label:"Billing"},{id:"sms-templates",label:"SMS templates"}];let F=C(!1),j=C(""),l=z({});const D=C(!0),se=V(()=>M.getSampleTypes),oe=V(()=>y.getDepartments);y.fetchMethods();const ne=V(()=>y.getMethods);y.fetchUnits();const ie=V(()=>y.getUnits);f.fetchAnalysesCategories();const le=V(()=>f.getAnalysesCategories),re=V(()=>f.getAnalysesServices);xe(()=>E.query,r=>{if(r.item){const m=f.analysesServices.find(fe=>fe.name===r.item);q(l,m)}},{immediate:!0});let O=z({first:void 0,after:"",text:"",sortBy:["name"]});f.fetchAnalysesServices(O);function J(){const r={name:l.name,keyword:l.keyword,description:l.description,categoryUid:l.categoryUid,departmentUid:l.departmentUid,unitUid:l.unitUid,sortKey:l.sortKey,active:l.active,internalUse:l.internalUse,sampleTypes:l.sampleTypes?.map(m=>m.uid),methods:l.methods?.map(m=>m.uid),tatLengthMinutes:l.tatLengthMinutes,precision:l.precision,requiredVerifications:l.requiredVerifications,selfVerification:l.selfVerification};o(Te,{payload:r},"createAnalysis").then(m=>f.addAnalysesService(m))}function X(){const r={name:l.name,keyword:l.keyword,description:l.description,departmentUid:l.departmentUid,categoryUid:l.categoryUid,unitUid:l.unitUid,sortKey:l.sortKey,active:l.active,internalUse:l.internalUse,sampleTypes:l.sampleTypes?.map(m=>m.uid),methods:l.methods?.map(m=>m.uid),tatLengthMinutes:l.tatLengthMinutes,precision:l.precision,requiredVerifications:l.requiredVerifications,selfVerification:l.selfVerification};o(Ue,{uid:l.uid,payload:r},"updateAnalysis").then(m=>f.updateAnalysisService(m))}function ae(r){q(l,r)}function de(r){D.value=r,F.value=!0,j.value=(r?"CREATE":"EDIT")+" ANALYSES SERVICE",r&&ee(l)}function ue(){D.value===!0&&J(),D.value===!1&&X(),F.value=!1}f.fetchCodingStandards();const me=V(()=>f.analysesMapings?.filter(r=>r.analysisUid===l?.uid));let L=C(!1),K=C("");const B=C(!0),p=z({uid:void 0,analysisUid:void 0,codingStandardUid:void 0,name:"",code:"",description:""});function Z(){const r={analysisUid:l?.uid,codingStandardUid:p.codingStandardUid,name:p.name,code:p.code,description:p.description};o(Ce,{payload:r},"createAnalysisMapping").then(m=>f.addAnalysesMapping(m))}function Q(){const r={analysisUid:l?.uid,codingStandardUid:p.codingStandardUid,name:p.name,code:p.code,description:p.description};o(Ve,{uid:p.uid,payload:r},"updateAnalysisMapping").then(m=>f.updateAnalysesMapping(m))}function ce(r,m={}){B.value=r,L.value=!0,K.value=(r?"CREATE":"EDIT")+" CONCEPT MAPPING",r?ee(p):q(p,m)}function ge(){B.value===!0&&Z(),B.value===!1&&Q(),L.value=!1}const $={VueMultiselect:H,ResultOptions:s,InterimFields:Y,CorrectionFactor:G,AnalysisUncertainty:h,DetectionLimits:T,AnalysisSpecifications:A,Billing:R,SmsTemplates:U,route:E,analysisStore:f,sampleStore:M,setupStore:y,withClientMutation:o,get currentTab(){return k},set currentTab(r){k=r},tabList:W,get showModal(){return F},set showModal(r){F=r},get formTitle(){return j},set formTitle(r){j=r},get analysisService(){return l},set analysisService(r){l=r},formAction:D,sampleTypes:se,departments:oe,methods:ne,units:ie,analysesCategories:le,analysesServices:re,get analysesParams(){return O},set analysesParams(r){O=r},addAnalysisService:J,editAnalysisService:X,selectAnalysisService:ae,FormManager:de,saveForm:ue,mappings:me,get showMappingModal(){return L},set showMappingModal(r){L=r},get mappingFormTitle(){return K},set mappingFormTitle(r){K=r},mappingFormAction:B,mappingForm:p,addMapping:Z,updateMapping:Q,MappingFormManager:ce,saveMappingForm:ge,get Button(){return Se},get Collapsible(){return De},get CollapsibleContent(){return Fe},get CollapsibleTrigger(){return Ee},get Tabs(){return Pe},get TabsContent(){return Ie},get TabsList(){return Be},get TabsTrigger(){return Le},PageHeading:he};return Object.defineProperty($,"__isScriptSetup",{enumerable:!1,value:!0}),$}}),je={class:"grid grid-cols-12 gap-4 mt-2"},Oe={class:"col-span-2"},Ke={class:"rounded-lg border border-border bg-card"},ze={class:"p-6"},Ne={class:"space-y-4"},qe={class:"max-h-[540px] overflow-y-auto space-y-1 pr-1"},He={class:"px-3 pb-2 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-1.5"},Ye=["onClick"],Ge={class:"flex-1 truncate"},We={key:0,class:"col-span-10"},Je={class:"bg-card text-card-foreground rounded-lg border border-border shadow-sm hover:shadow-md transition-shadow duration-200 px-4 sm:px-6 md:px-2 py-4"},Xe={class:"grid grid-cols-12 gap-3"},Ze={class:"sm:col-span-2 text-center hidden sm:block"},Qe={class:"grid grid-rows-2 mx-auto mb-1 py-3 w-4/5 2lg:w-3/5 rounded-lg bg-primary"},$e={class:"inline-block font-medium text-2xl text-primary-foreground"},et={class:"inline-block font-medium text-primary-foreground text-md mt-2"},tt={class:"col-span-12 sm:col-start-3 sm:col-end-13 px-3 sm:px-0"},st={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-foreground font-bold"},ot={class:"grid grid-cols-2 mt-2"},nt={class:"col-span-1"},it={class:"flex"},lt={class:"text-foreground text-md"},rt={class:"flex"},at={class:"text-foreground text-md"},dt={class:"flex"},ut={class:"text-foreground text-md"},mt={class:"flex mt-2"},ct={class:"text-foreground text-md mr-2"},gt={class:"flex mt-2"},ft={class:"text-foreground text-md mr-2"},pt={class:"col-span-1"},bt={class:"col-span-2 flex mt-2"},yt={class:"text-foreground text-md mr-2"},vt={class:"col-span-2 flex mt-2"},xt={class:"text-foreground text-md mr-2"},St={class:"flex mt-2"},_t={class:"text-foreground text-md mr-2"},kt={class:"col-span-4 flex mt-2"},wt={class:"text-foreground text-md mr-2"},Tt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ut={class:"p-4 rounded-lg border border-border bg-muted/30"},Ct={class:"flex items-center justify-between"},Vt={class:"text-sm text-muted-foreground"},Mt={class:"p-4 rounded-lg border border-border bg-muted/30"},At={class:"flex items-center justify-between"},Et={class:"text-sm text-muted-foreground"},Ft={class:"p-4 rounded-lg border border-border bg-muted/30"},Dt={class:"flex items-center justify-between"},Lt={class:"text-sm text-muted-foreground"},Bt={class:"p-4 rounded-lg border border-border bg-muted/30"},It={class:"flex items-center justify-between"},Pt={class:"text-sm text-muted-foreground"},ht={class:"p-4 rounded-lg border border-border bg-muted/30"},Rt={class:"flex items-center justify-between"},jt={class:"text-sm text-muted-foreground"},Ot={class:"p-4 rounded-lg border border-border bg-muted/30"},Kt={class:"flex items-center justify-between"},zt={class:"text-sm text-muted-foreground"},Nt={class:"p-4 rounded-lg border border-border bg-muted/30"},qt={class:"flex items-center justify-between"},Ht={class:"text-sm text-muted-foreground"},Yt={class:"p-4 rounded-lg border border-border bg-muted/30"},Gt={class:"p-4 rounded-lg border border-border bg-muted/30"},Wt={class:"flex justify-between items-center mb-2"},Jt={class:"mt-4 border border-border bg-card rounded-lg shadow-md"},Xt={class:"relative w-full overflow-auto"},Zt={class:"flex items-center"},Qt={class:"text-sm text-foreground"},$t={class:"text-sm text-foreground"},es={class:"text-sm text-foreground"},ts={class:"text-sm text-foreground"},ss=["onClick"],os={class:"text-lg font-bold text-foreground"},ns={action:"post",class:"p-4"},is={class:"grid grid-cols-6 gap-x-4 mb-4"},ls={class:"block col-span-4 mb-2"},rs={key:1,class:"block mt-2 mb-4 font-bold text-xl text-foreground"},as={class:"block col-span-1 mb-2"},ds={key:1,class:"block mt-2 mb-4 italic font-semibold text-foreground"},us={class:"block col-span-1 mb-2"},ms=["value"],cs={class:"grid grid-cols-6 gap-x-4 mb-4"},gs={class:"block col-span-3 mb-2"},fs={class:"block col-span-3 mb-2"},ps={class:"block col-span-6 mb-2"},bs={key:1,class:"block p-2 mt-2 mb-4 bg-muted text-muted-foreground rounded-lg"},ys={class:"grid grid-cols-6 gap-x-4 mb-4"},vs={class:"block col-span-2 mb-2"},xs=["value"],Ss={class:"block col-span-2 mb-2"},_s=["value"],ks={class:"block col-span-2 mb-2"},ws={class:"block col-span-2 mb-2"},Ts={class:"block col-span-2 mb-2"},Us={class:"block col-span-2 mb-2"},Cs={class:"col-span-4 flex justify-between"},Vs={class:"block col-span-2 my-2"},Ms={class:"block col-span-2 my-2"},As={class:"block col-span-2 my-2"},Es={class:"text-lg font-bold text-foreground"},Fs={action:"post",class:"p-4"},Ds={class:"grid grid-cols-2 gap-x-4 mb-4"},Ls={class:"block col-span-2 mb-2"},Bs=["value"],Is={class:"block col-span-2 mb-2"},Ps={class:"block col-span-2 mb-2"},hs={class:"block col-span-2 mb-2"};function Rs(te,e,H,s,Y,G){const h=S("font-awesome-icon"),T=S("TableHead"),A=S("TableRow"),R=S("TableHeader"),U=S("TableCell"),E=S("TableBody"),f=S("Table"),M=S("Checkbox"),y=S("Modal");return d(),u(_,null,[t("div",null,[n(s.PageHeading,{title:"Analyses Services"},{default:i(()=>[n(s.Button,{onClick:e[0]||(e[0]=o=>s.FormManager(!0))},{default:i(()=>[...e[36]||(e[36]=[c("Add Analyses Service",-1)])]),_:1})]),_:1}),t("div",je,[t("section",Oe,[t("div",Ke,[t("div",ze,[t("div",Ne,[e[38]||(e[38]=t("h3",{class:"text-sm font-medium text-foreground"},"Analyses",-1)),t("div",qe,[(d(!0),u(_,null,w(s.analysesServices,o=>(d(),I(s.Collapsible,{key:String(o[0]),class:"rounded-md border border-border"},{default:i(()=>[n(s.CollapsibleTrigger,{class:"flex w-full items-center justify-between px-3 py-2 text-left text-sm font-medium hover:bg-accent/50 rounded-md transition-colors [&[data-state=open]>svg]:rotate-180"},{default:i(()=>[c(a(o[0])+" ",1),e[37]||(e[37]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"shrink-0 transition-transform"},[t("path",{d:"m6 9 6 6 6-6"})],-1))]),_:2},1024),n(s.CollapsibleContent,null,{default:i(()=>[t("ul",He,[(d(!0),u(_,null,w(o[1],k=>(d(),u("li",{key:k?.uid,onClick:W=>s.selectAnalysisService(k),class:ke(["flex items-center gap-2 rounded-sm py-1.5 pr-2 pl-2 text-sm outline-none cursor-pointer select-none min-w-0 transition-colors",k?.uid===s.analysisService?.uid?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent/50"])},[t("span",Ge,a(k?.name),1)],10,Ye))),128))])]),_:2},1024)]),_:2},1024))),128))])])])])]),s.analysisService?.uid!==void 0?(d(),u("section",We,[t("div",Je,[t("div",Xe,[t("div",Ze,[t("div",Qe,[e[39]||(e[39]=t("p",{class:"font-bold text-primary-foreground"},"KEYWORD",-1)),t("div",$e,[n(h,{icon:"fa-exclamation-circle"})]),t("div",et,a(s.analysisService?.keyword),1)])]),t("div",tt,[t("div",st,[t("span",null,a(s.analysisService?.name),1),t("div",null,[t("button",{onClick:e[1]||(e[1]=o=>s.FormManager(!1)),class:"ml-4 inline-flex items-center justify-center w-8 h-8 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-full focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"},[...e[40]||(e[40]=[t("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 20 20"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)])])])]),e[50]||(e[50]=t("hr",{class:"border-border"},null,-1)),t("div",ot,[t("div",nt,[t("div",it,[e[41]||(e[41]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Category:",-1)),t("span",lt,a(s.analysisService?.category?.name||"un-categprised"),1)]),t("div",rt,[e[42]||(e[42]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Unit:",-1)),t("span",at,a(s.analysisService?.unit?.name),1)]),t("div",dt,[e[43]||(e[43]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"SortKey:",-1)),t("span",ut,a(s.analysisService?.sortKey||"---"),1)]),t("div",mt,[e[44]||(e[44]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"TAT (minutes):",-1)),t("span",ct,a(s.analysisService?.tatLengthMinutes),1)]),t("div",gt,[e[45]||(e[45]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Precision (decimals):",-1)),t("span",ft,a(s.analysisService?.precision),1)])]),t("div",pt,[t("div",bt,[e[46]||(e[46]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Methods:",-1)),t("span",yt,a(s.analysisService?.methods?.map(o=>o.name)?.join(", ")),1)]),t("div",vt,[e[47]||(e[47]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Sample Types:",-1)),t("span",xt,a(s.analysisService?.sampleTypes?.map(o=>o.name)?.join(", ")),1)]),t("div",St,[e[48]||(e[48]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Required verifications:",-1)),t("span",_t,a(s.analysisService?.requiredVerifications),1)]),t("div",kt,[e[49]||(e[49]=t("span",{class:"text-muted-foreground text-md font-bold w-52"},"Allow self-verification:",-1)),t("span",wt,a(s.analysisService?.selfVerification),1)])])])])])]),n(s.Tabs,{modelValue:s.currentTab,"onUpdate:modelValue":e[12]||(e[12]=o=>s.currentTab=o),class:"flex flex-col mt-2"},{default:i(()=>[n(s.TabsList,{class:"w-full justify-start rounded-lg flex-wrap h-auto gap-1"},{default:i(()=>[(d(),u(_,null,w(s.tabList,o=>n(s.TabsTrigger,{key:o.id,value:o.id},{default:i(()=>[c(a(o.label),1)]),_:2},1032,["value"])),64))]),_:1}),n(s.TabsContent,{value:"summary",class:"flex-1 outline-none mt-4 p-4"},{default:i(()=>[e[78]||(e[78]=t("h3",{class:"text-lg font-bold text-foreground"},"Summary",-1)),e[79]||(e[79]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Overview of configuration across all tabs. Use the tabs above to view or edit each section.",-1)),e[80]||(e[80]=t("hr",{class:"border-border my-4"},null,-1)),t("div",Tt,[t("div",Ut,[t("div",Ct,[e[51]||(e[51]=t("h4",{class:"font-semibold text-foreground"},"Uncertainty",-1)),t("span",Vt,a(s.analysisService?.uncertainties?.length??0)+" configured",1)]),e[53]||(e[53]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Instrument/method variance (min–max ± value).",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[2]||(e[2]=o=>s.currentTab="uncertainities")},{default:i(()=>[...e[52]||(e[52]=[c("View tab",-1)])]),_:1})]),t("div",Mt,[t("div",At,[e[54]||(e[54]=t("h4",{class:"font-semibold text-foreground"},"Correction factor",-1)),t("span",Et,a(s.analysisService?.correctionFactors?.length??0)+" configured",1)]),e[56]||(e[56]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Instrument/method correction factors.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[3]||(e[3]=o=>s.currentTab="correction-factor")},{default:i(()=>[...e[55]||(e[55]=[c("View tab",-1)])]),_:1})]),t("div",Ft,[t("div",Dt,[e[57]||(e[57]=t("h4",{class:"font-semibold text-foreground"},"Result options",-1)),t("span",Lt,a(s.analysisService?.resultOptions?.length??0)+" options",1)]),e[59]||(e[59]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Allowed result values (e.g. Positive, Negative).",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[4]||(e[4]=o=>s.currentTab="result-options")},{default:i(()=>[...e[58]||(e[58]=[c("View tab",-1)])]),_:1})]),t("div",Bt,[t("div",It,[e[60]||(e[60]=t("h4",{class:"font-semibold text-foreground"},"Interim fields",-1)),t("span",Pt,a(s.analysisService?.interims?.length??0)+" fields",1)]),e[62]||(e[62]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Interim key → result value by instrument.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[5]||(e[5]=o=>s.currentTab="interims")},{default:i(()=>[...e[61]||(e[61]=[c("View tab",-1)])]),_:1})]),t("div",ht,[t("div",Rt,[e[63]||(e[63]=t("h4",{class:"font-semibold text-foreground"},"Detection limits",-1)),t("span",jt,a(s.analysisService?.detectionLimits?.length??0)+" limits",1)]),e[65]||(e[65]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Instrument/method lower and upper limits.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[6]||(e[6]=o=>s.currentTab="detection-limits")},{default:i(()=>[...e[64]||(e[64]=[c("View tab",-1)])]),_:1})]),t("div",Ot,[t("div",Kt,[e[66]||(e[66]=t("h4",{class:"font-semibold text-foreground"},"Specifications",-1)),t("span",zt,a(s.analysisService?.specifications?.length??0)+" specs",1)]),e[68]||(e[68]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Method-specific min/max specifications.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[7]||(e[7]=o=>s.currentTab="specifications")},{default:i(()=>[...e[67]||(e[67]=[c("View tab",-1)])]),_:1})]),t("div",Nt,[t("div",qt,[e[69]||(e[69]=t("h4",{class:"font-semibold text-foreground"},"Concept mappings",-1)),t("span",Ht,a(s.mappings?.length??0)+" mappings",1)]),e[71]||(e[71]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Coding standard name, code, description.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[8]||(e[8]=o=>s.currentTab="mappings")},{default:i(()=>[...e[70]||(e[70]=[c("View tab",-1)])]),_:1})]),t("div",Yt,[e[73]||(e[73]=t("h4",{class:"font-semibold text-foreground"},"Billing",-1)),e[74]||(e[74]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Vouchers and pricing for this analysis.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[9]||(e[9]=o=>s.currentTab="billing")},{default:i(()=>[...e[72]||(e[72]=[c("View tab",-1)])]),_:1})]),t("div",Gt,[e[76]||(e[76]=t("h4",{class:"font-semibold text-foreground"},"SMS templates",-1)),e[77]||(e[77]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Templates for result notifications.",-1)),n(s.Button,{variant:"outline",size:"sm",class:"mt-2",onClick:e[10]||(e[10]=o=>s.currentTab="sms-templates")},{default:i(()=>[...e[75]||(e[75]=[c("View tab",-1)])]),_:1})])])]),_:1}),n(s.TabsContent,{value:"uncertainities",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.AnalysisUncertainty,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"correction-factor",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.CorrectionFactor,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"result-options",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.ResultOptions,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"interims",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.InterimFields,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"detection-limits",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.DetectionLimits,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"specifications",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.AnalysisSpecifications,{analysis:s.analysisService,analysisUid:s.analysisService?.uid},null,8,["analysis","analysisUid"])]),_:1}),n(s.TabsContent,{value:"mappings",class:"flex-1 outline-none mt-4"},{default:i(()=>[t("div",Wt,[e[81]||(e[81]=t("h3",{class:"text-lg font-bold text-foreground"},"Concept Mappings",-1)),t("button",{onClick:e[11]||(e[11]=o=>s.MappingFormManager(!0)),class:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"},"Add Mapping")]),e[87]||(e[87]=t("hr",{class:"border-border my-2"},null,-1)),t("div",Jt,[t("div",Xt,[n(f,{class:"w-full caption-bottom text-sm"},{default:i(()=>[n(R,{class:"[&_tr]:border-b"},{default:i(()=>[n(A,{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:i(()=>[n(T,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:i(()=>[...e[82]||(e[82]=[c("Coding Standard",-1)])]),_:1}),n(T,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:i(()=>[...e[83]||(e[83]=[c("Name",-1)])]),_:1}),n(T,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:i(()=>[...e[84]||(e[84]=[c("Code",-1)])]),_:1}),n(T,{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},{default:i(()=>[...e[85]||(e[85]=[c("Description",-1)])]),_:1}),n(T,{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},{default:i(()=>[...e[86]||(e[86]=[c("Actions",-1)])]),_:1})]),_:1})]),_:1}),n(E,{class:"[&_tr:last-child]:border-0"},{default:i(()=>[(d(!0),u(_,null,w(s.mappings,o=>(d(),I(A,{key:o,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},{default:i(()=>[n(U,{class:"px-4 py-3 align-middle text-sm"},{default:i(()=>[t("div",Zt,[t("div",Qt,a(o.codingStandard?.name),1)])]),_:2},1024),n(U,{class:"px-4 py-3 align-middle text-sm"},{default:i(()=>[t("div",$t,a(o.name),1)]),_:2},1024),n(U,{class:"px-4 py-3 align-middle text-sm"},{default:i(()=>[t("div",es,a(o.code),1)]),_:2},1024),n(U,{class:"px-4 py-3 align-middle text-sm"},{default:i(()=>[t("div",ts,a(o.description),1)]),_:2},1024),n(U,{class:"px-4 py-3 align-middle text-right"},{default:i(()=>[t("button",{onClick:k=>s.MappingFormManager(!1,o),class:"px-2 py-1 mr-2 border border-border bg-background text-foreground transition-colors duration-200 rounded-sm focus:outline-none focus:ring-2 focus:ring-ring hover:bg-accent hover:text-accent-foreground"},"Edit",8,ss)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),_:1}),n(s.TabsContent,{value:"billing",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.Billing,{target:"analysis",targetUid:s.analysisService.uid},null,8,["targetUid"])]),_:1}),n(s.TabsContent,{value:"sms-templates",class:"flex-1 outline-none mt-4"},{default:i(()=>[n(s.SmsTemplates,{targetType:"analysis",targetUid:s.analysisService.uid},null,8,["targetUid"])]),_:1})]),_:1},8,["modelValue"])])):N("",!0)])]),s.showModal?(d(),I(y,{key:0,onClose:e[29]||(e[29]=o=>s.showModal=!1),contentWidth:"w-1/2"},{header:i(()=>[t("h3",os,a(s.formTitle),1)]),body:i(()=>[t("form",ns,[t("div",is,[t("label",ls,[e[88]||(e[88]=t("span",{class:"text-muted-foreground"},"Analysis Service Name",-1)),s.analysisService.keyword?.includes("felicity")?(d(),u("span",rs,a(s.analysisService.name),1)):g((d(),u("input",{key:0,class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[13]||(e[13]=o=>s.analysisService.name=o),placeholder:"Name ..."},null,512)),[[b,s.analysisService.name]])]),t("label",as,[e[89]||(e[89]=t("span",{class:"text-muted-foreground"},"keyword",-1)),s.analysisService.keyword?.includes("felicity")?(d(),u("span",ds,a(s.analysisService.keyword),1)):g((d(),u("input",{key:0,class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[14]||(e[14]=o=>s.analysisService.keyword=o),placeholder:"Keyword ..."},null,512)),[[b,s.analysisService.keyword]])]),g(t("label",us,[e[91]||(e[91]=t("span",{class:"text-muted-foreground"},"Unit",-1)),g(t("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[15]||(e[15]=o=>s.analysisService.unitUid=o)},[e[90]||(e[90]=t("option",null,null,-1)),(d(!0),u(_,null,w(s.units,o=>(d(),u("option",{key:o.uid,value:o?.uid},a(o.name),9,ms))),128))],512),[[P,s.analysisService.unitUid]])],512),[[we,!s.analysisService.keyword?.includes("felicity")]])]),t("div",cs,[t("label",gs,[e[92]||(e[92]=t("span",{class:"text-muted-foreground"},"Sample Types",-1)),n(s.VueMultiselect,{modelValue:s.analysisService.sampleTypes,"onUpdate:modelValue":e[16]||(e[16]=o=>s.analysisService.sampleTypes=o),options:s.sampleTypes,multiple:!0,searchable:!0,label:"name","track-by":"uid",class:"mt-1"},null,8,["modelValue","options"])]),t("label",fs,[e[93]||(e[93]=t("span",{class:"text-muted-foreground"},"Methods",-1)),n(s.VueMultiselect,{modelValue:s.analysisService.methods,"onUpdate:modelValue":e[17]||(e[17]=o=>s.analysisService.methods=o),options:s.methods,multiple:!0,searchable:!0,label:"name","track-by":"uid",class:"mt-1"},null,8,["modelValue","options"])]),t("label",ps,[e[94]||(e[94]=t("span",{class:"text-muted-foreground"},"Description",-1)),s.analysisService.keyword?.includes("felicity")?(d(),u("span",bs,a(s.analysisService.description),1)):g((d(),u("textarea",{key:0,cols:"2",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[18]||(e[18]=o=>s.analysisService.description=o),placeholder:"Description ..."},null,512)),[[b,s.analysisService.description]])])]),t("div",ys,[t("label",vs,[e[96]||(e[96]=t("span",{class:"text-muted-foreground"},"Department",-1)),g(t("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[19]||(e[19]=o=>s.analysisService.departmentUid=o)},[e[95]||(e[95]=t("option",null,null,-1)),(d(!0),u(_,null,w(s.departments,o=>(d(),u("option",{key:o.uid,value:o?.uid},a(o.name),9,xs))),128))],512),[[P,s.analysisService.departmentUid]])]),t("label",Ss,[e[98]||(e[98]=t("span",{class:"text-muted-foreground"},"Analysis Category",-1)),g(t("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[20]||(e[20]=o=>s.analysisService.categoryUid=o)},[e[97]||(e[97]=t("option",null,null,-1)),(d(!0),u(_,null,w(s.analysesCategories,o=>(d(),u("option",{key:o.uid,value:o?.uid},a(o.name),9,_s))),128))],512),[[P,s.analysisService.categoryUid]])]),t("label",ks,[e[99]||(e[99]=t("span",{class:"text-muted-foreground"},"Sort Key",-1)),g(t("input",{type:"number",default:"1",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[21]||(e[21]=o=>s.analysisService.sortKey=o)},null,512),[[b,s.analysisService.sortKey]])]),t("label",ws,[e[100]||(e[100]=t("span",{class:"text-muted-foreground"},"TAT (minutes)",-1)),g(t("input",{type:"number",default:"240",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[22]||(e[22]=o=>s.analysisService.tatLengthMinutes=o)},null,512),[[b,s.analysisService.tatLengthMinutes]])]),t("label",Ts,[e[101]||(e[101]=t("span",{class:"text-muted-foreground"},"Precision",-1)),g(t("input",{type:"number",default:"4",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[23]||(e[23]=o=>s.analysisService.precision=o)},null,512),[[b,s.analysisService.precision]])]),t("label",Us,[e[102]||(e[102]=t("span",{class:"text-muted-foreground"},"Required verifications",-1)),g(t("input",{type:"number",default:"1",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[24]||(e[24]=o=>s.analysisService.requiredVerifications=o)},null,512),[[b,s.analysisService.requiredVerifications]])])]),t("div",Cs,[t("label",Vs,[n(M,{checked:s.analysisService.active,"onUpdate:checked":e[25]||(e[25]=o=>s.analysisService.active=o)},null,8,["checked"]),e[103]||(e[103]=t("span",{class:"text-muted-foreground ml-4"},"Is Active",-1))]),t("label",Ms,[n(M,{checked:s.analysisService.internalUse,"onUpdate:checked":e[26]||(e[26]=o=>s.analysisService.internalUse=o)},null,8,["checked"]),e[104]||(e[104]=t("span",{class:"text-muted-foreground ml-4"},"Internal Use",-1))]),t("label",As,[n(M,{checked:s.analysisService.selfVerification,"onUpdate:checked":e[27]||(e[27]=o=>s.analysisService.selfVerification=o)},null,8,["checked"]),e[105]||(e[105]=t("span",{class:"text-muted-foreground ml-4"},"Allow Self Verifaction",-1))])]),e[106]||(e[106]=t("hr",{class:"border-border my-4"},null,-1)),t("button",{type:"button",onClick:e[28]||(e[28]=o=>s.saveForm()),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])]),_:1})):N("",!0),s.showMappingModal?(d(),I(y,{key:1,onClose:e[35]||(e[35]=o=>s.showMappingModal=!1)},{header:i(()=>[t("h3",Es,a(s.mappingFormTitle),1)]),body:i(()=>[t("form",Fs,[t("div",Ds,[t("label",Ls,[e[108]||(e[108]=t("span",{class:"text-muted-foreground"},"Coding Standard",-1)),g(t("select",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[30]||(e[30]=o=>s.mappingForm.codingStandardUid=o)},[e[107]||(e[107]=t("option",null,null,-1)),(d(!0),u(_,null,w(s.analysisStore.codingStandards,o=>(d(),u("option",{key:o.uid,value:o?.uid},a(o.name),9,Bs))),128))],512),[[P,s.mappingForm.codingStandardUid]])]),t("label",Is,[e[109]||(e[109]=t("span",{class:"text-muted-foreground"},"Standard Name",-1)),g(t("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[31]||(e[31]=o=>s.mappingForm.name=o),placeholder:"Keyword ..."},null,512),[[b,s.mappingForm.name]])]),t("label",Ps,[e[110]||(e[110]=t("span",{class:"text-muted-foreground"},"Standard Code",-1)),g(t("input",{class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[32]||(e[32]=o=>s.mappingForm.code=o),placeholder:"Keyword ..."},null,512),[[b,s.mappingForm.code]])]),t("label",hs,[e[111]||(e[111]=t("span",{class:"text-muted-foreground"},"Standard Description",-1)),g(t("textarea",{cols:"2",class:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-ring mt-1","onUpdate:modelValue":e[33]||(e[33]=o=>s.mappingForm.description=o),placeholder:"Description ..."},null,512),[[b,s.mappingForm.description]])])]),e[112]||(e[112]=t("hr",{class:"border-border my-4"},null,-1)),t("button",{type:"button",onClick:e[34]||(e[34]=o=>s.saveMappingForm()),class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-4 py-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring"}," Save Form ")])]),_:1})):N("",!0)],64)}const Ws=_e(Re,[["render",Rs],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/analyses/services/ServicesAdmin.vue"]]);export{Ws as default};
