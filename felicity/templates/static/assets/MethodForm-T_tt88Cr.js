const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue-multiselect.esm-CZOh13og.js","assets/index-Cdc6vSVw.js","assets/index-B3SP4dh7.css"])))=>i.map(i=>d[i]);
import{a0 as U,f as D,t as F,g as j,a5 as C,h as M,a7 as V,a1 as O,a6 as B,_ as N,c as P,o as R,A as t,F as b,a2 as v,a as A,D as T}from"./index-Cdc6vSVw.js";import{k as K,l as L}from"./instrument.mutations-BXNmdAFX.js";import{u as q}from"./analysis-C80mPHS9.js";import{u as z}from"./setup-CYxvLUvq.js";/* empty css                                                                 */const G=U({__name:"MethodForm",props:{method:Object,methodUid:String,analysis:Object,analysisUid:String},emits:["close"],setup(y,{expose:e,emit:g}){e();const s=O(()=>B(()=>import("./vue-multiselect.esm-CZOh13og.js"),__vite__mapDeps([0,1,2]))),c=q(),d=z(),{withClientMutation:n}=D(),p=y,{method:l,analysis:m}=F(p),a=j({...l?.value});C(()=>p.analysisUid,(i,o)=>{});const f=g,h=M(()=>c.getAnalysesServicesSimple);let r=V([]);m?.value?.uid!==void 0?r.value.push(m.value):h.value?.forEach(i=>{i?.methods?.some(o=>o.uid==l?.value?.uid)&&r.value.push(i)}),d.fetchInstruments();const S=M(()=>d.getInstruments);let u=V([]);const x=()=>{const i=[];return l?.value?.instruments?.forEach(o=>{m?.value?.instruments?.some(I=>I?.uid===o?.uid)&&i.push(o)}),i};u.value=x(),l?.value?.uid!==void 0&&l?.value?.instruments?.forEach(i=>u.value.push(i));function w(){const i={name:a?.name,keyword:a?.keyword,description:a?.description,instruments:u.value?.map(o=>o.uid),analyses:r.value?.map(o=>o.uid)};n(K,{payload:i},"createMethod").then(o=>{f("close"),d.addMethod(o)})}function _(){const i={name:a?.name,keyword:a?.keyword,description:a?.description,instruments:u.value?.map(o=>o.uid),analyses:r.value?.map(o=>o.uid)};n(L,{uid:a?.uid,payload:i},"updateMethod").then(o=>{f("close"),d.updateMethod(o)})}function E(){l?.value?.uid||w(),l?.value?.uid&&_()}const k={VueMultiselect:s,analysisStore:c,setupStore:d,withClientMutation:n,props:p,method:l,analysis:m,form:a,emit:f,analyses:h,get selectedAnalyses(){return r},set selectedAnalyses(i){r=i},instruments:S,get selectedIntsruments(){return u},set selectedIntsruments(i){u=i},getAnalMethInstruments:x,addMethod:w,editMethod:_,saveForm:E};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),H={class:"space-y-4"},J={class:"grid grid-cols-3 gap-4"},Q={class:"col-span-2 space-y-2"},W={class:"space-y-2"},X={class:"space-y-4"},Y={class:"space-y-2"},Z={class:"space-y-2"},$={class:"space-y-2"};function ee(y,e,g,s,c,d){return R(),P("form",{onSubmit:T(s.saveForm,["prevent"]),class:"space-y-4"},[t("div",H,[t("div",J,[t("div",Q,[e[5]||(e[5]=t("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Method Name ",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s.form.name=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter method name..."},null,512),[[v,s.form.name]])]),t("div",W,[e[6]||(e[6]=t("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Keyword ",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s.form.keyword=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter keyword..."},null,512),[[v,s.form.keyword]])])]),t("div",X,[t("div",Y,[e[7]||(e[7]=t("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Analyses ",-1)),A(s.VueMultiselect,{modelValue:s.selectedAnalyses,"onUpdate:modelValue":e[2]||(e[2]=n=>s.selectedAnalyses=n),options:s.analyses,multiple:!0,searchable:!0,label:"name","track-by":"uid",disabled:s.analysis?.uid!=null,class:"multiselect-blue"},null,8,["modelValue","options","disabled"])]),t("div",Z,[e[8]||(e[8]=t("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instruments ",-1)),A(s.VueMultiselect,{modelValue:s.selectedIntsruments,"onUpdate:modelValue":e[3]||(e[3]=n=>s.selectedIntsruments=n),options:s.instruments,multiple:!0,searchable:!0,label:"name","track-by":"uid",class:"multiselect-blue"},null,8,["modelValue","options"])]),t("div",$,[e[9]||(e[9]=t("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Description ",-1)),b(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=n=>s.form.description=n),class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description..."},null,512),[[v,s.form.description]])])])]),e[10]||(e[10]=t("div",{class:"flex justify-end"},[t("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ")],-1))],32)}const ae=N(G,[["render",ee],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/instruments/MethodForm.vue"]]);export{ae as default};
