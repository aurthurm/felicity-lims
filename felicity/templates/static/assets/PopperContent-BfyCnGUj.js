import{a0 as w,a7 as n,ah as G,bF as J,Y as C,bq as k,y as S,be as E,bG as H,A as Q,o as R,K as F,bf as d,bg as W,bH as Z,bI as T,bJ as ee,bK as te,w as re,c as oe,a as ae,a4 as ie,L as ne,bL as se,bM as $,bN as le,bO as de,bP as pe,bQ as ue,bR as ce}from"./index-OdhKCqIc.js";function fe(o){const t=w(),e=n(()=>t.value?.width??0),u=n(()=>t.value?.height??0);return G(()=>{const r=J(o);if(r){t.value={width:r.offsetWidth,height:r.offsetHeight};const c=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const y=a[0];let i,p;if("borderBoxSize"in y){const h=y.borderBoxSize,f=Array.isArray(h)?h[0]:h;i=f.inlineSize,p=f.blockSize}else i=r.offsetWidth,p=r.offsetHeight;t.value={width:i,height:p}});return c.observe(r,{box:"border-box"}),()=>c.unobserve(r)}else t.value=void 0}),{width:e,height:u}}const[N,he]=k("PopperRoot");var ge=C({inheritAttrs:!1,__name:"PopperRoot",setup(o){const t=w();return he({anchor:t,onAnchorChange:e=>t.value=e}),(e,u)=>S(e.$slots,"default")}}),_e=ge,ye=C({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const t=o,{forwardRef:e,currentElement:u}=E(),r=N();return H(()=>{r.onAnchorChange(t.reference??u.value)}),(c,a)=>(R(),Q(d(W),{ref:d(e),as:c.as,"as-child":c.asChild},{default:F(()=>[S(c.$slots,"default")]),_:3},8,["as","as-child"]))}}),Ae=ye;function ve(o){return o!==null}function me(o){return{name:"transformOrigin",options:o,fn(t){const{placement:e,rects:u,middlewareData:r}=t,a=r.arrow?.centerOffset!==0,y=a?0:o.arrowWidth,i=a?0:o.arrowHeight,[p,h]=A(e),f={start:"0%",center:"50%",end:"100%"}[h],b=(r.arrow?.x??0)+y/2,m=(r.arrow?.y??0)+i/2;let s="",g="";return p==="bottom"?(s=a?f:`${b}px`,g=`${-i}px`):p==="top"?(s=a?f:`${b}px`,g=`${u.floating.height+i}px`):p==="right"?(s=`${-i}px`,g=a?f:`${m}px`):p==="left"&&(s=`${u.floating.width+i}px`,g=a?f:`${m}px`),{data:{x:s,y:g}}}}}function A(o){const[t,e="center"]=o.split("-");return[t,e]}const we={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Ce,be]=k("PopperContent");var Pe=C({inheritAttrs:!1,__name:"PopperContent",props:Z({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...we}),emits:["placed"],setup(o,{emit:t}){const e=o,u=t,r=N(),{forwardRef:c,currentElement:a}=E(),y=w(),i=w(),{width:p,height:h}=fe(i),f=n(()=>e.side+(e.align!=="center"?`-${e.align}`:"")),b=n(()=>typeof e.collisionPadding=="number"?e.collisionPadding:{top:0,right:0,bottom:0,left:0,...e.collisionPadding}),m=n(()=>Array.isArray(e.collisionBoundary)?e.collisionBoundary:[e.collisionBoundary]),s=n(()=>({padding:b.value,boundary:m.value.filter(ve),altBoundary:m.value.length>0})),g=n(()=>({mainAxis:e.sideFlip,crossAxis:e.alignFlip})),D=T(()=>[se({mainAxis:e.sideOffset+h.value,alignmentAxis:e.alignOffset}),e.prioritizePosition&&e.avoidCollisions&&$({...s.value,...g.value}),e.avoidCollisions&&le({mainAxis:!0,crossAxis:!!e.prioritizePosition,limiter:e.sticky==="partial"?ce():void 0,...s.value}),!e.prioritizePosition&&e.avoidCollisions&&$({...s.value,...g.value}),de({...s.value,apply:({elements:l,rects:_,availableWidth:Y,availableHeight:K})=>{const{width:V,height:X}=_.reference,P=l.floating.style;P.setProperty("--reka-popper-available-width",`${Y}px`),P.setProperty("--reka-popper-available-height",`${K}px`),P.setProperty("--reka-popper-anchor-width",`${V}px`),P.setProperty("--reka-popper-anchor-height",`${X}px`)}}),i.value&&pe({element:i.value,padding:e.arrowPadding}),me({arrowWidth:p.value,arrowHeight:h.value}),e.hideWhenDetached&&ue({strategy:"referenceHidden",...s.value})]),j=n(()=>e.reference??r.anchor.value),{floatingStyles:q,placement:O,isPositioned:x,middlewareData:v}=ee(j,y,{strategy:e.positionStrategy,placement:f,whileElementsMounted:(...l)=>te(...l,{layoutShift:!e.disableUpdateOnLayoutShift,animationFrame:e.updatePositionStrategy==="always"}),middleware:D}),z=n(()=>A(O.value)[0]),I=n(()=>A(O.value)[1]);H(()=>{x.value&&u("placed")});const L=n(()=>{const l=v.value.arrow?.centerOffset!==0;return e.hideShiftedArrow&&l}),B=w("");re(()=>{a.value&&(B.value=window.getComputedStyle(a.value).zIndex)});const M=n(()=>v.value.arrow?.x??0),U=n(()=>v.value.arrow?.y??0);return be({placedSide:z,onArrowChange:l=>i.value=l,arrowX:M,arrowY:U,shouldHideArrow:L}),(l,_)=>(R(),oe("div",{ref_key:"floatingRef",ref:y,"data-reka-popper-content-wrapper":"",style:ne({...d(q),transform:d(x)?d(q).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B.value,"--reka-popper-transform-origin":[d(v).transformOrigin?.x,d(v).transformOrigin?.y].join(" "),...d(v).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[ae(d(W),ie({ref:d(c)},l.$attrs,{"as-child":e.asChild,as:l.as,"data-side":z.value,"data-align":I.value,style:{animation:d(x)?void 0:"none"}}),{default:F(()=>[S(l.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Se=Pe;export{_e as P,Se as a,Ae as b,we as c,Ce as i};
