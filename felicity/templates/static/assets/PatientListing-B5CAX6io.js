const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DataTable-DLBrhw2Z.js","assets/index-OdhKCqIc.js","assets/index-DD18L2yL.css","assets/TooltipTrigger-BWIYwmnQ.js","assets/PopperContent-BfyCnGUj.js","assets/Input-BEm5S0CJ.js","assets/SelectValue-Ds0cfAgl.js","assets/useNonce-B4v0IDPb.js","assets/chevron-down-Dqf-ptA3.js","assets/useFocusGuards-Bjb6OG0k.js","assets/Spinner-Bl8RfjFA.js"])))=>i.map(i=>d[i]);
import{Y as C,aB as B,a0 as h,av as N,a7 as w,a5 as T,a6 as I,aC as i,aD as u,_ as S,r as L,c as R,o as D,a as o,z as s,K as _,M as k}from"./index-OdhKCqIc.js";import{u as M}from"./patient-BGl7pq_l.js";import{P as A}from"./PageHeading-Czi_4opS.js";const H=C({__name:"PatientListing",setup(P,{expose:n}){n();const f=T(()=>I(()=>import("./DataTable-DLBrhw2Z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])));let t=M();const{patients:l,fetchingPatients:m,patientPageInfo:r}=B(t),b=h([{name:"UID",value:"uid",sortable:!0,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Patient Id",value:"patientId",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,g){return u(i,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:e?.patientId})}},{name:"Full Name",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,g){return u(i,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:d(e)})}},{name:"Age",value:"age",sortable:!1,sortBy:"asc",hidden:!1},{name:"Gender",value:"gender",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client Patient ID",value:"clientPatientId",sortable:!1,sortBy:"asc",hidden:!1},{name:"Province",value:"client.district.province.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"District",value:"client.district.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client",value:"client.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"",value:"",sortable:!1,sortBy:"asc",showInToggler:!1,hidden:!1,customRender:function(e,g){return u(i,{to:{name:"samples-add",params:{patientUid:e?.uid}},class:"px-2 mr-2 border-primary border text-primary rounded-sm transition duration-300 hover:bg-primary hover:text-primary-foreground focus:outline-none",innerHTML:"+ Analysis Request"})}}]);let a=N({first:50,before:"",text:"",sortBy:["-uid"],filterAction:!1});t.fetchPatients(a);let c=h("");function v(e){a.first=100,a.before=r?.value?.endCursor??"",a.text=e.filterText,a.filterAction=!0,c.value=e.filterText,t.fetchPatients(a)}const y=w(()=>l?.value?.length+" of "+t.getPatientCount+" patients");function x(e){a.first=e.fetchCount,a.before=r?.value?.endCursor??"",a.text=e.filterText,a.filterAction=!1,t.fetchPatients(a)}let d=e=>e.firstName+" "+e.lastName;const p={DataTable:f,get patientStore(){return t},set patientStore(e){t=e},patients:l,fetchingPatients:m,patientPageInfo:r,tableColumns:b,get patientParams(){return a},set patientParams(e){a=e},get patientSearch(){return c},set patientSearch(e){c=e},searchPatients:v,countNone:y,showMorePatients:x,get getPatientFullName(){return d},set getPatientFullName(e){d=e},get RouterLink(){return i},PageHeading:A};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),F={class:"space-y-6"},O={class:"rounded-lg border border-border bg-card shadow-sm p-6"},U={class:"space-y-4 p-4"},V={class:"flex justify-start items-center gap-2"},j={class:"text-primary"},E={class:"flex justify-start"};function q(P,n,f,t,l,m){const r=L("font-awesome-icon");return D(),R("div",F,[o(t.PageHeading,{title:"Patients"}),s("div",O,[o(t.DataTable,{columns:t.tableColumns,data:t.patients,toggleColumns:!0,loading:t.fetchingPatients,paginable:!0,pageMeta:{fetchCount:t.patientParams.first,hasNextPage:t.patientPageInfo?.hasNextPage,countNone:t.countNone},searchable:!0,filterable:!1,onOnSearch:t.searchPatients,onOnPaginate:t.showMorePatients,selectable:!1,class:"bg-background rounded-lg shadow-sm"},{footer:_(()=>[s("div",U,[s("div",V,[s("span",j,[o(r,{icon:"fa-info-circle"})]),n[0]||(n[0]=s("p",{class:"text-sm text-muted-foreground italic"}," Click register when you dont find your patient during search* ",-1))]),s("div",E,[o(t.RouterLink,{to:"/patients/register",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:_(()=>[...n[1]||(n[1]=[k(" Register New Patient ",-1)])]),_:1})])])]),_:1},8,["columns","data","loading","pageMeta"])])])}const Y=S(H,[["render",q],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/patient/PatientListing.vue"]]);export{Y as default};
