import{a0 as Q,f as k,a7 as v,g as M,h as A,_ as D,r as b,c as g,o as u,A as e,C as E,E as T,a as _,N as f,P as F,J as h,K as S,L as x,D as j,F as N,a2 as V}from"./index-Cdc6vSVw.js";import{X as B,Y as O}from"./analyses.mutations-DiZ_xJnn.js";import{u as q}from"./analysis-C80mPHS9.js";const I=Q({__name:"QCLevels",setup(y,{expose:t}){t();const i=q(),{withClientMutation:o}=k();let a=v(!1),d=v(""),l=M({});const r=v(!0);i.fetchQCLevels();const c=A(()=>i.getQCLevels);function n(){o(B,{level:l.level},"createQcLevel").then(s=>i.addQcLevel(s))}function m(){o(O,{uid:l.uid,level:l.level},"updateQcLevel").then(s=>i.updateQcLevel(s))}function C(s,w={}){r.value=s,a.value=!0,d.value=(s?"CREATE":"EDIT")+" QC Level",s?Object.assign(l,{}):Object.assign(l,{...w})}function L(){r.value===!0&&n(),r.value===!1&&m(),a.value=!1}const p={analysisStore:i,withClientMutation:o,get showModal(){return a},set showModal(s){a=s},get formTitle(){return d},set formTitle(s){d=s},get form(){return l},set form(s){l=s},formAction:r,qcLevels:c,addQCLevel:n,editQCLevel:m,FormManager:C,saveForm:L};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),P={class:"rounded-md border bg-card p-6 shadow-sm"},U={class:"w-full"},J={class:"w-full caption-bottom text-sm"},K={class:"p-4 align-middle"},R={class:"text-sm font-medium leading-none"},X={class:"p-4 align-middle text-right"},Y=["onClick"],z={class:"text-lg font-semibold leading-none tracking-tight"},G={class:"space-y-2"};function H(y,t,i,o,a,d){const l=b("fel-button"),r=b("fel-heading"),c=b("fel-modal");return u(),g(h,null,[e("div",null,[_(r,{title:"QC Levels"},{default:f(()=>[_(l,{onClick:t[0]||(t[0]=n=>o.FormManager(!0))},{default:f(()=>[...t[4]||(t[4]=[F("Add QC Level",-1)])]),_:1})]),_:1}),e("div",P,[e("div",U,[e("table",J,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Level"),e("th",{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",null,[(u(!0),g(h,null,S(o.qcLevels,n=>(u(),g("tr",{key:n?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",K,[e("span",R,x(n?.level),1)]),e("td",X,[e("button",{onClick:m=>o.FormManager(!1,n),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,Y)])]))),128))])])])])]),o.showModal?(u(),E(c,{key:0,onClose:t[3]||(t[3]=n=>o.showModal=!1)},{header:f(()=>[e("h3",z,x(o.formTitle),1)]),body:f(()=>[e("form",{onSubmit:t[2]||(t[2]=j(n=>o.saveForm(),["prevent"])),class:"space-y-4 p-4"},[e("div",G,[t[6]||(t[6]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," QC Level ",-1)),N(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.form.level=n),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter QC level name..."},null,512),[[V,o.form.level]])]),t[7]||(t[7]=e("button",{type:"submit",class:"inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ",-1))],32)]),_:1})):T("",!0)],64)}const ee=D(I,[["render",H],["__scopeId","data-v-89951d03"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/analyses/QCLevels.vue"]]);export{ee as default};
