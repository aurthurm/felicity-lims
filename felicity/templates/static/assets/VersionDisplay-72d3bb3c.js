import{d as _,r as o,q as h,o as l,c as r,y as s,b as t,t as d,a as v,ab as m,k as y}from"./index-7210a26e.js";const x={class:"flex items-center gap-x-4 p-2 rounded-md"},g={class:"flex items-center gap-x-2"},w={class:"font-medium"},k=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"})],-1),b=[k],V={key:0,class:"flex items-center gap-x-2 text-sky-800 animate-bounce"},C=t("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t("line",{x1:"12",y1:"8",x2:"12",y2:"8"})],-1),D=_({__name:"VersionDisplay",setup(B){const a=o(!1),i=o("0.0.0"),n=o(null),c=o(null),p=async()=>{a.value=!0,v.get("/version").then(({data:{version:e}})=>{i.value=e}).catch(e=>{c.value="Failed to get current version",console.error(e)}).finally(()=>a.value=!1)},{toastInfo:u}=m(),f=async()=>{a.value=!0,v.get("/version/updates").then(({data:e})=>{n.value=e,e.update_available?u(`Update available: ${e.latest_version}`):u("No updates available")}).catch(e=>{c.value="Failed to get current version",console.error(e)}).finally(()=>a.value=!1)};return h(()=>{p()}),(e,M)=>(l(),r("div",x,[s(" Current version "),t("div",g,[t("span",w,d(i.value),1),s(" Refresh button when no update "),n.value?.update_available?s("v-if",!0):(l(),r("button",{key:0,onClick:f,class:"p-1 text-gray-500 hover:text-gray-700 focus:outline-none rounded-full"},[...b]))]),s(" Update available "),n.value?.update_available?(l(),r("div",V,[t("span",null,d(e.latestVersion)+" available",1),C])):s("v-if",!0)]))}}),I=y(D,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/VersionDisplay.vue"]]);export{I as default};
