import{W as k,f as C,a2 as d,h as D,a9 as N,r as b,o as m,c as g,O as t,a as y,M as u,N as M,F as h,H as B,J as w,a7 as f,z as V,C as E,D as F,Z as O,ai as S,L as T,_ as $}from"./index-5d85e9da.js";import{q as j,z,B as I}from"./microbiology.mutations-bbc8c44b.js";const L={class:"space-y-6"},U={class:"rounded-md border border-border shadow-sm bg-card p-6"},q={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-border"},H={class:"divide-y divide-border bg-background"},J={class:"whitespace-nowrap px-3 py-4 text-sm text-foreground"},Q={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},R=["onClick"],W={class:"text-xl font-semibold text-foreground"},Z={class:"grid grid-cols-2 gap-4"},P={class:"block"},X=k({__name:"AbxKingdom",setup(Y){const{withClientMutation:v,withClientQuery:A}=C();let n=d(!1),x=d(""),i=D({});const c=d(!0),a=d([]);N(()=>{A(j,{},"abxKingdomAll").then(o=>{o&&(a.value=o)})});function _(o,e={}){c.value=o,n.value=!0,x.value=(o?"Create":"Edit")+" kingdom",o?Object.assign(i,{}):Object.assign(i,{...e})}function K(){const o={name:i.name};c.value===!0&&v(z,{payload:o},"createAbxKingdom").then(e=>{e&&a.value.unshift(e)}),c.value===!1&&v(I,{uid:i.uid,payload:o},"updateAbxKingdom").then(e=>{if(e){const r=a.value.findIndex(l=>l.uid==e.uid);r>-1&&(a.value=[...a.value.map((l,p)=>p===r?e:l)])}}),n.value=!1}return(o,e)=>{const r=b("fel-button"),l=b("fel-heading"),p=b("fel-modal");return m(),g(h,null,[t("div",L,[y(l,{title:"Kingdoms"},{default:u(()=>[y(r,{onClick:e[0]||(e[0]=s=>_(!0))},{default:u(()=>e[3]||(e[3]=[M("Add Kingdom")])),_:1})]),_:1}),t("div",U,[t("div",q,[t("table",G,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-3.5 text-left text-sm font-semibold text-foreground"},"Name"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",H,[(m(!0),g(h,null,B(a.value,s=>(m(),g("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",J,w(s?.name),1),t("td",Q,[t("button",{onClick:ee=>_(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,R)])]))),128))])])])])]),f(n)?(m(),V(p,{key:0,onClose:e[2]||(e[2]=s=>S(n)?n.value=!1:n=!1),"content-width":"w-1/2"},{header:u(()=>[t("h3",W,w(f(x)),1)]),body:u(()=>[t("form",{onSubmit:E(K,["prevent"]),class:"space-y-6 p-4"},[t("div",Z,[t("label",P,[e[5]||(e[5]=t("span",{class:"text-sm font-medium text-foreground"},"Kingdom Name",-1)),F(t("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>f(i).name=s),placeholder:"Name ..."},null,512),[[O,f(i).name]])])]),e[6]||(e[6]=t("hr",{class:"border-border"},null,-1)),e[7]||(e[7]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Kingdom ",-1))],32)]),_:1})):T("",!0)],64)}}});const se=$(X,[["__scopeId","data-v-f35e5a63"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxKingdom.vue"]]);export{se as default};
