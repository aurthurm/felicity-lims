import{a0 as w,f as k,a7 as c,g as C,h as M,aN as N,aO as F,_ as T,r as p,c as b,o as m,A as e,C as E,E as S,a as _,N as u,P as j,J as h,K as A,L as x,F as O,a2 as V,D as B}from"./index-CNAOKjig.js";import{u as L}from"./setup-Cw0fY--X.js";const P=w({__name:"Departments",setup(y,{expose:t}){t();const a=L(),{withClientMutation:o}=k();let i=c(!1),d=c(""),r=C({});const l=c(!0);a.fetchDepartments({});const f=M(()=>a.getDepartments);function n(s,D){l.value=s,i.value=!0,d.value=(s?"CREATE":"EDIT")+" Department",s?Object.assign(r,{...new Object}):Object.assign(r,{...D})}function g(){l.value===!0?o(N,{payload:{name:r.name}},"createDepartment").then(s=>a.addDepartment(s)):o(F,{uid:r.uid,payload:{name:r.name}},"updateDepartment").then(s=>a.updateDepartment(s)),i.value=!1}const v={setupStore:a,withClientMutation:o,get showModal(){return i},set showModal(s){i=s},get formTitle(){return d},set formTitle(s){d=s},get form(){return r},set form(s){r=s},formAction:l,departments:f,FormManager:n,saveForm:g};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),U={class:"space-y-6"},I={class:"rounded-md border bg-card"},J={class:"relative w-full overflow-auto"},K={class:"w-full caption-bottom text-sm"},R={class:"[&_tr:last-child]:border-0"},q={class:"px-4 py-2 align-middle"},z={class:"px-4 py-2 align-middle text-right"},G=["onClick"],H={class:"text-lg font-semibold text-foreground"},Q={class:"space-y-6"},W={class:"space-y-2"};function X(y,t,a,o,i,d){const r=p("fel-button"),l=p("fel-heading"),f=p("fel-modal");return m(),b(h,null,[e("div",U,[_(l,{title:"Departments"},{default:u(()=>[_(r,{onClick:t[0]||(t[0]=n=>o.FormManager(!0,null))},{default:u(()=>[...t[4]||(t[4]=[j("Add Department",-1)])]),_:1})]),_:1}),e("div",I,[e("div",J,[e("table",K,[t[5]||(t[5]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Name"),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"})])],-1)),e("tbody",R,[(m(!0),b(h,null,A(o.departments,n=>(m(),b("tr",{key:n?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",q,x(n?.name),1),e("td",z,[e("button",{onClick:g=>o.FormManager(!1,n),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"}," Edit ",8,G)])]))),128))])])])])]),o.showModal?(m(),E(f,{key:0,onClose:t[3]||(t[3]=n=>o.showModal=!1)},{header:u(()=>[e("h3",H,x(o.formTitle),1)]),body:u(()=>[e("form",Q,[e("div",W,[t[6]||(t[6]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Department Name ",-1)),O(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=n=>o.form.name=n),placeholder:"Name ..."},null,512),[[V,o.form.name]])]),t[7]||(t[7]=e("hr",{class:"border-border"},null,-1)),e("button",{type:"button",onClick:t[2]||(t[2]=B(n=>o.saveForm(),["prevent"])),class:"inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Form ")])]),_:1})):S("",!0)],64)}const $=T(P,[["render",X],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/laboratory/Departments.vue"]]);export{$ as default};
