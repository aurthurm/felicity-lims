import{d as Y,I as Z,r as u,n as P,p as g,at as ee,q as se,o as E,c as oe,b as e,g as p,z as v,f as l,y as le,t as ae,w as te,e as i,v as d,ae as ne,i as ie,B as de,F as ue,j as k,_ as C,a6 as M,D as re,E as me,k as ce}from"./index-ad4ed84b.js";import{d as pe,e as fe,f as be,g as ge,h as he,i as ye,j as _e,k as xe,l as ve}from"./microbiology.mutations-40ac8c55.js";const n=h=>(re("data-v-4d09f0a0"),h=h(),me(),h),ke={class:"w-full my-4"},Ce=n(()=>e("hr",null,null,-1)),Be=n(()=>e("hr",null,null,-1)),Ae={class:"mb-6"},Ge=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Basic Information",-1)),Oe={class:"grid grid-cols-2 gap-4"},we={class:"block"},Ve=n(()=>e("span",{class:"text-gray-700"},"Organism Name",-1)),Te={class:"block"},Ue=n(()=>e("span",{class:"text-gray-700"},"WHONET Code",-1)),Ie={class:"block"},De=n(()=>e("span",{class:"text-gray-700"},"Replaced By",-1)),Se={class:"block"},Fe=n(()=>e("span",{class:"text-gray-700"},"Taxonomic Status",-1)),Pe={class:"mb-6"},Ee=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Classification",-1)),Me={class:"grid grid-cols-2 gap-4"},Ne={class:"block"},Re=n(()=>e("span",{class:"text-gray-700"},"Common",-1)),je={class:"block"},Ke=n(()=>e("span",{class:"text-gray-700"},"Organism Type",-1)),Le={class:"block"},He=n(()=>e("span",{class:"text-gray-700"},"Anaerobe",-1)),qe={class:"block"},ze=n(()=>e("span",{class:"text-gray-700"},"Morphology",-1)),We={class:"mb-6"},$e=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Taxonomy",-1)),Qe={class:"grid grid-cols-2 gap-4"},Je={class:"block"},Xe=n(()=>e("span",{class:"text-gray-700"},"Subkingdom Code",-1)),Ye={class:"block"},Ze=n(()=>e("span",{class:"text-gray-700"},"Family Code",-1)),es={class:"block"},ss=n(()=>e("span",{class:"text-gray-700"},"Genus Group",-1)),os={class:"block"},ls=n(()=>e("span",{class:"text-gray-700"},"Genus Code",-1)),as={class:"block"},ts=n(()=>e("span",{class:"text-gray-700"},"Species Group",-1)),ns={class:"block"},is=n(()=>e("span",{class:"text-gray-700"},"Serovar Group",-1)),ds={class:"mb-6"},us=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),rs={class:"grid grid-cols-2 gap-4"},ms={class:"block"},cs=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxon ID",-1)),ps={class:"block"},fs=n(()=>e("span",{class:"text-gray-700"},"GBIF Dataset ID",-1)),bs={class:"block"},gs=n(()=>e("span",{class:"text-gray-700"},"GBIF Taxonomic Status",-1)),hs={class:"mb-6"},ys=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Additional Details",-1)),_s={class:"grid grid-cols-2 gap-4"},xs={class:"block"},vs=n(()=>e("span",{class:"text-gray-700"},"Kingdom",-1)),ks={class:"block"},Cs=n(()=>e("span",{class:"text-gray-700"},"Phylum",-1)),Bs={class:"grid grid-cols-2 gap-4"},As={class:"block"},Gs=n(()=>e("span",{class:"text-gray-700"},"Class",-1)),Os={class:"block"},ws=n(()=>e("span",{class:"text-gray-700"},"Order",-1)),Vs={class:"grid grid-cols-2 gap-4"},Ts={class:"block"},Us=n(()=>e("span",{class:"text-gray-700"},"Family",-1)),Is={class:"block"},Ds=n(()=>e("span",{class:"text-gray-700"},"Genus",-1)),Ss={class:"mb-6"},Fs=n(()=>e("h4",{class:"text-lg font-semibold mb-4"},"Comments",-1)),Ps={class:"block"},Es=n(()=>e("span",{class:"text-gray-700"},"Additional Comments",-1)),Ms=n(()=>e("hr",{class:"my-6"},null,-1)),Ns=n(()=>e("button",{type:"submit",class:"w-full bg-sky-800 text-white rounded-md px-4 py-2 transition-colors duration-300 ease-in-out hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500"}," Save Organism ",-1)),Rs=Y({__name:"AbxOrganism",setup(h){const N=k(()=>C(()=>import("./FelModal-fa927fb9.js"),["assets/FelModal-fa927fb9.js","assets/index-ad4ed84b.js","assets/index-3e01f4af.css","assets/FelModal-780aeea9.css"])),R=k(()=>C(()=>import("./FelDataTable-a0186d70.js"),["assets/FelDataTable-a0186d70.js","assets/index-ad4ed84b.js","assets/index-3e01f4af.css"])),f=k(()=>C(()=>import("./vue-multiselect.esm-d864d16c.js"),["assets/vue-multiselect.esm-d864d16c.js","assets/index-ad4ed84b.js","assets/index-3e01f4af.css"])),{withClientMutation:B,withClientQuery:c}=Z();let b=u(!1),A=u(""),s=P({});const _=u(!0),G=u(!1),m=u([]),O=u([]),w=u([]),j=g(()=>w.value.filter(t=>t.kingdomUid===s.kingdom?.uid)),V=u([]),K=g(()=>V.value.filter(t=>t.phylumUid===s.phylum?.uid)),T=u([]),L=g(()=>T.value.filter(t=>t.classUid===s.class?.uid)),U=u([]),H=g(()=>U.value.filter(t=>t.orderUid===s.order?.uid)),I=u([]),q=g(()=>I.value.filter(t=>t.familyUid===s.family?.uid));let r=P({first:50,after:"",text:"",sortBy:["name"],filterAction:!1});const D=u(0);let S=u({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1});const z=g(()=>m?.value?.length+" of "+D.value+" organisms"),W=u([{name:"UID",value:"uid",sortable:!1,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Name",value:"name",sortable:!1,sortBy:"asc",hidden:!1},{name:"whonetOrgCode",value:"whonetOrgCode",sortable:!1,sortBy:"asc",hidden:!1},{name:"replacedBy",value:"replacedBy",sortable:!1,sortBy:"asc",hidden:!0},{name:"taxonomicStatus",value:"taxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"common",value:"common",sortable:!1,sortBy:"asc",hidden:!0},{name:"organismType",value:"organismType",sortable:!1,sortBy:"asc",hidden:!1},{name:"anaerobe",value:"anaerobe",sortable:!1,sortBy:"asc",hidden:!1},{name:"morphology",value:"morphology",sortable:!1,sortBy:"asc",hidden:!0},{name:"subkingdomCode",value:"subkingdomCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"familyCode",value:"familyCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusGroup",value:"genusGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"genusCode",value:"genusCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"speciesGroup",value:"speciesGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"serovarGroup",value:"serovarGroup",sortable:!1,sortBy:"asc",hidden:!0},{name:"msfGrpClin",value:"msfGrpClin",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctCode",value:"sctCode",sortable:!1,sortBy:"asc",hidden:!0},{name:"sctText",value:"sctText",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonId",value:"gbifTaxonId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifDatasetId",value:"gbifDatasetId",sortable:!1,sortBy:"asc",hidden:!0},{name:"gbifTaxonomicStatus",value:"gbifTaxonomicStatus",sortable:!1,sortBy:"asc",hidden:!0},{name:"kingdom",value:"kingdom.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"phylum",value:"phylum.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"class",value:"class_.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"order",value:"order.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"family",value:"family.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"genus",value:"genus.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(t,o){return ee("button",{type:"button",class:"bg-sky-800 text-white py-1 px-2 rounded-sm leading-none",innerHTML:"Edit",onClick:()=>F(!1,t)},[])}}]);function x(t){c(_e,{text:t.text,pageSize:t.first,sortBy:t.sortBy},void 0).then(o=>{const a=o.abxOrganismAll,y=a.items;t.filterAction?(m.value=[],m.value=y):m.value=M(m.value,y,"uid"),D.value=a?.totalCount,S.value=a?.pageInfo}).finally(()=>{G.value=!1})}se(()=>{x(r),c(pe,{},"abxOrderAll").then(t=>{t&&(T.value=t)}),c(fe,{},"abxFamilyAll").then(t=>{t&&(U.value=t)}),c(be,{},"abxKingdomAll").then(t=>{t&&(O.value=t)}),c(ge,{},"abxPhylumAll").then(t=>{t&&(w.value=t)}),c(he,{},"abxGenusAll").then(t=>{t&&(I.value=t)}),c(ye,{},"abxClassAll").then(t=>{t&&(V.value=t)})});function $(t){r.first=100,r.after="",r.text=t.filterText,r.filterAction=!0,x(r)}function Q(t){r.first=t.fetchCount,r.after=S?.value?.endCursor,r.text=t.filterText,r.filterAction=!1,x(r)}const J=()=>Object.assign(s,{});function F(t,o={}){_.value=t,b.value=!0,A.value=(t?"Create":"Edit")+" Organism",t?Object.assign(s,{}):Object.assign(s,{...o})}function X(){const t={name:s?.name,whonetOrgCode:s?.whonetOrgCode,replacedBy:s?.replacedBy,taxonomicStatus:s?.taxonomicStatus,common:s?.common,organismType:s?.organismType,anaerobe:s?.anaerobe,morphology:s?.morphology,subkingdomCode:s?.subkingdomCode,familyCode:s?.familyCode,genusGroup:s?.genusGroup,genusCode:s?.genusCode,speciesGroup:s?.speciesGroup,serovarGroup:s?.serovarGroup,msfGrpClin:s?.msfGrpClin,sctCode:s?.sctCode,sctText:s?.sctText,gbifTaxonId:s?.gbifTaxonId,gbifDatasetId:s?.gbifDatasetId,gbifTaxonomicStatus:s?.gbifTaxonomicStatus,kingdomUid:s?.kingdom?.uid,phylumUid:s?.phylum?.uid,classUid:s?.class?.uid,orderUid:s?.order?.uid,familyUid:s?.family?.uid,genusUid:s?.genus?.uid,comments:s?.comments};_.value===!0&&B(xe,{payload:t},"createAbxOrganism").then(o=>{o&&(m.value=M(m.value,[o],"uid"))}),_.value===!1&&B(ve,{uid:s.uid,payload:t},"updateAbxOrganism").then(o=>{if(o){const a=m.value.findIndex(y=>y.uid==o.uid);m.value[a]=o}}),b.value=!1}return(t,o)=>(E(),oe(ue,null,[e("div",ke,[Ce,e("button",{onClick:o[0]||(o[0]=a=>F(!0)),class:"px-2 py-1 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"}," Add Organism "),Be,p(l(R),{columns:W.value,data:m.value,toggleColumns:!0,loading:G.value,paginable:!0,pageMeta:{fetchCount:l(r).first,hasNextPage:!0,countNone:z.value},searchable:!0,filterable:!1,onOnSearchKeyUp:$,onOnSearchFocus:J,onOnPaginate:Q,selectable:!1},{footer:v(()=>[]),_:1},8,["columns","data","loading","pageMeta"])]),l(b)?(E(),le(l(N),{key:0,onClose:o[25]||(o[25]=a=>ie(b)?b.value=!1:b=!1),"content-width":"w-1/2"},{header:v(()=>[e("h3",null,ae(l(A)),1)]),body:v(()=>[e("form",{onSubmit:te(X,["prevent"]),class:"p-4"},[e("div",Ae,[Ge,e("div",Oe,[e("label",we,[Ve,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=a=>l(s).name=a),placeholder:"Enter organism name"},null,512),[[d,l(s).name]])]),e("label",Te,[Ue,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[2]||(o[2]=a=>l(s).whonetOrgCode=a),placeholder:"WHONET code"},null,512),[[d,l(s).whonetOrgCode]])]),e("label",Ie,[De,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[3]||(o[3]=a=>l(s).replacedBy=a),placeholder:"Replaced by"},null,512),[[d,l(s).replacedBy]])]),e("label",Se,[Fe,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[4]||(o[4]=a=>l(s).taxonomicStatus=a),placeholder:"Taxonomic status"},null,512),[[d,l(s).taxonomicStatus]])])])]),e("div",Pe,[Ee,e("div",Me,[e("label",Ne,[Re,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[5]||(o[5]=a=>l(s).common=a),placeholder:"Common"},null,512),[[d,l(s).common]])]),e("label",je,[Ke,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[6]||(o[6]=a=>l(s).organismType=a),placeholder:"Organism type"},null,512),[[d,l(s).organismType]])]),e("label",Le,[He,i(e("input",{type:"checkbox",class:"form-checkbox mt-1","onUpdate:modelValue":o[7]||(o[7]=a=>l(s).anaerobe=a)},null,512),[[ne,l(s).anaerobe]])]),e("label",qe,[ze,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[8]||(o[8]=a=>l(s).morphology=a),placeholder:"Morphology"},null,512),[[d,l(s).morphology]])])])]),e("div",We,[$e,e("div",Qe,[e("label",Je,[Xe,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[9]||(o[9]=a=>l(s).subkingdomCode=a),placeholder:"Subkingdom code"},null,512),[[d,l(s).subkingdomCode]])]),e("label",Ye,[Ze,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[10]||(o[10]=a=>l(s).familyCode=a),placeholder:"Family code"},null,512),[[d,l(s).familyCode]])]),e("label",es,[ss,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[11]||(o[11]=a=>l(s).genusGroup=a),placeholder:"Genus group"},null,512),[[d,l(s).genusGroup]])]),e("label",os,[ls,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[12]||(o[12]=a=>l(s).genusCode=a),placeholder:"Genus code"},null,512),[[d,l(s).genusCode]])]),e("label",as,[ts,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[13]||(o[13]=a=>l(s).speciesGroup=a),placeholder:"Species group"},null,512),[[d,l(s).speciesGroup]])]),e("label",ns,[is,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[14]||(o[14]=a=>l(s).serovarGroup=a),placeholder:"Serovar group"},null,512),[[d,l(s).serovarGroup]])])])]),e("div",ds,[us,e("div",rs,[e("label",ms,[cs,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[15]||(o[15]=a=>l(s).gbifTaxonId=a),placeholder:"GBIF Taxon ID"},null,512),[[d,l(s).gbifTaxonId]])]),e("label",ps,[fs,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[16]||(o[16]=a=>l(s).gbifDatasetId=a),placeholder:"GBIF Dataset ID"},null,512),[[d,l(s).gbifDatasetId]])]),e("label",bs,[gs,i(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[17]||(o[17]=a=>l(s).gbifTaxonomicStatus=a),placeholder:"GBIF Taxonomic Status"},null,512),[[d,l(s).gbifTaxonomicStatus]])])])]),e("div",hs,[ys,e("div",_s,[e("label",xs,[vs,p(l(f),{modelValue:l(s).kingdom,"onUpdate:modelValue":o[18]||(o[18]=a=>l(s).kingdom=a),options:O.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",ks,[Cs,p(l(f),{modelValue:l(s).phylum,"onUpdate:modelValue":o[19]||(o[19]=a=>l(s).phylum=a),options:j.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",Bs,[e("label",As,[Gs,p(l(f),{modelValue:l(s).class_,"onUpdate:modelValue":o[20]||(o[20]=a=>l(s).class_=a),options:K.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Os,[ws,p(l(f),{modelValue:l(s).Order,"onUpdate:modelValue":o[21]||(o[21]=a=>l(s).Order=a),options:L.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])]),e("div",Vs,[e("label",Ts,[Us,p(l(f),{modelValue:l(s).family,"onUpdate:modelValue":o[22]||(o[22]=a=>l(s).family=a),options:H.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])]),e("label",Is,[Ds,p(l(f),{modelValue:l(s).genus,"onUpdate:modelValue":o[23]||(o[23]=a=>l(s).genus=a),options:q.value,multiple:!1,searchable:!0,label:"name"},null,8,["modelValue","options"])])])]),e("div",Ss,[Fs,e("label",Ps,[Es,i(e("textarea",{class:"form-textarea mt-1 block w-full","onUpdate:modelValue":o[24]||(o[24]=a=>l(s).comments=a),rows:"3",placeholder:"Additional comments..."},null,512),[[d,l(s).comments]])])]),Ms,Ns],32)]),_:1})):de("",!0)],64))}});const Ls=ce(Rs,[["__scopeId","data-v-4d09f0a0"],["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/microbiology/organism/AbxOrganism.vue"]]);export{Ls as default};
