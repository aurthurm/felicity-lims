import{V as H,aa as z,W as K,a1 as _,X as U,a5 as W,i as S,f as q,ab as G,a8 as M,a9 as n,r as w,o as u,c as f,O as o,L as i,a as t,M as p,a6 as s,D as g,E as v,F as k,H as A,z as Q,J as b,ac as I,N as J,$ as X,a0 as Y,_ as Z}from"./index-74595aff.js";import{u as ee}from"./notification-0c31e9fc.js";const oe={id:"main-nav",class:"flex items-center px-6 bg-primary border-b border-border",role:"navigation","aria-label":"Main Navigation"},re={class:"flex-1"},te={class:"flex text-right align-middle"},ne=["aria-expanded"],se={class:"grid grid-cols-3 gap-4",role:"menu","aria-label":"Main Menu"},ie={class:"mr-4","aria-hidden":"true"},ae={class:"text-lg font-medium"},le={class:"flex items-center space-x-4"},ue={class:"bg-destructive text-destructive-foreground text-xs rounded-full px-2 py-1"},de={key:1,class:"border-l border-border h-6","aria-hidden":"true"},ce={class:"px-4 flex text-right items-center relative"},fe={class:"flex justify-center items-center h-8 w-8 rounded-full border-2 border-border hover:border-primary text-primary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary cursor-pointer","aria-hidden":"true",tabindex:"0"},me={class:"relative"},pe=["aria-expanded"],ge={class:"text-lg font-medium uppercase"},ve=["aria-label"],be={class:"flex items-center justify-between"},xe={key:0,class:"text-muted-foreground italic"},he={key:1,"aria-label":"Error messages",class:"divide-y divide-border"},ye={class:"block whitespace-pre-wrap"},_e=H({__name:"NavigationMain",setup(we){const T=X(()=>Y(()=>import("./Logo-45c1ef07.js"),["assets/Logo-45c1ef07.js","assets/index-74595aff.js","assets/index-8412b2a5.css"])),{isFullscreen:N,toggle:E}=z(),L=K(),l=_(!1),d=_(!1);U(()=>L.currentRoute.value,(c,e)=>{c.path!==e?.path&&(l.value=!1,d.value=!1)});const x=W(),$=S(()=>{const c=x.auth?.user?.firstName||"",e=x.auth?.user?.lastName||"";return`${c} ${e}`.trim()}),{errors:m,clearErrors:P}=q(),h=_(!1),O=ee(),R=c=>O.showNotifications(c),{loadPreferedTheme:D}=G();M(()=>{D()});const B=S(()=>[{id:"patients-compact",label:"Compact",icon:"bullseye",route:"/patients-compact",guard:n.PATIENTS_COMPACT},{id:"patients",label:"Patients",icon:"user-injured",route:"/patients",guard:n.PATIENTS},{id:"clients",label:"Clients",icon:"clinic-medical",route:"/clients",guard:n.CLIENTS},{id:"samples",label:"Samples",icon:"vial",route:"/samples",guard:n.SAMPLES},{id:"worksheets",label:"WorkSheets",icon:"grip-vertical",route:"/worksheets",guard:n.WORKSHEETS},{id:"quality-control",label:"QControl",icon:"anchor",route:"/quality-control",guard:n.QC_SAMPLES},{id:"notice-manager",label:"NoticeManager",icon:"bell",route:"/notice-manager",guard:n.NOTICE_MANAGER},{id:"bio-banking",label:"BioBanking",icon:"database",route:"/bio-banking",guard:n.BIO_BANKING},{id:"shipments",label:"Referrals",icon:"truck",route:"/shipments",guard:n.REFERRAL},{id:"inventory",label:"Inventory",icon:"fa-solid fa-boxes-stacked",route:"/inventory",guard:n.INVENTORY},{id:"schemes",label:"Projects",icon:"project-diagram",route:"/schemes",guard:n.SCHEMES},{id:"documents",label:"Documents",icon:"file",route:"/documents",guard:n.DOCUMENT}]),F=()=>{l.value=!1,d.value=!1},V=c=>{c.key==="Escape"&&F()};return M(()=>{document.addEventListener("keydown",V)}),(c,e)=>{const y=w("router-link"),a=w("font-awesome-icon"),j=w("fel-drawer");return u(),f(k,null,[o("nav",oe,[i(" Brand and menu section "),o("div",re,[o("div",te,[i(" Logo and brand name "),t(y,{to:"/",id:"brand",class:"flex items-center md:w-auto text-primary-foreground/80 hover:text-primary-foreground transition-colors","aria-label":"Felicity LIMS Home"},{default:p(()=>[t(s(T)),e[11]||(e[11]=o("h1",{class:"text-left text-2xl font-medium mx-2"},"Felicity LIMS",-1))]),_:1}),e[13]||(e[13]=o("span",{class:"mx-8 border-l border-border my-2","aria-hidden":"true"},null,-1)),i(" Main menu dropdown trigger "),o("button",{onClick:e[0]||(e[0]=r=>l.value=!l.value),class:"hidden md:flex md:items-center focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md p-2","aria-expanded":l.value,"aria-controls":"main-menu"},[e[12]||(e[12]=o("span",{class:"text-xl font-medium mr-2 text-primary-foreground/80 hover:text-primary-foreground uppercase"},"Menu",-1)),t(a,{icon:l.value?"chevron-up":"chevron-down",class:"text-muted-foreground transition-transform duration-200","aria-hidden":"true"},null,8,["icon"])],8,ne),i(" Main menu dropdown content "),g(o("div",{id:"main-menu",class:"absolute left-64 top-12 mt-1 p-4 w-1/2 bg-primary rounded-md shadow-lg border border-border z-20",onClick:e[2]||(e[2]=r=>l.value=!1)},[o("div",se,[(u(!0),f(k,null,A(B.value,r=>g((u(),Q(y,{key:r.id,to:r.route,id:`${r.id}-link`,class:"flex items-center py-2 px-4 text-primary-foreground hover:bg-accent hover:text-accent-foreground rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",role:"menuitem",onClick:e[1]||(e[1]=C=>l.value=!1)},{default:p(()=>[o("span",ie,[t(a,{icon:r.icon},null,8,["icon"])]),o("span",ae,b(r.label),1)]),_:2},1032,["to","id"])),[[v,I(r.guard)]])),128))])],512),[[v,l.value]])])]),i(" User section and actions "),o("div",le,[i(" Errors button "),s(m).length>0?(u(),f("button",{key:0,class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[3]||(e[3]=r=>h.value=!0),"aria-label":"Show errors"},[t(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[14]||(e[14]=o("span",{class:"text-lg font-medium mr-2 uppercase"},"Errors",-1)),o("span",ue,b(s(m).length),1)])):i("v-if",!0),s(m).length>0?(u(),f("span",de)):i("v-if",!0),i(" Notifications button "),o("button",{class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md",onClick:e[4]||(e[4]=r=>R(!0)),"aria-label":"Show notifications"},[t(a,{icon:"bell",class:"mr-2","aria-hidden":"true"}),e[15]||(e[15]=o("span",{class:"text-lg font-medium uppercase"},"Notifications",-1))]),e[18]||(e[18]=o("span",{class:"border-l border-border h-6","aria-hidden":"true"},null,-1)),i(" Admin settings link "),g(t(y,{to:"/admin",class:"flex items-center px-4 py-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md","aria-label":"Settings"},{default:p(()=>[t(a,{icon:"cog",class:"mr-2","aria-hidden":"true"}),e[16]||(e[16]=o("span",{class:"text-lg font-medium uppercase"},"Settings",-1))]),_:1},512),[[v,I(n.ADMINISTRATION)]]),o("div",ce,[o("span",fe,[t(a,{icon:"user"})]),o("div",me,[o("button",{onClick:e[5]||(e[5]=r=>d.value=!d.value),class:"text-primary-foreground/80 hover:text-primary-foreground hidden md:flex md:items-center ml-2 focus:outline-none rounded-lg p-1 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-primary","aria-expanded":d.value,"aria-controls":"user-menu"},[o("span",ge,b($.value),1),t(a,{icon:d.value?"chevron-up":"chevron-down",class:"ml-2 text-primary-foreground/80 transition-transform","aria-hidden":"true"},null,8,["icon"])],8,pe),g(o("div",{id:"user-menu",class:"absolute right-0 top-11 py-2 w-48 bg-popover text-popover-foreground rounded-lg shadow-xl z-20",onClick:e[7]||(e[7]=r=>d.value=!1),role:"menu"},[o("button",{onClick:e[6]||(e[6]=r=>s(x).logout()),class:"w-full text-left cursor-pointer py-2 px-4 flex items-center hover:bg-primary hover:text-primary-foreground uppercase transition-colors focus:outline-none focus:bg-accent focus:text-accent-foreground rounded",role:"menuitem"},[t(a,{icon:"sign-out-alt",class:"mr-2","aria-hidden":"true"}),e[17]||(e[17]=J(" Log out "))])],512),[[v,d.value]])])]),o("button",{onClick:e[8]||(e[8]=(...r)=>s(E)&&s(E)(...r)),class:"flex items-center p-2 text-primary-foreground/80 hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded-md","aria-label":s(N)?"Exit fullscreen":"Enter fullscreen"},[t(a,{icon:s(N)?"compress":"expand"},null,8,["icon"])],8,ve)])]),i(" Error drawer "),t(j,{show:h.value,onClose:e[10]||(e[10]=r=>h.value=!1)},{header:p(()=>[o("div",be,[e[19]||(e[19]=o("h3",{class:"font-semibold text-lg"},"Errors List",-1)),o("button",{class:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-secondary transition-colors focus:outline-none",onClick:e[9]||(e[9]=r=>s(P)()),"aria-label":"Clear all errors"},[t(a,{icon:"trash-alt",class:"w-5 h-5","aria-hidden":"true"})])])]),body:p(()=>[s(m).length===0?(u(),f("p",xe,"No errors to display")):(u(),f("ul",he,[(u(!0),f(k,null,A(s(m),(r,C)=>(u(),f("li",{key:C,class:"mb-2 p-3 bg-background rounded text-sm border-l-4 border-destructive"},[o("code",ye,b(r),1)]))),128))]))]),_:1},8,["show"])],64)}}}),Ee=Z(_e,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/components/nav/NavigationMain.vue"]]);export{Ee as default};
