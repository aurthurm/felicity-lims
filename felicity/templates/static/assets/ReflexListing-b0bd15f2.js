import{V as N,f as V,a1 as c,h as F,a8 as T,r as d,o as u,c as m,O as t,a as p,M as i,N as v,F as R,H as S,J as x,a6 as l,L as _,z as B,C as U,D as h,Y as w,ae as O,_ as $}from"./index-0a787601.js";import{u as j,A as z,E as H}from"./reflex.mutations-cb4380e4.js";const I={class:"space-y-6"},J={class:"rounded-md border border-border bg-card p-6"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-border"},q={class:"divide-y divide-border bg-background"},G={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},K={class:"whitespace-nowrap px-4 py-2 text-sm text-foreground"},P={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Q=["onClick"],W={class:"text-xl font-semibold text-foreground"},Z={class:"grid grid-cols-1 gap-4"},ee={class:"block"},te={class:"block"},oe=N({__name:"ReflexListing",setup(se){const{withClientMutation:b}=V(),a=j();let n=c(!1),g=c(""),o=F({});const f=c(!0);T(async()=>{a.fetchAllReflexRules()});function k(){const r={name:o.name,description:o.description};b(z,{payload:r},"createReflexRule").then(e=>a.addReflexRule(e))}function C(){const r={name:o.name,description:o.description};b(H,{uid:o.uid,payload:r},"updateReflexRule").then(e=>a.updateReflexRule(e))}function y(r,e={}){f.value=r,n.value=!0,g.value=(r?"CREATE":"EDIT")+" REFLEX RULE",r?Object.assign(o,{}):Object.assign(o,{...e})}function D(){f.value===!0&&k(),f.value===!1&&C(),n.value=!1}return(r,e)=>{const E=d("fel-button"),A=d("fel-heading"),M=d("router-link"),L=d("fel-modal");return u(),m(R,null,[t("div",I,[p(A,{title:"Reflex Rules"},{default:i(()=>[p(E,{onClick:e[0]||(e[0]=s=>y(!0))},{default:i(()=>e[4]||(e[4]=[v("Add Reflex Rule")])),_:1})]),_:1}),t("div",J,[t("div",X,[t("table",Y,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Title"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-foreground"},"Description"),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",q,[(u(!0),m(R,null,S(l(a).reflexRules,s=>(u(),m("tr",{key:s?.uid,class:"hover:bg-muted/50"},[t("td",G,[p(M,{to:{name:"reflex-detail",params:{uid:s?.uid}},class:"text-primary hover:text-primary/80"},{default:i(()=>[v(x(s?.name),1)]),_:2},1032,["to"])]),t("td",K,x(s?.description),1),t("td",P,[t("button",{onClick:re=>y(!1,s),class:"text-primary hover:text-primary/80"}," Edit ",8,Q)])]))),128))])])])])]),_(" Reflex Rule Edit Form Modal "),l(n)?(u(),B(L,{key:0,onClose:e[3]||(e[3]=s=>O(n)?n.value=!1:n=!1),"content-width":"w-1/2"},{header:i(()=>[t("h3",W,x(l(g)),1)]),body:i(()=>[t("form",{onSubmit:U(D,["prevent"]),class:"space-y-6 p-4"},[t("div",Z,[t("label",ee,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-foreground"},"Name",-1)),h(t("input",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[1]||(e[1]=s=>l(o).name=s),placeholder:"Name ..."},null,512),[[w,l(o).name]])]),t("label",te,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),h(t("textarea",{class:"mt-1 block w-full rounded-md border-border shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50","onUpdate:modelValue":e[2]||(e[2]=s=>l(o).description=s),placeholder:"Description ...",rows:"3"},null,512),[[w,l(o).description]])])]),e[8]||(e[8]=t("hr",{class:"border-border"},null,-1)),e[9]||(e[9]=t("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2 transition-colors duration-200 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Reflex Rule ",-1))],32)]),_:1})):_("v-if",!0)],64)}}}),ie=$(oe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/reflex/ReflexListing.vue"]]);export{ie as default};
