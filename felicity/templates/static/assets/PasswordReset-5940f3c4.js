import{d as R,l as C,s as P,r as v,n as T,p as V,o as i,c as r,b as e,f as s,w as y,A as _,e as g,v as m,G as d,g as b,t as S,h as j,j as D,_ as E,k as B}from"./index-b31857b9.js";const M={class:"min-h-screen bg-gradient-to-br from-sky-800 to-indigo-900 flex items-center justify-center p-6"},N={class:"w-full max-w-md"},A={class:"bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 space-y-6"},F=j('<div class="flex flex-col items-center space-y-2"><div class="relative w-16 h-16 flex items-center justify-center"><div class="absolute w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center transform rotate-45"><svg class="w-8 h-8 text-white transform -rotate-45" viewBox="0 0 512 512" fill="none"><path d="M364.61 390.213C304.625 450.196 207.37 450.196 147.386 390.213C117.394 360.22 102.398 320.911 102.398 281.6C102.398 242.291 117.394 202.981 147.386 172.989C147.386 230.4 153.6 281.6 230.4 307.2C230.4 256 256 102.4 294.4 76.7999C320 128 334.618 142.997 364.608 172.989C394.601 202.981 409.597 242.291 409.597 281.6C409.597 320.911 394.601 360.22 364.61 390.213Z" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><h2 class="text-2xl font-bold text-gray-800">Felicity LIMS</h2><p class="text-gray-500 text-sm">Password Recovery</p></div>',1),L={key:0},U={class:"mb-6"},q=e("span",{class:"mr-1"},"←",-1),I={class:"space-y-1"},$=e("label",{class:"text-sm font-medium text-gray-700",for:"email"},"Email",-1),z=["disabled"],G={class:"flex justify-end"},H=["disabled"],O={key:1,class:"flex justify-center"},Z={key:1,class:"space-y-5"},J={class:"mb-6"},K=e("span",{class:"mr-1"},"←",-1),Q={class:"space-y-1"},W=e("label",{class:"text-sm font-medium text-gray-700",for:"token"},"Reset Token",-1),X=["disabled"],Y=["disabled"],ee={key:1,class:"flex justify-center"},se={class:"text-center mb-4"},te={class:"text-gray-700"},oe={class:"bg-indigo-100 px-2 py-1 rounded"},ie=e("p",{class:"text-sm text-gray-600 mt-1"},"Please enter your new password below",-1),re={class:"space-y-4"},ne={class:"space-y-1"},ae=e("label",{class:"text-sm font-medium text-gray-700",for:"password"},"New Password",-1),de=["disabled"],le={class:"space-y-1"},ce=e("label",{class:"text-sm font-medium text-gray-700",for:"passwordc"},"Confirm Password",-1),ue=["disabled"],pe=["disabled"],ge={key:1,class:"flex justify-center"},me=e("div",{class:"mt-6 text-center"},[e("p",{class:"text-sm text-white/80"}," Secure Password Recovery System ")],-1),fe=R({__name:"PasswordReset",emits:["forgot"],setup(_e,{emit:w}){const f=D(()=>E(()=>import("./FelLoadingMessage-e663a4e3.js"),["assets/FelLoadingMessage-e663a4e3.js","assets/index-b31857b9.js","assets/index-c2286288.css"])),x=w,l=C(),{auth:o}=P(l),c=v(""),u=v(""),h=()=>{o.value.receivedToken?l.validatePasswordResetToken(u.value):l.resetPasswordRequest(c.value)},n=T({password:"",passwordc:""}),p=V(()=>!(!n.password||!n.passwordc||n.password!==n.passwordc)),k=()=>{p||alert("Correct Form errors"),l.resetPassword(n.password,n.passwordc)};return(be,t)=>(i(),r("div",M,[e("div",N,[e("div",A,[F,s(o).resetData?.canReset?(i(),r("form",{key:1,class:"space-y-5",onSubmit:y(k,["prevent"])},[e("div",se,[e("p",te,[_(" Hello "),e("span",oe,"@"+S(s(o)?.resetData?.username),1)]),ie]),e("div",re,[e("div",ne,[ae,g(e("input",{id:"password",type:"password","onUpdate:modelValue":t[5]||(t[5]=a=>n.password=a),disabled:s(o).processing,class:d(["w-full px-4 py-2 border rounded-lg outline-none transition-colors duration-200","focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",p.value?"border-gray-300":"border-red-300"]),placeholder:"Enter new password"},null,10,de),[[m,n.password]])]),e("div",le,[ce,g(e("input",{id:"passwordc",type:"password","onUpdate:modelValue":t[6]||(t[6]=a=>n.passwordc=a),disabled:s(o).processing,class:d(["w-full px-4 py-2 border rounded-lg outline-none transition-colors duration-200","focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",p.value?"border-gray-300":"border-red-300"]),placeholder:"Confirm new password"},null,10,ue),[[m,n.passwordc]])])]),s(o).processing?(i(),r("div",ge,[b(s(f),{message:"Resetting password..."})])):(i(),r("button",{key:0,type:"submit",disabled:!p.value,class:d(["w-full px-4 py-2 rounded-lg text-white font-medium transition-colors duration-200",p.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])}," Reset Password ",10,pe))],32)):(i(),r("form",{key:0,class:"space-y-5",onSubmit:y(h,["prevent"])},[s(o).receivedToken?(i(),r("div",Z,[e("div",J,[e("button",{type:"button",onClick:t[3]||(t[3]=a=>s(l).setReceivedResetToken(!1)),class:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200"},[K,_(" Token not received ")])]),e("div",Q,[W,g(e("input",{id:"token",type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>u.value=a),disabled:s(o).processing,class:d(["w-full px-4 py-2 border rounded-lg outline-none transition-colors duration-200","focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",(u.value,"border-gray-300")]),placeholder:"Enter your reset token"},null,10,X),[[m,u.value]])]),s(o).processing?(i(),r("div",ee,[b(s(f),{message:"Validating password reset token..."})])):(i(),r("button",{key:0,type:"submit",disabled:!u.value,class:d(["w-full px-4 py-2 rounded-lg text-white font-medium transition-colors duration-200",u.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])}," Submit Token ",10,Y))])):(i(),r("div",L,[e("div",U,[e("button",{type:"button",onClick:t[0]||(t[0]=a=>x("forgot")),class:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200"},[q,_(" Back to Login ")])]),e("div",I,[$,g(e("input",{id:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),disabled:s(o).processing,class:d(["w-full px-4 py-2 border rounded-lg outline-none transition-colors duration-200","focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",(c.value,"border-gray-300")]),placeholder:"Enter your email"},null,10,z),[[m,c.value]])]),e("div",G,[e("button",{type:"button",onClick:t[2]||(t[2]=a=>s(l).setReceivedResetToken(!0)),class:"text-sm text-indigo-600 hover:text-indigo-800 transition-colors duration-200"}," Received a Token? ")]),s(o).processing?(i(),r("div",O,[b(s(f),{message:"Requesting..."})])):(i(),r("button",{key:0,type:"submit",disabled:!c.value,class:d(["w-full px-4 py-2 rounded-lg text-white font-medium transition-colors duration-200",c.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])}," Request Password Reset ",10,H))]))],32))]),me])]))}}),ye=B(fe,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/auth/PasswordReset.vue"]]);export{ye as default};
