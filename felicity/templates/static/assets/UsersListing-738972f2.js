import{S as E,a7 as V,i as w,a0 as b,h as L,f as S,r as D,o as d,c as u,N as e,ac as k,F as f,E as x,H as n,a3 as c,a5 as r,y as M,L as $,A as F,C as l,X as m,a2 as j,K as G,as as P,at as z,_ as H}from"./index-6c3e61f6.js";import{u as I}from"./user-d3e2696e.js";import"./_queries-c1bc77c2.js";const K={class:"space-y-6"},R={class:"flex justify-between items-center"},T={class:"bg-card rounded-lg shadow-sm"},X={class:"min-w-full divide-y divide-border"},q={class:"bg-background divide-y divide-border"},J={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap text-sm"},Q={class:"px-6 py-4 whitespace-nowrap text-sm"},W={class:"px-6 py-4 whitespace-nowrap text-sm"},Y={class:"px-6 py-4 whitespace-nowrap text-sm"},Z={class:"px-6 py-4 whitespace-nowrap text-sm"},ee={class:"px-6 py-4 whitespace-nowrap text-sm"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-right"},te=["onClick"],oe={class:"grid grid-cols-2 gap-6"},re={class:"space-y-2"},ne={class:"space-y-2"},ie={class:"space-y-2"},de={class:"space-y-2"},le=["disabled"],ae={class:"space-y-2"},ue={class:"space-y-2"},ce={class:"col-span-2 space-y-2"},me=["value"],pe={class:"flex items-center space-x-4"},fe={class:"flex items-center space-x-2"},be=["aria-checked"],xe={class:"flex items-center space-x-4"},ge={class:"flex items-center space-x-2"},ye=["aria-checked"],ve={class:"flex justify-end pt-6"},we={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},ke=E({__name:"UsersListing",setup(he){const a=I();V(()=>{a.fetchUsers({}),a.fetchGroupsAndPermissions()});let h=w(()=>a.getUsers);const U=w(()=>a.getGroups);let i=b(!1);b("");let o=L({});const _=b(!0),{withClientMutation:g}=S();function N(){g(z,o,"createUser").then(p=>a.addUser(p))}function y(){g(P,o,"updateUser").then(p=>a.updateUser(p))}function A(){_.value?N():y(),i.value=!1}const C=["First Name","Last Name","Email","Active","Group","Username","Blocked","Actions"];return(p,s)=>{const B=D("fel-modal");return d(),u(f,null,[e("div",K,[e("div",R,[s[12]||(s[12]=e("h1",{class:"text-2xl font-semibold"},"Users",-1)),e("button",{onClick:s[0]||(s[0]=t=>k(i)?i.value=!0:i=!0),class:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary","aria-label":"Add new user"}," Add User ")]),e("div",T,[e("table",X,[e("thead",null,[e("tr",null,[(d(),u(f,null,x(C,t=>e("th",{key:t,class:"px-6 py-3 text-left text-sm font-medium text-muted-foreground tracking-wider"},n(t),1)),64))])]),e("tbody",q,[(d(!0),u(f,null,x(r(h),t=>(d(),u("tr",{key:t.uid,class:"hover:bg-muted/50"},[e("td",J,n(t.firstName),1),e("td",O,n(t.lastName),1),e("td",Q,n(t.email),1),e("td",W,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.isActive?"bg-success/20 text-success":"bg-destructive/20 text-destructive"])},n(t.isActive?"Active":"Inactive"),3)]),e("td",Y,n(t.groups?.map(v=>v?.name).join(", ")),1),e("td",Z,n(t.userName),1),e("td",ee,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.isBlocked?"bg-destructive/20 text-destructive":"bg-success/20 text-success"])},n(t.isBlocked?"Blocked":"Active"),3)]),e("td",se,[e("button",{onClick:v=>y(),class:"text-primary hover:text-primary/80 focus:outline-none focus:underline","aria-label":"Edit user"}," Edit ",8,te)])]))),128))])])])]),r(i)?(d(),M(B,{key:0,onClose:s[11]||(s[11]=t=>k(i)?i.value=!1:i=!1),title:r(o).uid?"Edit User":"Add User"},{body:$(()=>[e("form",{onSubmit:s[10]||(s[10]=F(t=>A(),["prevent"])),class:"space-y-6"},[e("div",oe,[e("div",re,[s[13]||(s[13]=e("label",{for:"firstName",class:"block text-sm font-medium text-foreground"}," First Name ",-1)),l(e("input",{id:"firstName","onUpdate:modelValue":s[1]||(s[1]=t=>r(o).firstName=t),type:"text",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter first name"},null,512),[[m,r(o).firstName]])]),e("div",ne,[s[14]||(s[14]=e("label",{for:"lastName",class:"block text-sm font-medium text-foreground"}," Last Name ",-1)),l(e("input",{id:"lastName","onUpdate:modelValue":s[2]||(s[2]=t=>r(o).lastName=t),type:"text",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter last name"},null,512),[[m,r(o).lastName]])]),e("div",ie,[s[15]||(s[15]=e("label",{for:"email",class:"block text-sm font-medium text-foreground"}," Email ",-1)),l(e("input",{id:"email","onUpdate:modelValue":s[3]||(s[3]=t=>r(o).email=t),type:"email",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter email address"},null,512),[[m,r(o).email]])]),e("div",de,[s[16]||(s[16]=e("label",{for:"userName",class:"block text-sm font-medium text-foreground"}," Username ",-1)),l(e("input",{id:"userName","onUpdate:modelValue":s[4]||(s[4]=t=>r(o).userName=t),type:"text",disabled:r(o).uid!=null,class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-muted disabled:cursor-not-allowed",placeholder:"Enter username"},null,8,le),[[m,r(o).userName]])]),e("div",ae,[s[17]||(s[17]=e("label",{for:"password",class:"block text-sm font-medium text-foreground"}," Password ",-1)),l(e("input",{id:"password","onUpdate:modelValue":s[5]||(s[5]=t=>r(o).password=t),type:"password",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter password"},null,512),[[m,r(o).password]])]),e("div",ue,[s[18]||(s[18]=e("label",{for:"passwordc",class:"block text-sm font-medium text-foreground"}," Confirm Password ",-1)),l(e("input",{id:"passwordc","onUpdate:modelValue":s[6]||(s[6]=t=>r(o).passwordc=t),type:"password",class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Confirm password"},null,512),[[m,r(o).passwordc]])]),e("div",ce,[s[20]||(s[20]=e("label",{for:"groupUid",class:"block text-sm font-medium text-foreground"}," Group ",-1)),l(e("select",{id:"groupUid","onUpdate:modelValue":s[7]||(s[7]=t=>r(o).groupUid=t),class:"mt-1 block w-full rounded-md border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"},[s[19]||(s[19]=e("option",{value:""},"Select a group",-1)),(d(!0),u(f,null,x(U.value,t=>(d(),u("option",{key:t.uid,value:t.uid},n(t?.name),9,me))),128))],512),[[j,r(o).groupUid]])]),e("div",pe,[e("label",fe,[s[21]||(s[21]=e("span",{class:"text-sm font-medium text-foreground"},"Blocked",-1)),e("button",{type:"button",role:"switch","aria-checked":r(o).isBlocked,onClick:s[8]||(s[8]=t=>r(o).isBlocked=!r(o).isBlocked),class:c(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[r(o).isBlocked?"bg-destructive":"bg-success"]])},[e("span",{"aria-hidden":"true",class:c(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-background shadow ring-0 transition duration-200 ease-in-out",[r(o).isBlocked?"translate-x-5":"translate-x-0"]])},null,2)],10,be)])]),e("div",xe,[e("label",ge,[s[22]||(s[22]=e("span",{class:"text-sm font-medium text-foreground"},"Active",-1)),e("button",{type:"button",role:"switch","aria-checked":r(o).isActive,onClick:s[9]||(s[9]=t=>r(o).isActive=!r(o).isActive),class:c(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[r(o).isActive?"bg-success":"bg-destructive"]])},[e("span",{"aria-hidden":"true",class:c(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-background shadow ring-0 transition duration-200 ease-in-out",[r(o).isActive?"translate-x-5":"translate-x-0"]])},null,2)],10,ye)])])]),e("div",ve,[e("button",we,n(r(o).uid?"Update":"Create")+" User ",1)])],32)]),_:1},8,["title"])):G("v-if",!0)],64)}}}),Ae=H(ke,[["__file","/home/aurthurm/Documents/Development/felicity/felicity-lims/webapp/views/admin/users/UsersListing.vue"]]);export{Ae as default};
