const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FelDataTable-CqqGlMhZ.js","assets/index-DApeomWQ.js","assets/index-CfJ_N7IC.css"])))=>i.map(i=>d[i]);
import{a0 as C,aq as B,a7 as _,g as w,h as T,a1 as I,a6 as S,ar as i,a8 as f,_ as L,r as b,c as R,o as k,a as o,A as s,N as P,P as A}from"./index-DApeomWQ.js";import{u as D}from"./patient-BT86h0ju.js";const M=C({__name:"PatientListing",setup(v,{expose:n}){n();const m=I(()=>S(()=>import("./FelDataTable-CqqGlMhZ.js"),__vite__mapDeps([0,1,2])));let t=D();const{patients:l,fetchingPatients:p,patientPageInfo:r}=B(t),c=_([{name:"UID",value:"uid",sortable:!0,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"Patient Id",value:"patientId",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,h){return f(i,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:e?.patientId})}},{name:"Full Name",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,h){return f(i,{to:{name:"patient-detail",params:{patientUid:e?.uid}},innerHTML:u(e)})}},{name:"Age",value:"age",sortable:!1,sortBy:"asc",hidden:!1},{name:"Gender",value:"gender",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client Patient ID",value:"clientPatientId",sortable:!1,sortBy:"asc",hidden:!1},{name:"Province",value:"client.district.province.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"District",value:"client.district.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Client",value:"client.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"",value:"",sortable:!1,sortBy:"asc",showInToggler:!1,hidden:!1,customRender:function(e,h){return f(i,{to:{name:"samples-add",params:{patientUid:e?.uid}},class:"px-2 mr-2 border-primary border text-primary rounded-sm transition duration-300 hover:bg-primary hover:text-primary-foreground focus:outline-none",innerHTML:"+ Analysis Request"})}}]);let a=w({first:50,before:"",text:"",sortBy:["-uid"],filterAction:!1});t.fetchPatients(a);let d=_("");function y(e){a.first=100,a.before=r?.value?.endCursor??"",a.text=e.filterText,a.filterAction=!0,d.value=e.filterText,t.fetchPatients(a)}const x=T(()=>l?.value?.length+" of "+t.getPatientCount+" patients");function N(e){a.first=e.fetchCount,a.before=r?.value?.endCursor??"",a.text=e.filterText,a.filterAction=!1,t.fetchPatients(a)}let u=e=>e.firstName+" "+e.lastName;const g={DataTable:m,get patientStore(){return t},set patientStore(e){t=e},patients:l,fetchingPatients:p,patientPageInfo:r,tableColumns:c,get patientParams(){return a},set patientParams(e){a=e},get patientSearch(){return d},set patientSearch(e){d=e},searchPatients:y,countNone:x,showMorePatients:N,get getPatientFullName(){return u},set getPatientFullName(e){u=e},get RouterLink(){return i}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),F={class:"space-y-6"},O={class:"rounded-lg border border-border bg-card shadow-sm p-6"},U={class:"space-y-4 p-4"},V={class:"flex justify-start items-center gap-2"},j={class:"text-primary"},E={class:"flex justify-start"};function H(v,n,m,t,l,p){const r=b("fel-heading"),c=b("font-awesome-icon");return k(),R("div",F,[o(r,{title:"Patients"}),s("div",O,[o(t.DataTable,{columns:t.tableColumns,data:t.patients,toggleColumns:!0,loading:t.fetchingPatients,paginable:!0,pageMeta:{fetchCount:t.patientParams.first,hasNextPage:t.patientPageInfo?.hasNextPage,countNone:t.countNone},searchable:!0,filterable:!1,onOnSearch:t.searchPatients,onOnPaginate:t.showMorePatients,selectable:!1,class:"bg-background rounded-lg shadow-sm"},{footer:P(()=>[s("div",U,[s("div",V,[s("span",j,[o(c,{icon:"fa-info-circle"})]),n[0]||(n[0]=s("p",{class:"text-sm text-muted-foreground italic"}," Click register when you dont find your patient during search* ",-1))]),s("div",E,[o(t.RouterLink,{to:"/patients/register",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:P(()=>[...n[1]||(n[1]=[A(" Register New Patient ",-1)])]),_:1})])])]),_:1},8,["columns","data","loading","pageMeta"])])])}const z=L(M,[["render",H],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/patient/PatientListing.vue"]]);export{z as default};
