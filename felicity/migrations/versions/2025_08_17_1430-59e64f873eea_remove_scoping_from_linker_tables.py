"""remove scoping from linker tables

Revision ID: 59e64f873eea
Revises: 9c0efd60df39
Create Date: 2025-08-17 14:30:57.603578

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '59e64f873eea'
down_revision = '9c0efd60df39'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint('abx_panel_antibiotic_laboratory_uid_fkey', 'abx_panel_antibiotic', type_='foreignkey')
    op.drop_column('abx_panel_antibiotic', 'laboratory_uid')
    op.drop_constraint('abx_panel_organism_laboratory_uid_fkey', 'abx_panel_organism', type_='foreignkey')
    op.drop_column('abx_panel_organism', 'laboratory_uid')
    op.drop_constraint('activity_feed_subscription_laboratory_uid_fkey', 'activity_feed_subscription', type_='foreignkey')
    op.drop_column('activity_feed_subscription', 'laboratory_uid')
    op.drop_constraint('activity_stream_feed_laboratory_uid_fkey', 'activity_stream_feed', type_='foreignkey')
    op.drop_column('activity_stream_feed', 'laboratory_uid')
    op.drop_constraint('activity_stream_view_laboratory_uid_fkey', 'activity_stream_view', type_='foreignkey')
    op.drop_column('activity_stream_view', 'laboratory_uid')
    op.drop_constraint('analysis_analysis_template_laboratory_uid_fkey', 'analysis_analysis_template', type_='foreignkey')
    op.drop_column('analysis_analysis_template', 'laboratory_uid')
    op.drop_constraint('analysis_profile_laboratory_uid_fkey', 'analysis_profile', type_='foreignkey')
    op.drop_column('analysis_profile', 'laboratory_uid')
    op.drop_constraint('department_notice_laboratory_uid_fkey', 'department_notice', type_='foreignkey')
    op.drop_column('department_notice', 'laboratory_uid')
    op.drop_constraint('department_notification_laboratory_uid_fkey', 'department_notification', type_='foreignkey')
    op.drop_column('department_notification', 'laboratory_uid')
    op.drop_constraint('department_preference_laboratory_uid_fkey', 'department_preference', type_='foreignkey')
    op.drop_column('department_preference', 'laboratory_uid')
    op.drop_constraint('document_author_laboratory_uid_fkey', 'document_author', type_='foreignkey')
    op.drop_column('document_author', 'laboratory_uid')
    op.drop_constraint('document_reader_laboratory_uid_fkey', 'document_reader', type_='foreignkey')
    op.drop_column('document_reader', 'laboratory_uid')
    op.drop_constraint('document_relation_laboratory_uid_fkey', 'document_relation', type_='foreignkey')
    op.drop_column('document_relation', 'laboratory_uid')
    op.drop_constraint('document_tagged_laboratory_uid_fkey', 'document_tagged', type_='foreignkey')
    op.drop_column('document_tagged', 'laboratory_uid')
    op.drop_constraint('grind_errand_member_laboratory_uid_fkey', 'grind_errand_member', type_='foreignkey')
    op.drop_column('grind_errand_member', 'laboratory_uid')
    op.drop_constraint('grind_errand_stamp_laboratory_uid_fkey', 'grind_errand_stamp', type_='foreignkey')
    op.drop_column('grind_errand_stamp', 'laboratory_uid')
    op.drop_constraint('grind_poster_member_laboratory_uid_fkey', 'grind_poster_member', type_='foreignkey')
    op.drop_column('grind_poster_member', 'laboratory_uid')
    op.drop_constraint('grind_poster_stamp_laboratory_uid_fkey', 'grind_poster_stamp', type_='foreignkey')
    op.drop_column('grind_poster_stamp', 'laboratory_uid')
    op.drop_constraint('grind_scheme_member_laboratory_uid_fkey', 'grind_scheme_member', type_='foreignkey')
    op.drop_column('grind_scheme_member', 'laboratory_uid')
    op.drop_constraint('group_notice_laboratory_uid_fkey', 'group_notice', type_='foreignkey')
    op.drop_column('group_notice', 'laboratory_uid')
    op.drop_constraint('group_notification_laboratory_uid_fkey', 'group_notification', type_='foreignkey')
    op.drop_column('group_notification', 'laboratory_uid')
    op.drop_constraint('message_delete_laboratory_uid_fkey', 'message_delete', type_='foreignkey')
    op.drop_column('message_delete', 'laboratory_uid')
    op.drop_constraint('message_thread_delete_laboratory_uid_fkey', 'message_thread_delete', type_='foreignkey')
    op.drop_column('message_thread_delete', 'laboratory_uid')
    op.drop_constraint('message_thread_recipient_laboratory_uid_fkey', 'message_thread_recipient', type_='foreignkey')
    op.drop_column('message_thread_recipient', 'laboratory_uid')
    op.drop_constraint('message_view_laboratory_uid_fkey', 'message_view', type_='foreignkey')
    op.drop_column('message_view', 'laboratory_uid')
    op.drop_constraint('notice_view_laboratory_uid_fkey', 'notice_view', type_='foreignkey')
    op.drop_column('notice_view', 'laboratory_uid')
    op.drop_constraint('notification_view_laboratory_uid_fkey', 'notification_view', type_='foreignkey')
    op.drop_column('notification_view', 'laboratory_uid')
    op.drop_constraint('permission_groups_laboratory_uid_fkey', 'permission_groups', type_='foreignkey')
    op.drop_column('permission_groups', 'laboratory_uid')
    op.drop_constraint('profile_sample_type_laboratory_uid_fkey', 'profile_sample_type', type_='foreignkey')
    op.drop_column('profile_sample_type', 'laboratory_uid')
    op.drop_constraint('qc_reference_analysis_laboratory_uid_fkey', 'qc_reference_analysis', type_='foreignkey')
    op.drop_column('qc_reference_analysis', 'laboratory_uid')
    op.drop_constraint('qc_template_department_laboratory_uid_fkey', 'qc_template_department', type_='foreignkey')
    op.drop_column('qc_template_department', 'laboratory_uid')
    op.drop_constraint('qc_template_qc_level_laboratory_uid_fkey', 'qc_template_qc_level', type_='foreignkey')
    op.drop_column('qc_template_qc_level', 'laboratory_uid')
    op.drop_constraint('reflex_action_analysis_laboratory_uid_fkey', 'reflex_action_analysis', type_='foreignkey')
    op.drop_column('reflex_action_analysis', 'laboratory_uid')
    op.drop_constraint('result_option_sample_type_laboratory_uid_fkey', 'result_option_sample_type', type_='foreignkey')
    op.drop_column('result_option_sample_type', 'laboratory_uid')
    op.drop_constraint('result_verification_laboratory_uid_fkey', 'result_verification', type_='foreignkey')
    op.drop_column('result_verification', 'laboratory_uid')
    op.drop_constraint('sample_analysis_laboratory_uid_fkey', 'sample_analysis', type_='foreignkey')
    op.drop_column('sample_analysis', 'laboratory_uid')
    op.drop_constraint('sample_profile_laboratory_uid_fkey', 'sample_profile', type_='foreignkey')
    op.drop_column('sample_profile', 'laboratory_uid')
    op.drop_constraint('sample_rejection_reason_laboratory_uid_fkey', 'sample_rejection_reason', type_='foreignkey')
    op.drop_column('sample_rejection_reason', 'laboratory_uid')
    op.drop_constraint('test_bill_item_laboratory_uid_fkey', 'test_bill_item', type_='foreignkey')
    op.drop_column('test_bill_item', 'laboratory_uid')
    op.drop_constraint('user_groups_laboratory_uid_fkey', 'user_groups', type_='foreignkey')
    op.drop_column('user_groups', 'laboratory_uid')
    op.drop_constraint('user_notification_laboratory_uid_fkey', 'user_notification', type_='foreignkey')
    op.drop_column('user_notification', 'laboratory_uid')
    op.drop_constraint('worksheet_template_qc_level_laboratory_uid_fkey', 'worksheet_template_qc_level', type_='foreignkey')
    op.drop_column('worksheet_template_qc_level', 'laboratory_uid')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('worksheet_template_qc_level', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('worksheet_template_qc_level_laboratory_uid_fkey', 'worksheet_template_qc_level', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('user_notification', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('user_notification_laboratory_uid_fkey', 'user_notification', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('user_groups', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.create_foreign_key('user_groups_laboratory_uid_fkey', 'user_groups', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('test_bill_item', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('test_bill_item_laboratory_uid_fkey', 'test_bill_item', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('sample_rejection_reason', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('sample_rejection_reason_laboratory_uid_fkey', 'sample_rejection_reason', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('sample_profile', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('sample_profile_laboratory_uid_fkey', 'sample_profile', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('sample_analysis', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('sample_analysis_laboratory_uid_fkey', 'sample_analysis', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('result_verification', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('result_verification_laboratory_uid_fkey', 'result_verification', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('result_option_sample_type', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('result_option_sample_type_laboratory_uid_fkey', 'result_option_sample_type', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('reflex_action_analysis', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('reflex_action_analysis_laboratory_uid_fkey', 'reflex_action_analysis', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('qc_template_qc_level', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('qc_template_qc_level_laboratory_uid_fkey', 'qc_template_qc_level', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('qc_template_department', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('qc_template_department_laboratory_uid_fkey', 'qc_template_department', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('qc_reference_analysis', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('qc_reference_analysis_laboratory_uid_fkey', 'qc_reference_analysis', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('profile_sample_type', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('profile_sample_type_laboratory_uid_fkey', 'profile_sample_type', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('permission_groups', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.create_foreign_key('permission_groups_laboratory_uid_fkey', 'permission_groups', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('notification_view', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('notification_view_laboratory_uid_fkey', 'notification_view', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('notice_view', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('notice_view_laboratory_uid_fkey', 'notice_view', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('message_view', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('message_view_laboratory_uid_fkey', 'message_view', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('message_thread_recipient', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('message_thread_recipient_laboratory_uid_fkey', 'message_thread_recipient', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('message_thread_delete', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('message_thread_delete_laboratory_uid_fkey', 'message_thread_delete', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('message_delete', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('message_delete_laboratory_uid_fkey', 'message_delete', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('group_notification', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('group_notification_laboratory_uid_fkey', 'group_notification', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('group_notice', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('group_notice_laboratory_uid_fkey', 'group_notice', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('grind_scheme_member', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('grind_scheme_member_laboratory_uid_fkey', 'grind_scheme_member', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('grind_poster_stamp', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('grind_poster_stamp_laboratory_uid_fkey', 'grind_poster_stamp', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('grind_poster_member', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('grind_poster_member_laboratory_uid_fkey', 'grind_poster_member', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('grind_errand_stamp', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('grind_errand_stamp_laboratory_uid_fkey', 'grind_errand_stamp', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('grind_errand_member', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('grind_errand_member_laboratory_uid_fkey', 'grind_errand_member', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('document_tagged', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('document_tagged_laboratory_uid_fkey', 'document_tagged', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('document_relation', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('document_relation_laboratory_uid_fkey', 'document_relation', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('document_reader', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('document_reader_laboratory_uid_fkey', 'document_reader', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('document_author', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('document_author_laboratory_uid_fkey', 'document_author', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('department_preference', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('department_preference_laboratory_uid_fkey', 'department_preference', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('department_notification', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('department_notification_laboratory_uid_fkey', 'department_notification', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('department_notice', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('department_notice_laboratory_uid_fkey', 'department_notice', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('analysis_profile', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('analysis_profile_laboratory_uid_fkey', 'analysis_profile', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('analysis_analysis_template', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('analysis_analysis_template_laboratory_uid_fkey', 'analysis_analysis_template', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('activity_stream_view', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('activity_stream_view_laboratory_uid_fkey', 'activity_stream_view', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('activity_stream_feed', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('activity_stream_feed_laboratory_uid_fkey', 'activity_stream_feed', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('activity_feed_subscription', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('activity_feed_subscription_laboratory_uid_fkey', 'activity_feed_subscription', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('abx_panel_organism', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('abx_panel_organism_laboratory_uid_fkey', 'abx_panel_organism', 'laboratory', ['laboratory_uid'], ['uid'])
    op.add_column('abx_panel_antibiotic', sa.Column('laboratory_uid', sa.VARCHAR(), autoincrement=False, nullable=False))
    op.create_foreign_key('abx_panel_antibiotic_laboratory_uid_fkey', 'abx_panel_antibiotic', 'laboratory', ['laboratory_uid'], ['uid'])
    # ### end Alembic commands ###
