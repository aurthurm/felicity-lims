"""add-grind-documents

Revision ID: 5250318822af
Revises: 4b6240ec4682
Create Date: 2025-02-27 11:54:45.261198

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '5250318822af'
down_revision = '4b6240ec4682'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('document_ai_model',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('api_endpoint', sa.String(), nullable=True),
    sa.Column('capabilities', sa.String(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_ai_model_uid'), 'document_ai_model', ['uid'], unique=False)
    op.create_table('document_category',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_category_uid'), 'document_category', ['uid'], unique=False)
    op.create_table('document_compliance_standard',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('content', sa.Text(), nullable=True),
    sa.Column('version', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_compliance_standard_uid'), 'document_compliance_standard', ['uid'], unique=False)
    op.create_table('document_folder',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('parent_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['parent_uid'], ['document_folder.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_folder_uid'), 'document_folder', ['uid'], unique=False)
    op.create_table('document_tag',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_tag_uid'), 'document_tag', ['uid'], unique=False)
    op.create_table('grind_label',
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('category', sa.Enum('TICKET', name='labelcategory'), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_label_uid'), 'grind_label', ['uid'], unique=False)
    op.create_table('grind_media',
    sa.Column('target', sa.Enum('ERRAND', name='mediatarget'), nullable=True),
    sa.Column('target_uid', sa.String(), nullable=True),
    sa.Column('destination', sa.String(), nullable=True),
    sa.Column('encoding', sa.String(), nullable=True),
    sa.Column('filename', sa.String(), nullable=True),
    sa.Column('mimetype', sa.String(), nullable=True),
    sa.Column('original_name', sa.String(), nullable=True),
    sa.Column('path', sa.String(), nullable=True),
    sa.Column('size', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_media_uid'), 'grind_media', ['uid'], unique=False)
    op.create_table('grind_occurrence',
    sa.Column('target', sa.Enum('ERRAND', 'MILESTONE', name='occurrencetarget'), nullable=True),
    sa.Column('target_uid', sa.String(), nullable=True),
    sa.Column('actor_uid', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['actor_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_occurrence_uid'), 'grind_occurrence', ['uid'], unique=False)
    op.create_table('grind_scheme',
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('assignee_uid', sa.String(), nullable=True),
    sa.Column('start_date', sa.DateTime(), nullable=True),
    sa.Column('end_date', sa.DateTime(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['assignee_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_scheme_uid'), 'grind_scheme', ['uid'], unique=False)
    op.create_table('grind_stamp',
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('category', sa.Enum('TICKET', name='labelcategory'), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_stamp_uid'), 'grind_stamp', ['uid'], unique=False)
    op.create_table('document_template',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('content', sa.Text(), nullable=True),
    sa.Column('category_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['category_uid'], ['document_category.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_template_uid'), 'document_template', ['uid'], unique=False)
    op.create_table('grind_board',
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('scheme_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['scheme_uid'], ['grind_scheme.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_board_uid'), 'grind_board', ['uid'], unique=False)
    op.create_table('grind_scheme_member',
    sa.Column('grind_scheme_uid', sa.String(), nullable=True),
    sa.Column('user_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['grind_scheme_uid'], ['grind_scheme.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], )
    )
    op.create_table('document',
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('subtitle', sa.String(), nullable=True),
    sa.Column('document_id', sa.String(), nullable=True),
    sa.Column('folder_uid', sa.String(), nullable=True),
    sa.Column('department_uid', sa.String(), nullable=True),
    sa.Column('category_uid', sa.String(), nullable=True),
    sa.Column('template_uid', sa.String(), nullable=True),
    sa.Column('last_accessed', sa.DateTime(), nullable=True),
    sa.Column('last_accessed_by_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['category_uid'], ['document_category.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['department_uid'], ['department.uid'], ),
    sa.ForeignKeyConstraint(['folder_uid'], ['document_folder.uid'], ),
    sa.ForeignKeyConstraint(['last_accessed_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['template_uid'], ['document_template.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid'),
    sa.UniqueConstraint('document_id')
    )
    op.create_index(op.f('ix_document_uid'), 'document', ['uid'], unique=False)
    op.create_table('grind_poster',
    sa.Column('category', sa.Enum('LISTING', 'ENGAGEMENT', 'TODO', 'MESSAGE', name='postercategory'), nullable=True),
    sa.Column('title', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('board_uid', sa.String(), nullable=True),
    sa.Column('assignee_uid', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['assignee_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['board_uid'], ['grind_board.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_poster_uid'), 'grind_poster', ['uid'], unique=False)
    op.create_table('document_ai_authoring_session',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('model_uid', sa.String(), nullable=True),
    sa.Column('prompt', sa.Text(), nullable=True),
    sa.Column('conversation', sa.Text(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['model_uid'], ['document_ai_model.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_ai_authoring_session_uid'), 'document_ai_authoring_session', ['uid'], unique=False)
    op.create_table('document_ai_compliance_check',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('standard_uid', sa.String(), nullable=True),
    sa.Column('results', sa.Text(), nullable=True),
    sa.Column('compliance_score', sa.Float(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['standard_uid'], ['document_compliance_standard.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_ai_compliance_check_uid'), 'document_ai_compliance_check', ['uid'], unique=False)
    op.create_table('document_analytics',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('readability_score', sa.Float(), nullable=True),
    sa.Column('sentiment_score', sa.Float(), nullable=True),
    sa.Column('complexity_score', sa.Float(), nullable=True),
    sa.Column('summary', sa.Text(), nullable=True),
    sa.Column('key_topics', sa.String(), nullable=True),
    sa.Column('generated_date', sa.DateTime(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_analytics_uid'), 'document_analytics', ['uid'], unique=False)
    op.create_table('document_audit',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('action', sa.String(), nullable=True),
    sa.Column('date', sa.DateTime(), nullable=True),
    sa.Column('user_uid', sa.String(), nullable=True),
    sa.Column('ip_address', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_audit_uid'), 'document_audit', ['uid'], unique=False)
    op.create_table('document_author',
    sa.Column('document_uid', sa.String(), nullable=False),
    sa.Column('user_uid', sa.String(), nullable=False),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('document_uid', 'user_uid')
    )
    op.create_table('document_reader',
    sa.Column('document_uid', sa.String(), nullable=False),
    sa.Column('user_uid', sa.String(), nullable=False),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('document_uid', 'user_uid')
    )
    op.create_table('document_relation',
    sa.Column('source_document_uid', sa.String(), nullable=False),
    sa.Column('target_document_uid', sa.String(), nullable=False),
    sa.Column('relation_type', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['source_document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['target_document_uid'], ['document.uid'], ),
    sa.PrimaryKeyConstraint('source_document_uid', 'target_document_uid')
    )
    op.create_table('document_review_cycle',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('start_date', sa.DateTime(), nullable=True),
    sa.Column('end_date', sa.DateTime(), nullable=True),
    sa.Column('initiated_by_uid', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['initiated_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_review_cycle_uid'), 'document_review_cycle', ['uid'], unique=False)
    op.create_table('document_status',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('status', sa.Enum('DRAFT', 'IN_REVIEW', 'APPROVED', 'PUBLISHED', 'ARCHIVED', 'RECALLED', 'EFFECTED', name='documentstate'), nullable=True),
    sa.Column('date', sa.DateTime(), nullable=True),
    sa.Column('user_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_status_uid'), 'document_status', ['uid'], unique=False)
    op.create_table('document_subscription',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('user_uid', sa.String(), nullable=True),
    sa.Column('subscription_type', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_subscription_uid'), 'document_subscription', ['uid'], unique=False)
    op.create_table('document_tagged',
    sa.Column('document_uid', sa.String(), nullable=False),
    sa.Column('document_tag_uid', sa.String(), nullable=False),
    sa.ForeignKeyConstraint(['document_tag_uid'], ['document_tag.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.PrimaryKeyConstraint('document_uid', 'document_tag_uid')
    )
    op.create_table('document_version',
    sa.Column('document_uid', sa.String(), nullable=True),
    sa.Column('version_number', sa.String(), nullable=True),
    sa.Column('content', sa.Text(), nullable=True),
    sa.Column('change_summary', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['document_uid'], ['document.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_version_uid'), 'document_version', ['uid'], unique=False)
    op.create_table('grind_errand',
    sa.Column('category', sa.Enum('MESSAGE', 'ENGAGEMENT', 'TICKET', 'TODO', 'PROJECT', name='errandcategory'), nullable=True),
    sa.Column('title', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('label_uid', sa.String(), nullable=True),
    sa.Column('priority', sa.String(), nullable=True),
    sa.Column('poster_uid', sa.String(), nullable=True),
    sa.Column('reporter_uid', sa.String(), nullable=True),
    sa.Column('assignee_uid', sa.String(), nullable=True),
    sa.Column('start_date', sa.DateTime(), nullable=True),
    sa.Column('end_date', sa.DateTime(), nullable=True),
    sa.Column('progress', sa.Integer(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['assignee_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['label_uid'], ['grind_label.uid'], ),
    sa.ForeignKeyConstraint(['poster_uid'], ['grind_poster.uid'], ),
    sa.ForeignKeyConstraint(['reporter_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_errand_uid'), 'grind_errand', ['uid'], unique=False)
    op.create_table('grind_poster_member',
    sa.Column('grind_poster_uid', sa.String(), nullable=True),
    sa.Column('user_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['grind_poster_uid'], ['grind_poster.uid'], ),
    sa.ForeignKeyConstraint(['user_uid'], ['user.uid'], )
    )
    op.create_table('grind_poster_stamp',
    sa.Column('grind_poster_uid', sa.String(), nullable=True),
    sa.Column('grind_stamp_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['grind_poster_uid'], ['grind_poster.uid'], ),
    sa.ForeignKeyConstraint(['grind_stamp_uid'], ['grind_stamp.uid'], )
    )
    op.create_table('document_compliance_issue',
    sa.Column('check_uid', sa.String(), nullable=True),
    sa.Column('section', sa.String(), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('severity', sa.String(), nullable=True),
    sa.Column('suggestion', sa.Text(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['check_uid'], ['document_ai_compliance_check.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_compliance_issue_uid'), 'document_compliance_issue', ['uid'], unique=False)
    op.create_table('document_review_step',
    sa.Column('review_cycle_uid', sa.String(), nullable=True),
    sa.Column('reviewer_uid', sa.String(), nullable=True),
    sa.Column('sequence', sa.Integer(), nullable=True),
    sa.Column('status', sa.String(), nullable=True),
    sa.Column('comments', sa.Text(), nullable=True),
    sa.Column('action_date', sa.DateTime(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['review_cycle_uid'], ['document_review_cycle.uid'], ),
    sa.ForeignKeyConstraint(['reviewer_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_review_step_uid'), 'document_review_step', ['uid'], unique=False)
    op.create_table('grind_errand_member',
    sa.Column('grind_errand_uid', sa.String(), nullable=True),
    sa.Column('grind_user_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['grind_errand_uid'], ['grind_errand.uid'], ),
    sa.ForeignKeyConstraint(['grind_user_uid'], ['user.uid'], )
    )
    op.create_table('grind_errand_stamp',
    sa.Column('grind_errand_uid', sa.String(), nullable=True),
    sa.Column('grind_stamp_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['grind_errand_uid'], ['grind_errand.uid'], ),
    sa.ForeignKeyConstraint(['grind_stamp_uid'], ['grind_stamp.uid'], )
    )
    op.create_table('grind_milestone',
    sa.Column('errand_uid', sa.String(), nullable=True),
    sa.Column('title', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('complete', sa.Boolean(), nullable=True),
    sa.Column('assignee_uid', sa.String(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['assignee_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['errand_uid'], ['grind_errand.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_grind_milestone_uid'), 'grind_milestone', ['uid'], unique=False)
    op.create_table('document_ai_review_feedback',
    sa.Column('review_step_uid', sa.String(), nullable=True),
    sa.Column('model_uid', sa.String(), nullable=True),
    sa.Column('suggestions', sa.Text(), nullable=True),
    sa.Column('uid', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('created_by_uid', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('updated_by_uid', sa.String(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_uid'], ['user.uid'], ),
    sa.ForeignKeyConstraint(['model_uid'], ['document_ai_model.uid'], ),
    sa.ForeignKeyConstraint(['review_step_uid'], ['document_review_step.uid'], ),
    sa.ForeignKeyConstraint(['updated_by_uid'], ['user.uid'], ),
    sa.PrimaryKeyConstraint('uid')
    )
    op.create_index(op.f('ix_document_ai_review_feedback_uid'), 'document_ai_review_feedback', ['uid'], unique=False)
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_document_ai_review_feedback_uid'), table_name='document_ai_review_feedback')
    op.drop_table('document_ai_review_feedback')
    op.drop_index(op.f('ix_grind_milestone_uid'), table_name='grind_milestone')
    op.drop_table('grind_milestone')
    op.drop_table('grind_errand_stamp')
    op.drop_table('grind_errand_member')
    op.drop_index(op.f('ix_document_review_step_uid'), table_name='document_review_step')
    op.drop_table('document_review_step')
    op.drop_index(op.f('ix_document_compliance_issue_uid'), table_name='document_compliance_issue')
    op.drop_table('document_compliance_issue')
    op.drop_table('grind_poster_stamp')
    op.drop_table('grind_poster_member')
    op.drop_index(op.f('ix_grind_errand_uid'), table_name='grind_errand')
    op.drop_table('grind_errand')
    op.drop_index(op.f('ix_document_version_uid'), table_name='document_version')
    op.drop_table('document_version')
    op.drop_table('document_tagged')
    op.drop_index(op.f('ix_document_subscription_uid'), table_name='document_subscription')
    op.drop_table('document_subscription')
    op.drop_index(op.f('ix_document_status_uid'), table_name='document_status')
    op.drop_table('document_status')
    op.drop_index(op.f('ix_document_review_cycle_uid'), table_name='document_review_cycle')
    op.drop_table('document_review_cycle')
    op.drop_table('document_relation')
    op.drop_table('document_reader')
    op.drop_table('document_author')
    op.drop_index(op.f('ix_document_audit_uid'), table_name='document_audit')
    op.drop_table('document_audit')
    op.drop_index(op.f('ix_document_analytics_uid'), table_name='document_analytics')
    op.drop_table('document_analytics')
    op.drop_index(op.f('ix_document_ai_compliance_check_uid'), table_name='document_ai_compliance_check')
    op.drop_table('document_ai_compliance_check')
    op.drop_index(op.f('ix_document_ai_authoring_session_uid'), table_name='document_ai_authoring_session')
    op.drop_table('document_ai_authoring_session')
    op.drop_index(op.f('ix_grind_poster_uid'), table_name='grind_poster')
    op.drop_table('grind_poster')
    op.drop_index(op.f('ix_document_uid'), table_name='document')
    op.drop_table('document')
    op.drop_table('grind_scheme_member')
    op.drop_index(op.f('ix_grind_board_uid'), table_name='grind_board')
    op.drop_table('grind_board')
    op.drop_index(op.f('ix_document_template_uid'), table_name='document_template')
    op.drop_table('document_template')
    op.drop_index(op.f('ix_grind_stamp_uid'), table_name='grind_stamp')
    op.drop_table('grind_stamp')
    op.drop_index(op.f('ix_grind_scheme_uid'), table_name='grind_scheme')
    op.drop_table('grind_scheme')
    op.drop_index(op.f('ix_grind_occurrence_uid'), table_name='grind_occurrence')
    op.drop_table('grind_occurrence')
    op.drop_index(op.f('ix_grind_media_uid'), table_name='grind_media')
    op.drop_table('grind_media')
    op.drop_index(op.f('ix_grind_label_uid'), table_name='grind_label')
    op.drop_table('grind_label')
    op.drop_index(op.f('ix_document_tag_uid'), table_name='document_tag')
    op.drop_table('document_tag')
    op.drop_index(op.f('ix_document_folder_uid'), table_name='document_folder')
    op.drop_table('document_folder')
    op.drop_index(op.f('ix_document_compliance_standard_uid'), table_name='document_compliance_standard')
    op.drop_table('document_compliance_standard')
    op.drop_index(op.f('ix_document_category_uid'), table_name='document_category')
    op.drop_table('document_category')
    op.drop_index(op.f('ix_document_ai_model_uid'), table_name='document_ai_model')
    op.drop_table('document_ai_model')
    # ### end Alembic commands ###
