import{a0 as I,f as P,a7 as f,ad as G,_ as J,r as A,c as b,o as u,A as e,E as m,C as K,a as O,N as h,J as F,K as Q,L as p,D as W,F as D,a2 as C}from"./index-DCVfsbos.js";import{c as z,a as N,u as H,b as S}from"./index.esm-89YX2EbQ.js";import{P as R,V as X,W as Y}from"./microbiology.mutations-CV_wjL4A.js";const Z=I({__name:"AbxMedium",setup(V,{expose:t}){t();const{withClientMutation:g,withClientQuery:o}=P();let c=f(!1),x=f("");const r=f(!0),n=f(null),i=z({name:N().trim().required("Name is required"),description:N().trim().nullable()}),{handleSubmit:_,resetForm:y,setValues:w,errors:E}=H({validationSchema:i,initialValues:{name:"",description:""}}),{value:B}=S("name"),{value:T}=S("description"),a=f([]);G(()=>{o(R,{},"abxMediumAll").then(s=>{s&&(a.value=s)})});function U(s,d={}){r.value=s,c.value=!0,x.value=(s?"Create":"Edit")+" Abx Medium",s?(n.value=null,y()):(n.value=d.uid??null,w({name:d.name??"",description:d.description??""}))}const L=_(s=>{const d={name:s.name,description:s.description??null};r.value===!0&&g(X,{payload:d},"createAbxMedium").then(l=>{l&&a.value.unshift(l)}),r.value===!1&&n.value&&g(Y,{uid:n.value,payload:d},"updateAbxMedium").then(l=>{if(l){const k=a.value.findIndex(v=>v.uid==l.uid);k>-1&&(a.value=[...a.value.map((v,q)=>q===k?l:v)])}}),c.value=!1}),M={withClientMutation:g,withClientQuery:o,get showModal(){return c},set showModal(s){c=s},get formTitle(){return x},set formTitle(s){x=s},formAction:r,currentUid:n,mediumSchema:i,handleSubmit:_,resetForm:y,setValues:w,errors:E,name:B,description:T,abxMediums:a,FormManager:U,saveForm:L};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),j={class:"space-y-6"},$={class:"overflow-x-auto"},ee={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-card shadow-dashboard rounded-lg p-6"},te={class:"min-w-full divide-y divide-border beak-table"},oe={class:"bg-background divide-y divide-border"},ie={class:"whitespace-nowrap text-sm text-foreground"},se={class:"whitespace-nowrap text-sm text-foreground"},ne={class:"text-xl font-semibold text-foreground"},re={class:"grid grid-cols-2 gap-4"},ae={class:"block"},de={key:0,class:"text-sm text-destructive"},le={class:"block"},ue={key:0,class:"text-sm text-destructive"};function me(V,t,g,o,c,x){const r=A("beak-heading"),n=A("beak-modal");return u(),b(F,null,[e("div",j,[O(r,{title:"Antibiotic Medium"},{default:h(()=>[m(' <beak-button @click="FormManager(true)">Add Medium</beak-button> ')]),_:1}),e("div",$,[e("div",ee,[e("table",te,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-sm font-semibold text-foreground"},"Name"),e("th",{class:"text-left text-sm font-semibold text-foreground"},"Description"),e("th",{class:""})])],-1)),e("tbody",oe,[(u(!0),b(F,null,Q(o.abxMediums,i=>(u(),b("tr",{key:i?.uid},[e("td",ie,p(i?.name),1),e("td",se,p(i?.description),1),t[4]||(t[4]=e("td",{class:"whitespace-nowrap text-right text-sm"},[m(` <button @click="FormManager(false, medium)"
 class="px-3 py-1.5 bg-primary text-primary-foreground rounded-sm transition duration-300 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2">
 Edit
 </button> `)],-1))]))),128))])])])])]),m(" Location Edit Form Modal "),o.showModal?(u(),K(n,{key:0,onClose:t[3]||(t[3]=i=>o.showModal=!1)},{header:h(()=>[e("h3",ne,p(o.formTitle),1)]),body:h(()=>[e("form",{onSubmit:t[2]||(t[2]=W((...i)=>o.saveForm&&o.saveForm(...i),["prevent"])),class:"space-y-6 p-4"},[e("div",re,[e("label",ae,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-foreground"},"Name",-1)),D(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[0]||(t[0]=i=>o.name=i),placeholder:"Name ..."},null,512),[[C,o.name]]),o.errors.name?(u(),b("p",de,p(o.errors.name),1)):m("v-if",!0)]),e("label",le,[t[7]||(t[7]=e("span",{class:"text-sm font-medium text-foreground"},"Description",-1)),D(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=i=>o.description=i),placeholder:"Begin typing ..."},null,512),[[C,o.description]]),o.errors.description?(u(),b("p",ue,p(o.errors.description),1)):m("v-if",!0)])]),t[8]||(t[8]=e("hr",{class:"border-border"},null,-1)),t[9]||(t[9]=e("button",{type:"submit",class:"w-full bg-primary text-primary-foreground rounded-sm px-4 py-2 transition-colors duration-300 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Abx Medium ",-1))],32)]),_:1})):m("v-if",!0)],64)}const pe=J(Z,[["render",me],["__scopeId","data-v-da4c25b6"],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/admin/microbiology/medium/AbxMedium.vue"]]);export{pe as default};
