const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InvAdjustments-BDHxeu72.js","assets/index-DCVfsbos.js","assets/index-C_1sfwqa.css","assets/inventory-HFpdvBbS.js","assets/inventory.queries-BnLcsjsr.js","assets/InvListing-BVxHNUfd.js","assets/index-Cw3weLtk.js","assets/InvOrders-Dj-_4UDb.js","assets/setup-DMRnqeyP.js","assets/index-BaPnjn4Y.js"])))=>i.map(i=>d[i]);
import{a0 as f,a as t,r as a,P as r,f as h,a7 as g,h as u,a1 as n,a6 as d}from"./index-DCVfsbos.js";import{u as b,A as v}from"./inventory-HFpdvBbS.js";import{a as y}from"./storage-C2DMRCPv.js";import{u as x}from"./setup-DMRnqeyP.js";import{u as k}from"./user-C8Z2RT46.js";import"./inventory.queries-BnLcsjsr.js";const w=n(()=>d(()=>import("./InvAdjustments-BDHxeu72.js"),__vite__mapDeps([0,1,2,3,4]))),S=n(()=>d(()=>import("./InvListing-BVxHNUfd.js"),__vite__mapDeps([5,1,2,3,4,6]))),_=n(()=>d(()=>import("./InvOrders-Dj-_4UDb.js"),__vite__mapDeps([7,1,2,3,4,8,9]))),E=f({name:"inventory-home",setup(){const{withClientMutation:o}=h(),e=b(),i=x(),l=y(),m=k();e.fetchItems({first:1e4,after:"",text:"",sortBy:["-uid"]}),m.fetchUsers({}),i.fetchSuppliers(),i.fetchDepartments({}),e.fetchCategories(),e.fetchHazards(),l.fetchStoreRooms(),e.fetchUnits();const c=g(!1);return{tabs:u(()=>[{id:"orders",label:"orders",component:t(_,null,null)},{id:"products",label:"products",component:t(S,null,null)},{id:"ledger",label:"ledger",component:t(w,null,null)}]),basket:u(()=>e.getBasket),viewBasket:c,inventoryStore:e,createOrder:()=>{const p=e.getBasket;o(v,{payload:{orderProducts:p.map(s=>({productUid:s.product.uid,stockLotUid:s.stockLotUid,quantity:s.quantity,remarks:""})),departmentUid:void 0}},"createStockOrder").then(s=>{e.addStockOrder(s?.stockOrder),e.clearBasket(),c.value=!1})}}},render(){return t("div",{class:"space-y-4"},[t(a("beak-heading"),{title:"Inventory Management"},null),t(a("beak-tabs"),{tabs:this.tabs,"initial-tab":"listing",class:"rounded-lg"},null),t(a("beak-drawer"),{show:this.viewBasket,onClose:()=>this.viewBasket.value=!1,contentWidth:"w-96"},{header:()=>t("span",{class:"text-lg font-medium text-card-foreground"},[r("Order Basket")]),body:()=>t("div",{class:"space-y-4"},[t("div",{class:"flex justify-between items-center"},[t("h3",{class:"text-lg font-medium text-foreground"},[r("Products")]),t("button",{class:"px-3 py-1.5 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200",onClick:()=>this.createOrder()},[r("Submit Order")])]),t("div",{class:"overflow-hidden shadow ring-1 ring-border ring-opacity/5 rounded-lg"},[t("table",{class:"min-w-full divide-y divide-border beak-table"},[t("thead",{class:"bg-muted"},[t("tr",null,[t("th",{class:"text-left text-sm font-medium text-foreground"},[r("Product")]),t("th",{class:"text-right text-sm font-medium text-foreground"},[r("Quantity")]),t("th",{class:"text-right text-sm font-medium text-foreground"},[r("Actions")])])]),t("tbody",{class:"divide-y divide-border bg-background"},[this.basket.map(o=>t("tr",{key:o.product.uid},[t("td",{class:"whitespace-nowrap text-sm text-foreground"},[o.product.name]),t("td",{class:"whitespace-nowrap text-sm text-right text-foreground"},[o.quantity]),t("td",{class:"whitespace-nowrap text-sm text-right"},[t("button",{class:"text-destructive hover:text-destructive/80 transition-colors duration-200",onClick:()=>this.inventoryStore.removeFromBasket(o.product.uid)},[r("Remove")])])]))])])])])})])}});export{E as InventoryHome,E as default};
