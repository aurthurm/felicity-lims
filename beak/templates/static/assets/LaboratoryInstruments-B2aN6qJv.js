const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DCVfsbos.js","assets/index-C_1sfwqa.css"])))=>i.map(i=>d[i]);
import{a0 as z,f as G,a7 as v,h as S,a1 as H,a6 as Q,_ as W,r as N,c as b,o as l,A as e,E as M,C as X,a as E,N as x,P as Z,J as D,K as F,L as r,D as j,F as c,a9 as $,a2 as y}from"./index-DCVfsbos.js";import{a as ee,b as te}from"./instrument.mutations-ChfeIgLV.js";import{u as oe}from"./setup-DMRnqeyP.js";import{c as se,a as f,u as ie,b as p}from"./index.esm-89YX2EbQ.js";const ne=z({__name:"LaboratoryInstruments",setup(T,{expose:t}){t();const k=H(()=>Q(()=>import("./index-DCVfsbos.js").then(i=>i.cl),__vite__mapDeps([0,1]))),o=oe(),{withClientMutation:g}=G();let m=v(!1),u=v("");const d=v(!0),a=v(null),s=se({instrumentUid:f().required("Instrument is required"),labName:f().required("Lab name/ID is required"),serialNumber:f().nullable(),dateCommissioned:f().nullable(),dateDecommissioned:f().nullable()}),{handleSubmit:_,errors:V,resetForm:w,setValues:I}=ie({validationSchema:s,initialValues:{instrumentUid:"",labName:"",serialNumber:"",dateCommissioned:"",dateDecommissioned:""}}),{value:A}=p("instrumentUid"),{value:B}=p("labName"),{value:R}=p("serialNumber"),{value:q}=p("dateCommissioned"),{value:O}=p("dateDecommissioned");o.fetchInstruments(),o.fetchLaboratoryInstruments();const P=S(()=>o.getInstruments),J=S(()=>o.getLaboratoryInstruments);function C(i){const n={labName:i.labName,serialNumber:i.serialNumber,dateCommissioned:i.dateCommissioned,dateDecommissioned:i.dateDecommissioned,instrumentUid:i.instrumentUid};g(ee,{payload:n},"createLaboratoryInstrument").then(h=>o.addLaboratoryInstrument(h))}function L(i){if(!a.value)return;const n={labName:i.labName,serialNumber:i.serialNumber,dateCommissioned:i.dateCommissioned,dateDecommissioned:i.dateDecommissioned,instrumentUid:i.instrumentUid};g(te,{uid:a.value,payload:n},"updateLaboratoryInstrument").then(h=>o.updateLaboratoryInstrument(h))}function K(i,n={}){d.value=i,m.value=!0,u.value=(i?"CREATE":"EDIT")+" LABORATORY INSTRUMENT",i?(a.value=null,w({values:{instrumentUid:"",labName:"",serialNumber:"",dateCommissioned:"",dateDecommissioned:""}})):(a.value=n.uid??null,I({instrumentUid:n.instrumentUid??"",labName:n.labName??"",serialNumber:n.serialNumber??"",dateCommissioned:n.dateCommissioned??"",dateDecommissioned:n.dateDecommissioned??""}))}const Y=_(i=>{d.value===!0&&C(i),d.value===!1&&L(i),m.value=!1}),U={modal:k,setupStore:o,withClientMutation:g,get showModal(){return m},set showModal(i){m=i},get formTitle(){return u},set formTitle(i){u=i},formAction:d,currentUid:a,formSchema:s,handleSubmit:_,errors:V,resetForm:w,setValues:I,instrumentUid:A,labName:B,serialNumber:R,dateCommissioned:q,dateDecommissioned:O,instruments:P,laboratoryInstruments:J,addLabInstrument:C,editLabInstrument:L,FormManager:K,saveForm:Y};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),re={class:"space-y-6"},ae={class:"border border-border bg-background rounded-lg shadow-sm p-6 overflow-hidden"},de={class:"relative w-full overflow-auto"},le={class:"w-full caption-bottom text-sm beak-table"},me={class:"[&_tr:last-child]:border-0"},ue={class:"px-4 py-2 align-middle"},be={class:"px-4 py-2 align-middle"},ce={class:"px-4 py-2 align-middle text-primary"},fe={class:"px-4 py-2 align-middle text-primary"},pe={class:"px-4 py-2 align-middle text-primary"},ge={class:"px-4 py-2 align-middle text-right"},ve=["onClick"],xe={class:"text-lg font-semibold text-foreground"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"space-y-2"},he=["value"],Ne={class:"text-sm text-destructive"},De={class:"space-y-2"},ke={class:"text-sm text-destructive"},we={class:"space-y-2"},Ie={class:"space-y-2"},Ce={class:"space-y-2"};function Le(T,t,k,o,g,m){const u=N("beak-button"),d=N("beak-heading"),a=N("beak-modal");return l(),b(D,null,[e("div",re,[E(d,{title:"Laboratory Instruments"},{default:x(()=>[E(u,{onClick:t[0]||(t[0]=s=>o.FormManager(!0))},{default:x(()=>[...t[8]||(t[8]=[Z(" Add Laboratory Instrument",-1)])]),_:1})]),_:1}),e("div",ae,[e("div",de,[e("table",le,[t[9]||(t[9]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Instrument"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Lab Name/ID"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Serial Number"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Commissioned"),e("th",{class:"px-4 py-2 text-left align-middle font-medium text-muted-foreground"},"Date Decommissioned"),e("th",{class:"px-4 py-2 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),e("tbody",me,[(l(!0),b(D,null,F(o.laboratoryInstruments,s=>(l(),b("tr",{key:s?.uid,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",ue,r(s?.instrument?.name),1),e("td",be,r(s?.labName),1),e("td",ce,r(s?.serialNumber),1),e("td",fe,r(s?.dateCommissioned),1),e("td",pe,r(s?.dateDecommissioned),1),e("td",ge,[e("button",{onClick:_=>o.FormManager(!1,s),class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"}," Edit ",8,ve)])]))),128))])])])])]),M(" Laboratory Instrument Form Modal "),o.showModal?(l(),X(a,{key:0,onClose:t[7]||(t[7]=s=>o.showModal=!1)},{header:x(()=>[e("h3",xe,r(o.formTitle),1)]),body:x(()=>[e("form",{onSubmit:t[6]||(t[6]=j((...s)=>o.saveForm&&o.saveForm(...s),["prevent"])),class:"space-y-6"},[e("div",ye,[e("div",_e,[t[11]||(t[11]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Instrument ",-1)),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.instrumentUid=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[10]||(t[10]=e("option",{value:""},"Select Instrument",-1)),(l(!0),b(D,null,F(o.instruments,s=>(l(),b("option",{key:s?.uid,value:s.uid},r(s?.name),9,he))),128))],512),[[$,o.instrumentUid]]),e("div",Ne,r(o.errors.instrumentUid),1)]),e("div",De,[t[12]||(t[12]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Laboratory Name/ID ",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.labName=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter lab name or ID..."},null,512),[[y,o.labName]]),e("div",ke,r(o.errors.labName),1)]),e("div",we,[t[13]||(t[13]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Serial Number ",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.serialNumber=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter serial number..."},null,512),[[y,o.serialNumber]])]),e("div",Ie,[t[14]||(t[14]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Commissioned ",-1)),c(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=s=>o.dateCommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[y,o.dateCommissioned]])]),e("div",Ce,[t[15]||(t[15]=e("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Date Decommissioned ",-1)),c(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=s=>o.dateDecommissioned=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[y,o.dateDecommissioned]])])]),t[16]||(t[16]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Save Changes ")],-1))],32)]),_:1})):M("v-if",!0)],64)}const Fe=W(ne,[["render",Le],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/admin/instruments/LaboratoryInstruments.vue"]]);export{Fe as default};
