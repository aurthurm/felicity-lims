const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PatientForm-D_O2Mn1-.js","assets/index-DCVfsbos.js","assets/index-C_1sfwqa.css","assets/vue-multiselect.esm-CQe58Q7H.js","assets/index.esm-89YX2EbQ.js","assets/patient.mutations-BBFIahIT.js","assets/client-B-7vfgTR.js","assets/location-DdmSnePa.js","assets/patient-rk8kC1RZ.js","assets/index-Cw3weLtk.js","assets/vue-multiselect-Chsy-e4F.css","assets/PatientInfo-SvxVG7n6.js","assets/index-BaPnjn4Y.js","assets/BeakAnalyisRequestListing-Dv2VOIgh.js","assets/PatientBill-CZBGXsY3.js","assets/billing-DgtkDXhi.js","assets/billing.queries-C5-RkHZH.js","assets/PatientBill-DgtmbiIH.css","assets/BeakAuditLog-mI0UFYmJ.js","assets/user-C8Z2RT46.js"])))=>i.map(i=>d[i]);
import{a0 as j,aq as B,a7 as C,g as G,h as I,a1 as p,a6 as f,ad as O,_ as U,r as g,aa as Q,c as d,o as i,a as b,E as l,A as t,C as P,N as k,P as K,F as N,J as q,K as z,Q as H,L as m}from"./index-DCVfsbos.js";import{u as J}from"./patient-rk8kC1RZ.js";import{u as W}from"./location-DdmSnePa.js";import{s as X}from"./index-BaPnjn4Y.js";const Y=j({__name:"PatientsCompact",setup(R,{expose:s}){s();const u={MALE:0,FEMALE:1,MISSING:2,TRANS:3},e={[u.MALE]:"Male",[u.FEMALE]:"Female",[u.MISSING]:"Missing",[u.TRANS]:"Trans Gender"},x={PatientForm:p(()=>f(()=>import("./PatientForm-D_O2Mn1-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),PatientInfo:p(()=>f(()=>import("./PatientInfo-SvxVG7n6.js"),__vite__mapDeps([11,1,2,12,8,9])))},c=J(),h=W(),{patients:y,fetchingPatients:v}=B(c),_=C(!1),r=C({}),a=G({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1}),o=I(()=>Object.keys(r.value).length>0),E=I(()=>[{id:"samples",label:"Samples",component:p(()=>f(()=>import("./BeakAnalyisRequestListing-Dv2VOIgh.js"),__vite__mapDeps([13,1,2,9]))),props:{target:"patient-samples",targetUid:r.value.uid}},{id:"billing",label:"Billing",component:p(()=>f(()=>import("./PatientBill-CZBGXsY3.js"),__vite__mapDeps([14,1,2,15,16,9,17]))),props:{patientUid:r.value.uid}},{id:"logs",label:"Logs",component:p(()=>f(()=>import("./BeakAuditLog-mI0UFYmJ.js"),__vite__mapDeps([18,1,2,19,9]))),props:{targetType:"patient",targetUid:r.value.uid}}]),T=n=>`${n.firstName} ${n.lastName}`,L=n=>e[n]||"Unknown",A=n=>{r.value=n,c.setPatient(n)},S=()=>{r.value={},c.resetPatient()},F=n=>{const V=n.target;a.first=100,a.before="",a.text=V.value,a.filterAction=!0,c.fetchPatients(a)},M=async()=>{S(),_.value=!0},D=n=>{A(n),_.value=!1};O(()=>{h.fetchCountries(),c.fetchPatients(a)});const w={GENDERS:u,GENDER_LABELS:e,components:x,patientStore:c,locationStore:h,patients:y,fetchingPatients:v,showModal:_,patientForm:r,searchParams:a,isPatientSelected:o,tabs:E,getPatientFullName:T,getGender:L,selectPatient:A,resetPatient:S,handleSearch:F,handleQuickRegistration:M,handlePatientUpdate:D,get shield(){return X}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Z={class:"space-y-6"},$={class:"flex justify-between items-center"},ee={class:"flex items-center space-x-4"},te={class:"grid grid-cols-12 gap-6"},oe={initial:{opacity:0,y:100},enter:{opacity:1,y:0},delay:400,class:"col-span-3 max-h-[calc(100vh-14rem)] overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ne={key:1,class:"space-y-2"},se=["onClick"],ae={class:"space-y-2"},ie={class:"flex justify-between items-center"},re={class:"font-semibold text-foreground"},le={class:"text-sm text-muted-foreground"},ce={class:"flex justify-between text-sm text-muted-foreground"},de={class:"flex justify-between text-sm text-muted-foreground"},me={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0},delay:400,class:"col-span-9 space-y-6"};function ue(R,s,u,e,x,c){const h=g("beak-heading"),y=g("router-link"),v=g("beak-loader"),_=g("beak-tabs"),r=g("beak-modal"),a=Q("motion");return i(),d("div",Z,[b(h,{title:"Patients Quick View"}),l(" Header Actions "),t("div",$,[t("div",ee,[e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(i(),P(y,{key:0,to:"/patients/search",class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"},{default:k(()=>[...s[2]||(s[2]=[K(" Add Patient ",-1)])]),_:1})):l("v-if",!0),t("input",{type:"text",placeholder:"Search patients...",class:"w-64 px-4 py-2 text-sm text-foreground placeholder-muted-foreground border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyup:e.handleSearch,onFocus:e.resetPatient},null,32)]),e.shield.hasRights(e.shield.actions.CREATE,e.shield.objects.PATIENT)?(i(),d("button",{key:0,class:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:e.handleQuickRegistration}," Quick Registration ")):l("v-if",!0)]),l(" Main Content "),t("div",te,[l(" Patient List "),N((i(),d("section",oe,[e.fetchingPatients?(i(),P(v,{key:0,message:"Fetching patients..."})):(i(),d("div",ne,[(i(!0),d(q,null,z(e.patients,o=>(i(),d("div",{key:o.patientId,onClick:E=>e.selectPatient(o),class:H(["bg-background p-4 rounded-lg shadow-sm border border-border cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary",{"border-primary bg-primary/5":o.uid===e.patientForm?.uid}])},[t("div",ae,[t("div",ie,[t("span",re,m(e.getPatientFullName(o)),1),t("span",le,m(o.age)+" yrs, "+m(e.getGender(+(o.gender??0))),1)]),t("div",ce,[t("span",null,m(o.patientId),1),t("span",null,m(o.clientPatientId),1)]),t("div",de,[t("span",null,m(o?.client?.district?.province?.name),1),t("span",null,m(o?.client?.name),1)])])],10,se))),128))]))])),[[a]]),l(" Patient Details "),e.isPatientSelected?N((i(),d("section",me,[b(e.components.PatientInfo,{onEditPatient:s[0]||(s[0]=o=>e.showModal=!0)}),b(_,{tabs:e.tabs,"initial-tab":"samples","keep-alive":!1,class:"rounded-lg"},null,8,["tabs"])])),[[a]]):l("v-if",!0)]),l(" Edit Modal "),e.showModal?(i(),P(r,{key:0,onClose:s[1]||(s[1]=o=>e.showModal=!1),"content-width":"w-3/6",class:"bg-background"},{header:k(()=>[...s[3]||(s[3]=[t("h3",{class:"text-xl font-semibold text-foreground"},"Patient Form",-1)])]),body:k(()=>[b(e.components.PatientForm,{patient:e.patientForm,navigate:!1,onClose:e.handlePatientUpdate},null,8,["patient"])]),_:1})):l("v-if",!0)])}const he=U(Y,[["render",ue],["__scopeId","data-v-81af20fc"],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/patient/PatientsCompact.vue"]]);export{he as default};
