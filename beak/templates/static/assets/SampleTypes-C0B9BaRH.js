const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B3ZheI5m.js","assets/index-C_1sfwqa.css"])))=>i.map(i=>d[i]);
import{a0 as L,u as I,f as O,a7 as u,h as R,a1 as Y,a6 as J,_ as K,r as y,c as _,o as p,A as e,C as Z,E as z,a as M,N as f,P as G,J as A,K as H,L as n,D as Q,F as b,a2 as h,a3 as W}from"./index-B3ZheI5m.js";import{Y as X,Z as j}from"./analyses.mutations--kSQRsEC.js";import{c as $,f as ee,a as w,u as te,b as g}from"./index.esm-C1wdlr_y.js";const oe=L({__name:"SampleTypes",setup(D,{expose:t}){t();const k=Y(()=>J(()=>import("./index-B3ZheI5m.js").then(i=>i.cl),__vite__mapDeps([0,1]))),o=I(),{withClientMutation:m}=O();let d=u(!1),c=u("");const l=u(!0),r=u(null),s=$({name:w().required("Sample type name is required"),abbr:w().required("Prefix is required"),description:w().nullable(),active:ee().nullable()}),{handleSubmit:v,errors:E,resetForm:S,setValues:T}=te({validationSchema:s,initialValues:{name:"",abbr:"",description:"",active:!0}}),{value:F}=g("name"),{value:V}=g("abbr"),{value:P}=g("description"),{value:N}=g("active");o.fetchSampleTypes();const U=R(()=>o.getSampleTypes);function q(i,a={}){l.value=i,d.value=!0,c.value=(i?"CREATE":"EDIT")+" SAMPLE TYPE",i?(r.value=null,S({values:{name:"",abbr:"",description:"",active:!0}})):(r.value=a.uid??null,T({name:a.name??"",abbr:a.abbr??"",description:a.description??"",active:a.active??!0}))}const B=v(i=>{const a={name:i.name,abbr:i.abbr,description:i.description,active:i.active};if(l.value===!0&&m(X,{payload:a},"createSampleType").then(x=>o.addSampleType(x)),l.value===!1){if(!r.value)return;m(j,{uid:r.value,payload:a},"updateSampleType").then(x=>o.updateSampleType(x))}d.value=!1}),C={modal:k,sampleStore:o,withClientMutation:m,get showModal(){return d},set showModal(i){d=i},get formTitle(){return c},set formTitle(i){c=i},formAction:l,currentUid:r,formSchema:s,handleSubmit:v,errors:E,resetForm:S,setValues:T,name:F,abbr:V,description:P,active:N,sampleTypes:U,FormManager:q,saveForm:B};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),se={class:"space-y-6"},ie={class:"overflow-x-auto"},ae={class:"inline-block min-w-full align-middle"},re={class:"overflow-hidden shadow-md rounded-lg bg-background p-6"},le={class:"min-w-full divide-y divide-border beak-table"},ne={class:"bg-background divide-y divide-border"},de={class:"px-4 py-2 whitespace-nowrap"},ce={class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},me={class:"px-4 py-2 whitespace-nowrap"},ue={class:"text-sm text-primary"},pe={class:"px-4 py-2 whitespace-nowrap"},fe={class:"text-sm text-primary"},be={class:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium"},ge=["onClick"],ve={class:"text-xl font-semibold text-foreground"},xe={class:"grid grid-cols-1 gap-4"},ye={class:"block"},_e={class:"text-sm text-destructive"},he={class:"block"},we={class:"text-sm text-destructive"},ke={class:"block"},Se={class:"flex items-center"},Te={class:"relative inline-block w-10 align-middle select-none"};function Ce(D,t,k,o,m,d){const c=y("beak-button"),l=y("beak-heading"),r=y("beak-modal");return p(),_(A,null,[e("div",se,[M(l,{title:"Sample Types"},{default:f(()=>[M(c,{onClick:t[0]||(t[0]=s=>o.FormManager(!0))},{default:f(()=>[...t[7]||(t[7]=[G("Add Sample Type",-1)])]),_:1})]),_:1}),e("div",ie,[e("div",ae,[e("div",re,[e("table",le,[t[8]||(t[8]=e("thead",{class:"bg-muted"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Sample Type"),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Prefix"),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-muted-foreground tracking-wider"},"Active"),e("th",{scope:"col",class:"px-4 py-2 text-right text-sm font-medium text-muted-foreground tracking-wider"},"Actions")])],-1)),e("tbody",ne,[(p(!0),_(A,null,H(o.sampleTypes,s=>(p(),_("tr",{key:s?.uid},[e("td",de,[e("div",ce,n(s?.name),1)]),e("td",me,[e("div",ue,n(s?.abbr),1)]),e("td",pe,[e("div",fe,n(s?.active),1)]),e("td",be,[e("button",{onClick:v=>o.FormManager(!1,s),class:"text-primary hover:text-primary/80 transition-colors duration-200"}," Edit ",8,ge)])]))),128))])])])])])]),o.showModal?(p(),Z(r,{key:0,onClose:t[6]||(t[6]=s=>o.showModal=!1)},{header:f(()=>[e("h3",ve,n(o.formTitle),1)]),body:f(()=>[e("form",{onSubmit:t[5]||(t[5]=Q((...s)=>o.saveForm&&o.saveForm(...s),["prevent"])),class:"space-y-6 p-4"},[e("div",xe,[e("label",ye,[t[9]||(t[9]=e("span",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Sample Type Name",-1)),b(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>o.name=s),placeholder:"Name ..."},null,512),[[h,o.name]]),e("div",_e,n(o.errors.name),1)]),e("label",he,[t[10]||(t[10]=e("span",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Prefix",-1)),b(e("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[2]||(t[2]=s=>o.abbr=s),placeholder:"Prefix ..."},null,512),[[h,o.abbr]]),e("div",we,n(o.errors.abbr),1)]),e("label",ke,[t[11]||(t[11]=e("span",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Description",-1)),b(e("textarea",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","onUpdate:modelValue":t[3]||(t[3]=s=>o.description=s),placeholder:"Description ...",rows:"3"},null,512),[[h,o.description]])]),e("div",Se,[t[13]||(t[13]=e("span",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mr-2"},"Active",-1)),e("div",Te,[b(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":t[4]||(t[4]=s=>o.active=s),class:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-background border-4 appearance-none cursor-pointer outline-none transition-colors duration-200"},null,512),[[W,o.active]]),t[12]||(t[12]=e("label",{for:"toggle",class:"toggle-label block overflow-hidden h-6 rounded-full bg-muted cursor-pointer transition-colors duration-200"},null,-1))])])]),t[14]||(t[14]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"}," Save Sample Type ")],-1))],32)]),_:1})):z("",!0)],64)}const Ee=K(oe,[["render",Ce],["__scopeId","data-v-f73ce93d"],["__file","/home/administrator/Documents/Development/beak-insights/felicity/felicity-lims/webapp/views/admin/sample/SampleTypes.vue"]]);export{Ee as default};
