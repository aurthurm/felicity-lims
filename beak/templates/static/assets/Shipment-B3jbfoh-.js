import{a0 as k,ac as S,h as l,g as D,_ as A,r as x,aa as R,c as h,o as g,F as r,a as b,A as e,E as d,L as i,P as L,H as a}from"./index-DCVfsbos.js";import{u as B}from"./shipment-WjNW9B2l.js";import{u as O}from"./shipment-BLjiMqHB.js";const j=k({__name:"Shipment",setup(_,{expose:o}){o();const c=S(),t=B(),{actionShipment:m}=O();t.fetchReferralLaboratories(),t.fetchShipmentByUid(c.params.shipmentUid);const n=l(()=>t.getShipment),u=D({dropdownOpen:!1}),p=l(()=>!!["due"].includes(n?.value?.state?.toLowerCase())),f=l(()=>!!["preperation"].includes(n?.value?.state?.toLowerCase())),s=l(()=>!!["preperation","ready"].includes(n?.value?.state?.toLowerCase())),w=l(()=>!!["ready"].includes(n?.value?.state?.toLowerCase())),y=l(()=>!!["failed"].includes(n?.value?.state?.toLowerCase())),v={route:c,shipmentStore:t,actionShipment:m,shipment:n,state:u,canReceive:p,canFinalise:f,canCancel:s,canDispatch:w,canRetryDispatch:y,shipmentActor:C=>{if(!n.value?.incoming&&!(n.value?.laboratory?.url&&n.value?.laboratory?.password&&n.value?.laboratory?.username&&n.value?.courier)){alert("The External Laboratory has missing information or the courier missing");return}m(n.value?.uid,C)}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),N={class:"space-y-6"},E={class:"bg-background rounded-lg shadow-sm border border-border p-6 transition-all duration-200 hover:shadow-md"},F={class:"space-y-6"},V={class:"flex items-center justify-between"},H={class:"flex items-center space-x-6"},I={class:"text-lg font-semibold text-foreground"},P={class:"inline-flex items-center rounded-md bg-muted px-2 py-1 text-xs font-medium text-muted-foreground"},T={class:"relative"},U={class:"absolute right-0 mt-2 w-56 rounded-md bg-background shadow-lg ring-1 ring-black ring-opacity/5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button"},z={class:"py-1",role:"none"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-border"},q={class:"space-y-4"},G={class:"flex items-center"},J={class:"text-sm text-foreground"},K={class:"flex items-center"},Q={class:"text-sm text-foreground"},W={class:"flex items-center"},X={class:"text-sm text-foreground"},Y={class:"space-y-4"},Z={class:"flex items-start"},$={class:"text-sm text-foreground"};function ee(_,o,c,t,m,n){const u=x("font-awesome-icon"),p=x("router-view"),f=R("motion-slide-top");return g(),h("div",N,[r((g(),h("div",E,[e("div",F,[d(" Header Section "),e("div",V,[e("div",H,[e("h3",I,i(t.shipment?.shipmentId),1),e("span",P,i(t.shipment?.incoming?"InBound":"OutBound"),1)]),d(" Actions Dropdown "),e("div",T,[e("button",{onClick:o[0]||(o[0]=s=>t.state.dropdownOpen=!t.state.dropdownOpen),class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4"},[L(i(t.shipment?.state||"unknown")+" ",1),b(u,{icon:"chevron-down",class:"ml-2 h-4 w-4"})]),d(" Dropdown Menu "),r(e("div",U,[e("div",z,[r(e("button",{onClick:o[1]||(o[1]=s=>t.shipmentActor("reject")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Reject ",512),[[a,t.canReceive]]),r(e("button",{onClick:o[2]||(o[2]=s=>t.shipmentActor("receive")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Receive ",512),[[a,t.canReceive]]),r(e("button",{onClick:o[3]||(o[3]=s=>t.shipmentActor("finalise")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Finalise ",512),[[a,t.canFinalise]]),r(e("button",{onClick:o[4]||(o[4]=s=>t.shipmentActor("dispatch")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Dispatch ",512),[[a,t.canDispatch]]),r(e("button",{onClick:o[5]||(o[5]=s=>t.shipmentActor("dispatch-now")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Retry Notification ",512),[[a,t.canRetryDispatch]]),r(e("button",{onClick:o[6]||(o[6]=s=>t.shipmentActor("cancel")),class:"block w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted hover:text-foreground",role:"menuitem"}," Cancel ",512),[[a,t.canCancel]])])],512),[[a,t.state.dropdownOpen]])])]),d(" Details Section "),e("div",M,[e("div",q,[e("div",G,[o[7]||(o[7]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"External Laboratory",-1)),e("span",J,i(t.shipment?.laboratory?.name),1)]),e("div",K,[o[8]||(o[8]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Courier",-1)),e("span",Q,i(t.shipment?.courier),1)]),e("div",W,[o[9]||(o[9]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Assigned Count",-1)),e("span",X,i(t.shipment?.assignedCount),1)])]),e("div",Y,[e("div",Z,[o[10]||(o[10]=e("span",{class:"w-1/3 text-sm font-medium text-muted-foreground"},"Comment",-1)),e("span",$,i(t.shipment?.comment),1)])])])])])),[[f]]),b(p)])}const re=A(j,[["render",ee],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/shipment/_id/Shipment.vue"]]);export{re as default};
