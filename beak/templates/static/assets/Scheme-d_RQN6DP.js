const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BoardView-0dSpDGNL.js","assets/index-DCVfsbos.js","assets/index-C_1sfwqa.css","assets/grind.queries-CepHqusz.js","assets/index-DKgQr4wR.js","assets/BoardView-Cg0A5-mv.css"])))=>i.map(i=>d[i]);
import{a0 as S,f as A,a7 as m,a5 as j,h as q,a1 as I,a6 as L,_ as M,r as T,c as v,o as b,A as o,a as U,L as f,ac as N,ad as O,g as Q,a4 as R,E as i,C as k,J as z,K as H,Q as J,N as C,D as K,F,P as W,a2 as D}from"./index-DCVfsbos.js";import{b as X,n as Y,o as Z,p as $}from"./grind.queries-CepHqusz.js";import{r as ee,m as oe}from"./index-DKgQr4wR.js";import{r as re}from"./ArrowLeftIcon-HJKXquEv.js";const te=S({__name:"Board",props:{board:{type:Object,required:!0}},setup(p,{expose:r}){r();const{withClientQuery:l}=A(),e=p,a=m([]);j(()=>e.board?.uid,n=>{n&&l(X,{boardUid:n},"grindPostersByBoard").then(g=>{a.value=g})},{immediate:!0});const d=I(()=>L(()=>import("./BoardView-0dSpDGNL.js"),__vite__mapDeps([0,1,2,3,4,5]))),c=q(()=>[{id:"board-view",label:"board-view",component:d,props:{posters:a.value,boardUid:e.board?.uid}}]),s={withClientQuery:l,props:e,posters:a,BoardViewComponent:d,tabs:c};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),se={class:"space-y-4"},ae={class:"bg-background p-4 rounded-lg text-muted-foreground italic font-medium leading-relaxed"};function de(p,r,l,e,a,d){const c=T("beak-tabs");return b(),v("div",se,[r[0]||(r[0]=o("div",{class:"border-t border-border my-4"},null,-1)),o("p",ae,f(l.board?.description),1),r[1]||(r[1]=o("div",{class:"border-t border-border my-4"},null,-1)),U(c,{tabs:e.tabs,"initial-tab":"board-view",class:"mt-4"},null,8,["tabs"])])}const ne=M(te,[["render",de],["__scopeId","data-v-bf20a9e6"],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/grind/_id/Board.vue"]]),ie=S({__name:"Scheme",setup(p,{expose:r}){r();const{withClientMutation:l,withClientQuery:e}=A(),a=N(),d=m();O(async()=>{if(await c(),a.query.board){const t=d.value?.boards?.find(y=>y.uid===a.query.board);t&&B(t)}});function c(t="cache-first"){return e(Y,{uid:a.params.schemeUid},"grindSchemeByUid",t).then(y=>{d.value=y})}let s=m(!1),n=m(!1),g=m(!1),_=m(""),u=Q({});const E=()=>{s.value=!0,n.value=!0,_.value="Create Board",ee(u)},G=()=>{n.value=!1,s.value?l(Z,{payload:{...u,schemeUid:a.params.schemeUid}},"createGrindBoard").then(t=>{d.value.boards||(d.value.boards=[]),d.value.boards.push(t)}):l($,{uid:u.uid,payload:{title:u.title,description:u.description}},"updateGrindBoard").then(()=>c("network-only")),s.value=!1},P=t=>{s.value=!1,oe(u,t,!0),_.value="Update Board",n.value=!0};let x=m();const B=t=>{x.value=t,h.push({query:{board:t.uid}})},h=R();function V(){h.back()}const w={withClientMutation:l,withClientQuery:e,route:a,scheme:d,getScheme:c,get boardAction(){return s},set boardAction(t){s=t},get showBoardModal(){return n},set showBoardModal(t){n=t},get formAction(){return g},set formAction(t){g=t},get boardFormTitle(){return _},set boardFormTitle(t){_=t},get boardForm(){return u},set boardForm(t){u=t},openCreateBoardForm:E,saveBoardForm:G,updateBoard:P,get selectedBoard(){return x},set selectedBoard(t){x=t},selectBoard:B,router:h,goBack:V,get ArrowLeftIcon(){return re},Board:ne};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),le={class:"bg-background rounded-lg shadow-sm border border-border p-6 space-y-6"},ce={class:"flex items-center space-x-4"},ue={class:"flex items-center space-x-4"},me={class:"text-xl text-foreground"},be={class:"space-y-4"},fe={class:"border-t border-b border-border py-4"},pe={class:"text-muted-foreground italic"},ge={class:"space-y-4"},_e={class:"flex flex-wrap items-center gap-2"},ve={class:"flex flex-wrap gap-2"},xe=["onClick","onDblclick"],he={class:"text-lg font-semibold text-foreground"},ye={class:"flex justify-end space-x-3"},Be={type:"submit",class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"};function we(p,r,l,e,a,d){const c=T("beak-modal");return b(),v("div",le,[i(" Header "),o("div",ce,[o("button",{onClick:e.goBack,class:"p-1 text-muted-foreground hover:text-foreground transition-colors duration-200"},[U(e.ArrowLeftIcon,{class:"w-5 h-5"})]),o("div",ue,[r[4]||(r[4]=o("h1",{class:"text-2xl font-bold text-foreground"},"Project Title:",-1)),o("span",me,f(e.scheme?.title),1)])]),i(" Description "),o("div",be,[o("div",fe,[o("p",pe,f(e.scheme?.description),1)])]),i(" Boards Section "),o("div",ge,[r[5]||(r[5]=o("h2",{class:"text-xl font-semibold text-foreground"},"Boards",-1)),o("div",_e,[o("div",ve,[(b(!0),v(z,null,H(e.scheme?.boards,s=>(b(),v("button",{key:s.uid,class:J(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",[e.selectedBoard?.uid===s.uid?"bg-primary text-primary-foreground border-transparent":"bg-muted text-foreground border border-border hover:bg-muted/80"]]),onClick:n=>e.selectBoard(s),onDblclick:n=>e.updateBoard(s)},f(s.title),43,xe))),128))]),o("button",{onClick:e.openCreateBoardForm,class:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary border border-transparent rounded-md shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," + Board ")])]),i(" Selected Board "),e.selectedBoard?(b(),k(e.Board,{key:0,board:e.selectedBoard},null,8,["board"])):i("v-if",!0),i(" Create/Edit Board Modal "),e.showBoardModal?(b(),k(c,{key:1,onClose:r[3]||(r[3]=s=>e.showBoardModal=!1),"content-width":"w-full max-w-2xl"},{header:C(()=>[o("h3",he,f(e.boardFormTitle),1)]),body:C(()=>[o("form",{onSubmit:K(e.saveBoardForm,["prevent"]),class:"space-y-6"},[i(" Scheme Title "),o("div",null,[r[6]||(r[6]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"title"},[W(" Scheme Title "),o("span",{class:"text-destructive"},"*")],-1)),F(o("input",{id:"title","onUpdate:modelValue":r[0]||(r[0]=s=>e.boardForm.title=s),type:"text",required:"",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme title"},null,512),[[D,e.boardForm.title]])]),i(" Description "),o("div",null,[r[7]||(r[7]=o("label",{class:"block text-sm font-medium text-foreground mb-1",for:"description"}," Description ",-1)),F(o("textarea",{id:"description","onUpdate:modelValue":r[1]||(r[1]=s=>e.boardForm.description=s),rows:"3",class:"w-full px-3 py-2 text-foreground bg-background border border-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter scheme description"},null,512),[[D,e.boardForm.description]])]),i(" Submit button "),o("div",ye,[o("button",{type:"button",onClick:r[2]||(r[2]=s=>e.showBoardModal=!1),class:"px-4 py-2 text-sm font-medium text-foreground bg-background border border-border rounded-md shadow-sm hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200"}," Cancel "),o("button",Be,f(e.formAction?"Create":"Update"),1)])],32)]),_:1})):i("v-if",!0)])}const Se=M(ie,[["render",we],["__scopeId","data-v-be0cddfa"],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/views/grind/_id/Scheme.vue"]]);export{Se as default};
