import{a0 as D,t as S,u as N,aq as q,a5 as B,_ as F,r as g,aa as y,c as a,o as r,A as t,E as k,J as b,K as R,F as A,L as i,Q as P,a as f,N as w,P as C}from"./index-DCVfsbos.js";import{p as U}from"./index-Cw3weLtk.js";const I=D({__name:"BeakAnalyisRequestListing",props:{target:String,targetUid:String},setup(v,{expose:d}){d();const m=v,{targetUid:o,target:l}=S(m),n=N(),{analysisRequests:_,fetchingAnalysisRequests:u}=q(n);l?.value==="patient-samples"&&n.fetchAnalysisRequestsForPatient(o?.value),l?.value==="client-samples"&&n.fetchAnalysisRequestsForClient(o?.value),B(()=>m.targetUid,(c,s)=>{n.resetAnalysisRequests(),l?.value==="patient-samples"&&n.fetchAnalysisRequestsForPatient(c),l?.value==="client-samples"&&n.fetchAnalysisRequestsForClient(c)});function h(c,s){let e=[];return c.forEach(x=>e.push(x.name)),s.forEach(x=>e.push(x.name)),e.join(", ")}const p={props:m,targetUid:o,target:l,sampleStore:n,analysisRequests:_,fetchingAnalysisRequests:u,profileAnalysesText:h,get parseDate(){return U}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),L={class:"overflow-x-auto mt-4"},T={class:"rounded-lg border border-border bg-card shadow-sm"},V={class:"w-full beak-table"},j={class:"[&_tr:last-child]:border-0"},E={class:"border-b border-border bg-muted/50"},z={colspan:"10",class:"p-4"},J={class:"text-sm text-foreground"},K={class:"p-4"},O={class:"p-4"},Q={class:"font-medium"},G={class:"p-4"},H={class:"text-sm text-primary"},M={class:"p-4"},W={class:"text-sm text-primary"},X={class:"p-4"},Y={class:"text-sm text-primary"},Z={class:"p-4"},$={class:"text-sm text-primary"},tt={class:"p-4"},et={class:"text-sm text-primary"},st={class:"p-4"},it={class:"text-sm text-primary"},ot={class:"p-4"},nt={type:"button",class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 px-3"},at={class:"p-4 text-right"},rt={key:0,class:"p-4 text-center"};function dt(v,d,m,o,l,n){const _=g("font-awesome-icon"),u=g("router-link"),h=g("beak-loader"),p=y("motion-slide-left"),c=y("motion-slide-right");return r(),a("div",L,[t("div",T,[t("table",V,[d[1]||(d[1]=t("thead",null,[t("tr",null,[t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Sample ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Test(s) "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Patient "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client Patient ID "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Client "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Created "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Creator "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"}," Status "),t("th",{class:"h-9 px-4 text-left align-middle font-medium text-muted-foreground"})])],-1)),t("tbody",j,[(r(!0),a(b,null,R(o.analysisRequests,s=>(r(),a(b,{key:s.uid},[A((r(),a("tr",E,[t("td",z,[t("div",J,i(s.clientRequestId),1)])])),[[p]]),(r(!0),a(b,null,R(s.samples,e=>A((r(),a("tr",{key:e.uid,class:"border-b border-border"},[t("td",K,[e.priority??!0?(r(),a("span",{key:0,class:P(["text-sm",{"text-destructive":e.priority??!0}])},[f(_,{icon:"fa-star"})],2)):k("v-if",!0)]),t("td",O,[t("div",Q,[f(u,{to:{name:"sample-detail",params:{patientUid:s.patient?.uid,sampleUid:e?.uid}},class:"text-primary hover:underline"},{default:w(()=>[C(i(e.sampleId),1)]),_:2},1032,["to"])])]),t("td",G,[t("div",H,i(o.profileAnalysesText(e.profiles??[],e.analyses??[])),1)]),t("td",M,[t("div",W,i(s.patient?.firstName)+" "+i(s.patient?.lastName),1)]),t("td",X,[t("div",Y,i(s.patient?.clientPatientId),1)]),t("td",Z,[t("div",$,i(s.client?.name),1)]),t("td",tt,[t("div",et,i(o.parseDate(e?.createdAt)),1)]),t("td",st,[t("div",it,i(e?.createdBy?.firstName),1)]),t("td",ot,[t("button",nt,i(e.status),1)]),t("td",at,[f(u,{to:{name:"sample-detail",params:{patientUid:s.patient?.uid,sampleUid:e?.uid}},class:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3"},{default:w(()=>[...d[0]||(d[0]=[C(" View ",-1)])]),_:1},8,["to"])])])),[[c]])),128))],64))),128))])]),o.fetchingAnalysisRequests?(r(),a("div",rt,[f(h,{message:"Fetching Analysis Requests ..."})])):k("v-if",!0)])])}const mt=F(I,[["render",dt],["__file","/home/administrator/Documents/Development/beak-insights/beak/beak-lims/webapp/components/sample/BeakAnalyisRequestListing.vue"]]);export{mt as default};
