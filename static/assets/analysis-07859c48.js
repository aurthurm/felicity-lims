import{a6 as S,a_ as f,b8 as r,bo as w,bp as A,bq as y,br as B,bs as g,bt as p,ak as C,b3 as T}from"./index-00041ead.js";function v(){const n=S(),a=f(),{withClientMutation:o}=C(),{toastInfo:i}=T(),d=async t=>{try{await r.fire({title:"Are you sure?",text:"You want to cancel these analytes",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel now!",cancelButtonText:"No, do not cancel!"}).then(async e=>{e.isConfirmed&&o(w,{analyses:t},"cancelAnalysisResults").then(s=>{n.updateAnalysesResultsStatus(s.results),a.updateWorksheetResultsStatus(s.results)})})}catch{}},m=async t=>{try{await r.fire({title:"Are you sure?",text:"You want to reinstate analystes",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reinstate now!",cancelButtonText:"No, do not reinstate!"}).then(async e=>{e.isConfirmed&&o(A,{analyses:t},"reInstateAnalysisResults").then(s=>{n.updateAnalysesResultsStatus(s.results),a.updateWorksheetResultsStatus(s.results)})})}catch{}};function h(t){t.status==="pending"&&(t.result=t.editResult,o(y,[{uid:t.uid,result:t.result}],"submitAnalysisResults").then(e=>{i(e.message),n.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"submitting"),a.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"submitting")}))}return{submitResult:h,submitResults:async(t,e,s)=>{try{await r.fire({title:"Are you sure?",text:"You want to submit these results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit now!",cancelButtonText:"No, cancel submission!"}).then(async u=>{u.isConfirmed&&o(y,{analysisResults:t,sourceObject:e,sourceObjectUid:s},"submitAnalysisResults").then(l=>{i(l.message),n.backgroundProcessing(t,e==="sample"?s:void 0,"submitting"),a.backgroundProcessing(t,e==="worksheet"?s:void 0,"submitting")})})}catch{}},cancelResults:d,reInstateResults:m,approveResults:async(t,e,s)=>{try{await r.fire({title:"Are you sure?",text:"You want to approve these results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, approve now!",cancelButtonText:"No, cancel approval!"}).then(async u=>{u.isConfirmed&&o(B,{analyses:t,sourceObject:e,sourceObjectUid:s},"verifyAnalysisResults").then(l=>{i(l.message);const c=t.map(R=>({uid:R}));n.backgroundProcessing(c,e==="sample"?s:void 0,"approving"),a.backgroundProcessing(c,e==="worksheet"?s:void 0,"approving")})})}catch{}},retractResults:async t=>{try{await r.fire({title:"Are you sure?",text:"You want to retract these results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, retract now!",cancelButtonText:"No, cancel retraction!"}).then(async e=>{e.isConfirmed&&o(g,{analyses:t},"retractAnalysisResults").then(s=>{n.updateAnalysesResults(s.results),a.updateWorksheetResultsStatus(s.results)})})}catch{}},retestResults:async t=>{try{await r.fire({title:"Are you sure?",text:"You want to retest these results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, retest now!",cancelButtonText:"No, cancel retesting!"}).then(async e=>{e.isConfirmed&&o(p,{analyses:t},"retestAnalysisResults").then(s=>n.updateAnalysesResults(s.results))})}catch{}}}}export{v as u};
